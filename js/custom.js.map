{"version":3,"sources":["node_modules/browser-pack/_prelude.js","primo-explore/custom/41SLSP_UGE-VU2/js/main.js","primo-explore/custom/41SLSP_UGE-VU2/js/prm-alma-other-members-after/prm-alma-other-members-after.module.js","primo-explore/custom/41SLSP_UGE-VU2/js/prm-alma-other-members-after/slsp-collapse-other-inst/slsp-collapse-other-inst.controller.js","primo-explore/custom/41SLSP_UGE-VU2/js/prm-alma-other-members-after/slsp-collapse-other-inst/slsp-collapse-other-inst.module.js","primo-explore/custom/41SLSP_UGE-VU2/js/prm-alma-other-members-after/slsp-icon-label-other-members/slsp-icon-label-other-members.controller.js","primo-explore/custom/41SLSP_UGE-VU2/js/prm-alma-other-members-after/slsp-icon-label-other-members/slsp-icon-label-other-members.module.js","primo-explore/custom/41SLSP_UGE-VU2/js/prm-alma-other-units-after/prm-alma-other-units-after.module.js","primo-explore/custom/41SLSP_UGE-VU2/js/prm-alma-other-units-after/slsp-icon-label-other-units/slsp-icon-label-other-units.controller.js","primo-explore/custom/41SLSP_UGE-VU2/js/prm-alma-other-units-after/slsp-icon-label-other-units/slsp-icon-label-other-units.module.js","primo-explore/custom/41SLSP_UGE-VU2/js/prm-alma-viewit-items-after/prm-alma-viewit-items-after.module.js","primo-explore/custom/41SLSP_UGE-VU2/js/prm-alma-viewit-items-after/slsp-collapse-related-e-resources/slsp-collapse-related-e-resources.controller.js","primo-explore/custom/41SLSP_UGE-VU2/js/prm-alma-viewit-items-after/slsp-collapse-related-e-resources/slsp-collapse-related-e-resources.module.js","primo-explore/custom/41SLSP_UGE-VU2/js/prm-alma-viewit-items-after/slsp-icon-label-viewit-items/slsp-icon-label-viewit-items.controller.js","primo-explore/custom/41SLSP_UGE-VU2/js/prm-alma-viewit-items-after/slsp-icon-label-viewit-items/slsp-icon-label-viewit-items.module.js","primo-explore/custom/41SLSP_UGE-VU2/js/prm-full-view-after/prm-full-view-after.module.js","primo-explore/custom/41SLSP_UGE-VU2/js/prm-full-view-after/slsp-icon-label/slsp-icon-label.controller.js","primo-explore/custom/41SLSP_UGE-VU2/js/prm-full-view-after/slsp-icon-label/slsp-icon-label.module.js","primo-explore/custom/41SLSP_UGE-VU2/js/prm-loan-after/slsp-hide-rapido-loan-link/slsp-hide-rapido-loan-link.controller.js","primo-explore/custom/41SLSP_UGE-VU2/js/prm-loan-after/slsp-hide-rapido-loan-link/slsp-hide-rapido-loan-link.module.js","primo-explore/custom/41SLSP_UGE-VU2/js/prm-loan-after/slsp-loan-after.module.js","primo-explore/custom/41SLSP_UGE-VU2/js/prm-loan-after/slsp-renew-item-text/slsp-renew-item-text.controller.js","primo-explore/custom/41SLSP_UGE-VU2/js/prm-loan-after/slsp-renew-item-text/slsp-renew-item-text.module.js","primo-explore/custom/41SLSP_UGE-VU2/js/prm-location-holdings-after/prm-location-holdings-after.module.js","primo-explore/custom/41SLSP_UGE-VU2/js/prm-location-holdings-after/slsp-i-button/slsp-i-button.controller.js","primo-explore/custom/41SLSP_UGE-VU2/js/prm-location-holdings-after/slsp-i-button/slsp-i-button.module.js","primo-explore/custom/41SLSP_UGE-VU2/js/prm-location-items-after/eth-location-items-after.module.js","primo-explore/custom/41SLSP_UGE-VU2/js/prm-location-items-after/eth-mapongo/eth-config.service.js","primo-explore/custom/41SLSP_UGE-VU2/js/prm-location-items-after/eth-mapongo/eth-mapongo-check.controller.js","primo-explore/custom/41SLSP_UGE-VU2/js/prm-location-items-after/eth-mapongo/eth-mapongo-check.module.js","primo-explore/custom/41SLSP_UGE-VU2/js/prm-location-items-after/eth-mapongo/eth-mapongo-libraries.service.js","primo-explore/custom/41SLSP_UGE-VU2/js/prm-location-items-after/eth-mapongo/eth-mapongo.config.js","primo-explore/custom/41SLSP_UGE-VU2/js/prm-location-items-after/eth-mapongo/eth-mapongo.controller.js","primo-explore/custom/41SLSP_UGE-VU2/js/prm-location-items-after/eth-mapongo/eth-mapongo.module.js","primo-explore/custom/41SLSP_UGE-VU2/js/prm-location-items-after/slsp-icon-label-location-items/slsp-icon-label-location-items.controller.js","primo-explore/custom/41SLSP_UGE-VU2/js/prm-location-items-after/slsp-icon-label-location-items/slsp-icon-label-location-items.module.js","primo-explore/custom/41SLSP_UGE-VU2/js/prm-locations-after/eth-locations-after.module.js","primo-explore/custom/41SLSP_UGE-VU2/js/prm-locations-after/eth-locations-filter/eth-locations-filter.controller.js","primo-explore/custom/41SLSP_UGE-VU2/js/prm-locations-after/eth-locations-filter/eth-locations-filter.module.js","primo-explore/custom/41SLSP_UGE-VU2/js/prm-locations-after/slsp-collapse-related/slsp-collapse-related.controller.js","primo-explore/custom/41SLSP_UGE-VU2/js/prm-locations-after/slsp-collapse-related/slsp-collapse-related.module.js","primo-explore/custom/41SLSP_UGE-VU2/js/prm-locations-after/slsp-icon-label-locations/slsp-icon-label-locations.controller.js","primo-explore/custom/41SLSP_UGE-VU2/js/prm-locations-after/slsp-icon-label-locations/slsp-icon-label-locations.module.js","primo-explore/custom/41SLSP_UGE-VU2/js/prm-login-after/prm-login-after.module.js","primo-explore/custom/41SLSP_UGE-VU2/js/prm-login-after/slsp-login-box/slsp-login-box.controller.js","primo-explore/custom/41SLSP_UGE-VU2/js/prm-login-after/slsp-login-box/slsp-login-box.module.js","primo-explore/custom/41SLSP_UGE-VU2/js/prm-personal-info-after/slsp-edit-personal-details/slsp-edit-personal-details.controller.js","primo-explore/custom/41SLSP_UGE-VU2/js/prm-personal-info-after/slsp-edit-personal-details/slsp-edit-personal-details.module.js","primo-explore/custom/41SLSP_UGE-VU2/js/prm-personal-info-after/slsp-personal-info-after.module.js","primo-explore/custom/41SLSP_UGE-VU2/js/prm-request-after/bcu-fees-link/bcu-fees-link.controller.js","primo-explore/custom/41SLSP_UGE-VU2/js/prm-request-after/bcu-fees-link/bcu-fees-link.module.js","primo-explore/custom/41SLSP_UGE-VU2/js/prm-request-after/slsp-alma-request/slsp-alma-request.controller.js","primo-explore/custom/41SLSP_UGE-VU2/js/prm-request-after/slsp-alma-request/slsp-alma-request.module.js","primo-explore/custom/41SLSP_UGE-VU2/js/prm-request-after/slsp-request-after.module.js","primo-explore/custom/41SLSP_UGE-VU2/js/prm-requests-after/slsp-request-cancel-button/slsp-request-cancel-button.controller.js","primo-explore/custom/41SLSP_UGE-VU2/js/prm-requests-after/slsp-request-cancel-button/slsp-request-cancel-button.module.js","primo-explore/custom/41SLSP_UGE-VU2/js/prm-requests-after/slsp-requests-after.module.js","primo-explore/custom/41SLSP_UGE-VU2/js/prm-search-bar-after/bcu-search-bar-after.module.js","primo-explore/custom/41SLSP_UGE-VU2/js/prm-search-bar-after/bcu-search-slots/bcu-search-slots.controller.js","primo-explore/custom/41SLSP_UGE-VU2/js/prm-search-bar-after/bcu-search-slots/bcu-search-slots.module.js","primo-explore/custom/41SLSP_UGE-VU2/js/prm-service-button-after/prm-service-button-after.module.js","primo-explore/custom/41SLSP_UGE-VU2/js/prm-service-button-after/slsp-digitization-button-label/slsp-digitization-button-label.controller.js","primo-explore/custom/41SLSP_UGE-VU2/js/prm-service-button-after/slsp-digitization-button-label/slsp-digitization-button-label.module.js","primo-explore/custom/41SLSP_UGE-VU2/js/prm-service-details-after/eth-metagrid/eth-metagrid.config.js","primo-explore/custom/41SLSP_UGE-VU2/js/prm-service-details-after/eth-metagrid/eth-metagrid.controller.js","primo-explore/custom/41SLSP_UGE-VU2/js/prm-service-details-after/eth-metagrid/eth-metagrid.module.js","primo-explore/custom/41SLSP_UGE-VU2/js/prm-service-details-after/eth-metagrid/eth-metagrid.service.js","primo-explore/custom/41SLSP_UGE-VU2/js/prm-service-details-after/prm-service-details-after.module.js","primo-explore/custom/41SLSP_UGE-VU2/js/prm-service-ngrs-after/bcu-rapido-no-further-options/bcu-rapido-no-further-options.controller.js","primo-explore/custom/41SLSP_UGE-VU2/js/prm-service-ngrs-after/bcu-rapido-no-further-options/bcu-rapido-no-further-options.module.js","primo-explore/custom/41SLSP_UGE-VU2/js/prm-service-ngrs-after/prm-service-ngrs-after.module.js","primo-explore/custom/41SLSP_UGE-VU2/js/prm-service-ngrs-after/slsp-rapido-fees-link/slsp-rapido-fees-link.controller.js","primo-explore/custom/41SLSP_UGE-VU2/js/prm-service-ngrs-after/slsp-rapido-fees-link/slsp-rapido-fees-link.module.js","primo-explore/custom/41SLSP_UGE-VU2/js/prm-service-physical-best-offer-after/eth-disable-request-button/eth-disable-request-button.controller.js","primo-explore/custom/41SLSP_UGE-VU2/js/prm-service-physical-best-offer-after/eth-disable-request-button/eth-disable-request-button.module.js","primo-explore/custom/41SLSP_UGE-VU2/js/prm-service-physical-best-offer-after/prm-service-physical-best-offer-after.module.js","primo-explore/custom/41SLSP_UGE-VU2/js/prm-service-physical-best-offer-after/slsp-icon-label-rapido/slsp-icon-label-rapido.controller.js","primo-explore/custom/41SLSP_UGE-VU2/js/prm-service-physical-best-offer-after/slsp-icon-label-rapido/slsp-icon-label-rapido.module.js","primo-explore/custom/41SLSP_UGE-VU2/js/prm-service-physical-best-offer-after/slsp-rapido-digital-offer/slsp-rapido-digital-offer.controller.js","primo-explore/custom/41SLSP_UGE-VU2/js/prm-service-physical-best-offer-after/slsp-rapido-digital-offer/slsp-rapido-digital-offer.module.js","primo-explore/custom/41SLSP_UGE-VU2/js/prm-tabs-and-scopes-selector-after/bcu-scopes-selector/bcu-scopes-selector.controller.js","primo-explore/custom/41SLSP_UGE-VU2/js/prm-tabs-and-scopes-selector-after/bcu-scopes-selector/bcu-scopes-selector.module.js","primo-explore/custom/41SLSP_UGE-VU2/js/prm-tabs-and-scopes-selector-after/bcu-tabs-and-scopes-selector-after.module.js","primo-explore/custom/41SLSP_UGE-VU2/js/prm-user-area-expandable-after/bcu-lang-switch/bcu-lang-switch.controller.js","primo-explore/custom/41SLSP_UGE-VU2/js/prm-user-area-expandable-after/bcu-lang-switch/bcu-lang-switch.module.js","primo-explore/custom/41SLSP_UGE-VU2/js/prm-user-area-expandable-after/slsp-ill-signin-order-logged-out/slsp-ill-signin-order-logged-out.controller.js","primo-explore/custom/41SLSP_UGE-VU2/js/prm-user-area-expandable-after/slsp-ill-signin-order-logged-out/slsp-ill-signin-order-logged-out.module.js","primo-explore/custom/41SLSP_UGE-VU2/js/prm-user-area-expandable-after/slsp-ill-signin-order-logged-out/slsp-ill-signin-order-logged-out.service.js","primo-explore/custom/41SLSP_UGE-VU2/js/prm-user-area-expandable-after/slsp-user-area-expandable-after.module.js","primo-explore/custom/41SLSP_UGE-VU2/js/slsp-archives-htgi/index.js","primo-explore/custom/41SLSP_UGE-VU2/js/slsp-archives-htgi/js/slsp-archives-htgi.module.js","primo-explore/custom/41SLSP_UGE-VU2/js/slsp-archives-viewit/index.js","primo-explore/custom/41SLSP_UGE-VU2/js/slsp-archives-viewit/js/slsp-archives-viewit.module.js","primo-explore/custom/41SLSP_UGE-VU2/js/slsp-http-intercept-pickup-information/index.js","primo-explore/custom/41SLSP_UGE-VU2/js/slsp-http-intercept-pickup-information/js/slsp-http-intercept-pickup-information.module.js","primo-explore/custom/41SLSP_UGE-VU2/js/slsp-http-intercept-requests/index.js","primo-explore/custom/41SLSP_UGE-VU2/js/slsp-http-intercept-requests/js/slsp-http-intercept-requests.module.js","primo-explore/custom/41SLSP_UGE-VU2/js/slsp-ill-signin-order-alert/index.js","primo-explore/custom/41SLSP_UGE-VU2/js/slsp-ill-signin-order-alert/js/slsp-ill-signin-order-alert.module.js","primo-explore/custom/41SLSP_UGE-VU2/js/unige-bib-news/module/unige-bib-news.config.js","primo-explore/custom/41SLSP_UGE-VU2/js/unige-bib-news/module/unige-bib-news.controller.js","primo-explore/custom/41SLSP_UGE-VU2/js/unige-bib-news/module/unige-bib-news.service.js","primo-explore/custom/41SLSP_UGE-VU2/js/unige-bib-news/module/unige-config.service.js","primo-explore/custom/41SLSP_UGE-VU2/js/unige-bib-news/unige-bib-news.module.js","primo-explore/custom/41SLSP_UGE-VU2/js/unige-ill-open-url/index.js","primo-explore/custom/41SLSP_UGE-VU2/js/unige-ill-open-url/js/unige-ill-open-url.module.js","primo-explore/custom/41SLSP_UGE-VU2/js/unige-non-circulating-label/index.js","primo-explore/custom/41SLSP_UGE-VU2/js/unige-non-circulating-label/js/unige-non-circulating-label.module.js"],"names":["r","e","n","t","o","i","f","c","require","u","a","Error","code","p","exports","call","length","1","module","angular","_slspCollapseOtherInst","_slspIconLabelOtherMembers","prmAlmaOtherMembersAfterModule","component","bindings","parentCtrl","template","requires","push","slspCollapseOtherInstModule","name","slspIconLabelOtherMembersModule","slspCollapseOtherInstController","$scope","$compile","_classCallCheck","this","noItemAtPickupLocation","afterCtrl","serviceMode","isCollapsed","availabilityType","document","querySelectorAll","element","prepend","addClass","console","error","message","$inject","controller","slspIconLabelOtherMembersController","$timeout","_this","iconLabelOtherMembersE","iconLabelOtherMembersP2","_slspIconLabelOtherUnits","prmAlmaOtherUnitsAfterModule","slspIconLabelOtherUnitsModule","slspIconLabelOtherUnitsController","iconLabelOtherUnitsE","_slspIconLabelViewitItems","_slspCollapseRelatedEResources","prmAlmaViewitItemsAfterModule","slspIconLabelViewitItemsModule","slspCollapseRelatedEResourcesModule","slspCollapseRelatedEResourcesController","list2Element","buttonElement","titleParentElement","serviceType","querySelector","classList","add","createElement","innerHTML","addEventListener","toggle","parentNode","replaceChild","slspIconLabelViewitItemsController","iconLabelViewitItems","iconLabelRidOff","detach","_slspIconLabel","prmFullViewAfterModule","slspIconLabelModule","slspIconLabelController","slspHideRapidoLoanLinkController","$element","itemType","itemBarcode","hideTitle","item","itembarcode","loansService","requestParams","type","includes","setTitle","title","parent","_slspHideRapidoLoanLink","slspHideRapidoLoanLinkModule","_slspRenewItemText","slspLoanAfterModule","slspRenewItemTextModule","slspRenewItemTextController","getRenewText","undefined","renewstatuses","renewstatus","_slspIButton","prmLocationHoldingsAfterModule","slspIButtonModule","slspIButtonController","$rootScope","biblinkBase","getLibrary","bind","getLibraryCode","getLanguage","currLoc","location","librarycodeTranslation","libraryCode","sms","$$childHead","$ctrl","userSessionManagerService","getUserLanguage","$window","appConfig","interfaceLanguage","addSpecialInfoClass","_ethMapongoCheck","_ethMapongo","_slspIconLabelLocationItems","ethLocationItemsAfterModule","ethMapongoCheckModule","ethMapongoModule","slspIconLabelLocationItemsModule","ethConfigService","getLabel","config","key","lang","label","getUrl","url","ethMapongoCheckController","ethMapongoLibrariesService","isMapongoLibrary","noLocationItemAfter","locationItemAfter","parentElement","getElementsByTagName","loc","aPrmLocationItemAfter","slice","recordid","pnx","control","sourcerecordid","items","addCallnumberEntry","barcodeEntry","prmLocationItemAfter","isMapongoSubLocation","_additionalData","secondarylocationname","isAvailable","itemstatusname","subLocationCode","getSubLocationCode","callnumber","fullItemFields","filter","indexOf","addCallnumber","replace","barcode","append","_ethMapongoLibraries","factory","libraries","shortname","baseUrl","locationCodeWhiteList","locationWhiteList","availabilityStatus","l","subLocation","getBaseUrl","lib","filterLibraries","s","ethMapongoConfig","qrc","de","en","fr","ethMapongoController","src","encodeURIComponent","sublocation","_ethConfig","_ethMapongo2","slspIconLabelLocationItemsController","iconLabelLocationItems","iconLabelLocationItems3","iconLabelLocationItems2","serviceScrollId","_ethLocationsFilter","_slspIconLabelLocations","_slspCollapseRelated","ethLocationsAfterModule","ethLocationsFilterModule","slspIconLabelLocationsModule","slspCollapseRelatedModule","ethLocationsFilterController","$watch","newValue","oldValue","scope","isLocationsFilterVisible","slspCollapseRelatedController","isArray","locations","relatedLocationsListLimit","slspIconLabelLocationsController","iconLabelLocations","iconLabelLocations3","iconLabelLocations2","_slspLoginBox","prmLoginAfterModule","slspLoginBoxModule","slspLoginBoxController","authMeth1","authMeth2","log","slspEditPersonalDetailsController","$root","getInterfaceLanguage","detailsBaseEdu","detailsBaseReg","exclude","grpA","grpB","getPatronGrp","personalInfoService","personalInfo","patron","patronstatus","registration","institution","patronstatuscode","grpLabelA","labelA","grpLabelB","labelB","buttonMove","_slspEditPersonalDetails","slspEditPersonalDetailsModule","slspPersonalInfoAfterModule","bcuFeesLinkController","form","display","info","children","className","$translate","instant","insertBefore","_bcuFeesLink","bcuFeesLinkModule","slspAlmaRequestController","requestLoan","requestDigi","removeClass","_slspAlmaRequest","slspAlmaRequestModule","slspRequestAfterModule","slspRequestCancelButtonController","currentRequestArray","forEach","request","requestType","statusCode","isCancelable","_slspRequestCancelButton","slspRequestCancelButtonModule","slspRequestsAfterModule","_bcuSearchSlots","bcuSearchBarAfterModule","bcuSearchSlotsModule","bcuSearchSlotsController","showTabsAndScopes","_slspDigitizationButtonLabel","prmServiceButtonAfterModule","slspDigitizationButtonLabelModule","slspDigitizationButtonLabelController","digiButtonLabel","_digiButtonLabel","digiItemButtonLabel","service","after","ethMetagridConfig","whitelist","hallernet","it","fotostiftung","sikart","elites-suisses-au-xxe-siecle","bsg","dodis","helveticat","hls-dhs-dss","histoirerurale","lonsea","ssrq","alfred-escher","geschichtedersozialensicherheit","ethMetagridController","ethMetagridService","provider","id","getConcordances","then","data","concordances","resources","metagridId","persons","find","x","person","whitelistedMetagridLinks","whitelistedMetagridLinksSorted","metadata","last_name","first_name","j","resource","slug","link","uri","concat","hls","rest","metagridLinks","lds03","lds90","gndIds","idrefIds","isDefined","part","_part","_i","substring","_part2","_part3","_i2","gndId","lastIndexOf","buildMetalinkLinks","idrefId","_ethMetagrid","_ethMetagrid2","_ethMetagrid3","ethMetagridModule","$http","$sce","metagridService","baseurl","trustAsResourceUrl","get","response","httpError","status","errorMessage","prmServiceDetailsAfterModule","bcuRapidoNoFurtherOptionsController","msg","almaRSServiceAvailable","isi","isSignedIn","rapidoSection","getElementById","rapidoTOC","hasClass","_bcuRapidoNoFurtherOptions","bcuRapidoNoFurtherOptionsModule","_slspRapidoFeesLink","prmServiceNgrsAfterModule","slspRapidoFeesLinkModule","slspRapidoFeesLinkController","rapidoFeesLink","html","ethDisableRequestButtonController","processDoCheck","requestButton","attr","_ethDisableRequestButton","ethDisableRequestButtonModule","_slspRapidoDigitalOffer","_slspIconLabelRapido","prmServicePhysicalBestOfferAfterModule","slspRapidoDigitalOfferModule","slspIconLabelRapidoModule","slspIconLabelRapidoController","iconLabel","iconLabel2","isdigitaloffer","slspRapidoDigitalOfferController","loaderTemplate","isDone","loadingText","Array","from","text","contains","tilesplaceholderactive","rapidoCosts","bestoffer","unavailableInAllMembersPod","unavailableResource","reservation","podId","readingRoomPod","bcuScopesSelectorController","setTimeout","searchScopes","_typeof","onclick","getElementsByClassName","click","_bcuScopesSelector","bcuScopesSelectorModule","bcuTabsAndScopesSelectorAfterModule","bcuLangSwitchController","$parent","languages","changeLanguage","changeLangService","addLangParamToUrl","i18nService","setLanguage","$state","go","current","reload","_bcuLangSwitch","bcuLangSwitchModule","slspIllSigninOrderLoggedOutController","slspIllSigninOrderLoggedOutService","usrNme","isGuest","_slspIllSigninOrderLoggedOut","_slspIllSigninOrderLoggedOut2","slspIllSigninOrderLoggedOutModule","jwtHelper","getDecodedToken","sessionStorage","jwt","getItem","decodeToken","decodedToken","userGroup","userName","slspUserAreaExpandableAfterModule","$onInit","source","sourceid","guid","originalsourceid","delivery","GetIt1","links","isLinktoOnline","translation","fullView","availabilityLine","changeButton","result","changeButtonText","$doCheck","button","slspHttpInterceptPickupInformation","$httpProvider","interceptors","$q","_request","requestError","reject","responseError","_response","test","jwtUtilService","personalDelivery","slspHttpInterceptRequests","injector","window","list_of_hold_states","list_of_photocopy_states","Object","keys","list_of_hold_states_regexp","RegExp","map","m","toLowerCase","join","holds","hold","holdstatus","cancel","list_of_photocopy_states_regexp","photocopies","photocopy","requeststatus","vm","getAlert","ga","almaHowToGetitService","reqAlert","_htmlMsg","myEl2","unigeBibNewsConfig","heading","more","all","unigeBibNewsController","unigeConfigService","unigeBibNewsService","getNews","allNewsUrl","news","entries","div","trustAsHtml","textContent","headers","X-From-ExL-API-Gateway","_unigeConfig","_unigeBibNews","_unigeBibNews2","_unigeBibNews3","unigeBibNewsModule","$location","request_service","path","search","requestService","formFields","param_map","openurl_param","pages_range","comment","fields","_defineProperty","_param_map","articleTitle","journalTitle","formData","events","onClick","field","author","isLoggedIn","itemLocations","itemFields"],"mappings":"CAAA,SAAAA,EAAAC,EAAAC,EAAAC,GAAA,SAAAC,EAAAC,EAAAC,GAAA,IAAAJ,EAAAG,GAAA,CAAA,IAAAJ,EAAAI,GAAA,CAAA,IAAAE,EAAA,mBAAAC,SAAAA,QAAA,IAAAF,GAAAC,EAAA,OAAAA,EAAAF,GAAA,GAAA,GAAAI,EAAA,OAAAA,EAAAJ,GAAA,GAAA,MAAAK,EAAA,IAAAC,MAAA,uBAAAN,EAAA,MAAAO,KAAA,mBAAAF,EAAAG,EAAAX,EAAAG,GAAA,CAAAS,QAAA,IAAAb,EAAAI,GAAA,GAAAU,KAAAF,EAAAC,QAAA,SAAAd,GAAA,OAAAI,EAAAH,EAAAI,GAAA,GAAAL,IAAAA,IAAAa,EAAAA,EAAAC,QAAAd,EAAAC,EAAAC,EAAAC,GAAA,OAAAD,EAAAG,GAAAS,QAAA,IAAA,IAAAL,EAAA,mBAAAD,SAAAA,QAAAH,EAAA,EAAAA,EAAAF,EAAAa,OAAAX,IAAAD,EAAAD,EAAAE,IAAA,OAAAD,EAAA,CAAA,CAAAa,EAAA,CAAA,SAAAT,EAAAU,EAAAJ,gBCCAN,EAAA,iCACAA,EAAA,yBACAA,EAAA,8BACAA,EAAA,wBACAA,EAAA,0BACAA,EAAA,kCACAA,EAAA,oCACAA,EAAA,oBACAA,EAAA,6BACAA,EAAA,kCACAA,EAAA,4BACAA,EAAA,2CACAA,EAAA,4CACAA,EAAA,0BACAA,EAAA,wCACAA,EAAA,8BACAA,EAAA,+BACAA,EAAA,yBACAA,EAAA,uBACAA,EAAA,wBACAA,EAAA,iCACAA,EAAA,gCACAA,EAAA,qBACAA,EAAA,iCACAA,EAAA,oBACAA,EAAA,wBACAA,EAAA,iCAEUW,QAAQD,OAAO,aAAc,CAAC,cAAe,0BAA2B,0BAA2B,8BAA+B,mBAAoB,qBAAsB,4BAA6B,oCAAqC,sBAAuB,8BAA+B,iCAAkC,4BAA6B,yCAA0C,qCAAsC,0BAA2B,sCAAuC,8BAA+B,+BAAgC,yBAA0B,yBAA0B,0BAA2B,gCAAiC,+BAAgC,sBAAuB,iCAAkC,qBAAsB,kBAAmB,8B,o9BC5BhzB,IAAAE,EAAAZ,EAAA,8DACAa,EAAAb,EAAA,wEAEac,EAAAR,EAAAQ,+BAAiCH,QACzCD,OAAO,iCAAkC,IACrCK,UAAU,2BAA6B,CACpCC,SAAU,CAACC,WAAY,KACvBC,SAAA,kSAGZJ,EAA+BK,SAASC,KAAKR,EAAAS,4BAA4BC,MACzER,EAA+BK,SAASC,KAAKP,EAAAU,gCAAgCD,O,gcCLzE,SAAAE,EAAaC,EAAQC,I,4FAAUC,CAAAC,KAAAJ,GAC3BI,KAAKH,OAASA,EACdG,KAAKF,SAAWA,G,EAJXF,iC,qCAQL,IAGI,IASgBK,EAXhBD,KAAKX,WAAaW,KAAKE,UAAUb,WAEG,WAAhCW,KAAKX,WAAWc,YAEhBH,KAAKX,WAAWe,aAAc,GAG9BJ,KAAKX,WAAWe,aAAc,EAEU,KAApCJ,KAAKX,WAAWgB,mBACZL,KAAKC,uBAAyBA,EAC1BA,EAAyBK,SAASC,iBAAT,4DAGzBxB,QAAQyB,QAAQP,GAAwBQ,QAAQT,KAAKF,SAFrD,mKAEgDE,CAA0CA,KAAKH,SAASa,SAAS,4BAOrI,MAAO7C,GACH8C,QAAQC,MAAM,oEACdD,QAAQC,MAAM/C,EAAEgD,c,IAMIC,QAAW,CAAC,SAAU,a,0HC1ClD9B,EAAAZ,EAAA,yCAGaM,EAAAe,4BAA8BV,QACtCD,OAAO,8BAA+B,IAClCiC,WAAW,kCAAmC/B,EAAAY,iCAC9CT,UAAU,iCAAkC,CACzCC,SAAU,CAACc,UAAW,KACtBa,WAAY,kCACZzB,S,4WCHZ,SAAA0B,EAAanB,EAAQC,EAAUmB,I,4FAAWlB,CAAAC,KAAAgB,GACtChB,KAAKH,OAASA,EACdG,KAAKF,SAAWA,EAChBE,KAAKiB,SAAWA,G,EALXD,qC,qCAUC,IAAAE,EAAAlB,KACN,IACIA,KAAKiB,SAAS,WAGV,IAGYE,EAUJC,EAfRF,EAAK7B,WAAa6B,EAAKhB,UAAUb,WAEO,KAApC6B,EAAK7B,WAAWgB,mBAEZa,EAAKC,uBAAyBA,EAC1BA,EAAyBb,SAASC,iBAAT,6KAGzBxB,QAAQyB,QAAQW,GAAwBV,QAAQS,EAAKpB,SAFrD,wqCAEgDoB,CAAiCA,EAAKrB,SAASa,SAAS,wBAG5E,KAApCQ,EAAK7B,WAAWgB,mBAGhBa,EAAKE,wBAA0BA,EAC3BA,EAA0Bd,SAASC,iBAAT,6KAG1BxB,QAAQyB,QAAQY,GAAyBX,QAAQS,EAAKpB,SAFtD,gvDAEiDoB,CAAkCA,EAAKrB,SAASa,SAAS,0BAMpH,GAGN,MAAM7C,GACF8C,QAAQC,MAAM,4CACdD,QAAQC,MAAM/C,EAAEgD,c,IAMQC,QAAW,CAAE,SAAU,WAAY,a,8HCpDnE7B,EAAAb,EAAA,8CAGaM,EAAAiB,gCAAkCZ,QAC1CD,OAAO,kCAAmC,IACtCiC,WAAW,sCAAuC9B,EAAA+B,qCAClD7B,UAAU,qCAAsC,CAC7CC,SAAU,CAACc,UAAW,KACtBa,WAAY,sCACZzB,S,mLCVhB+B,EAAAjD,EAAA,qEAEaM,EAAA4C,6BAA+BvC,QACvCD,OAAO,+BAAgC,IACvCK,UAAU,yBAA0B,CACjCC,SAAU,CAAEC,WAAY,KACxBC,SAAA,+LAIqBC,SAASC,KAAK6B,EAAAE,8BAA8B7B,O,6XCLrE,SAAA8B,EAAY3B,EAAQC,EAAUmB,I,4FAAUlB,CAAAC,KAAAwB,GACpCxB,KAAKH,OAASA,EACdG,KAAKF,SAAWA,EAChBE,KAAKiB,SAAWA,G,EALXO,mC,qCAUC,IAAAN,EAAAlB,KACN,IACIA,KAAKiB,SAAS,WACVC,EAAK7B,WAAa6B,EAAKhB,UAAUb,WAEjC,IAAIoC,EAAuBnB,SAASC,iBAAT,iEAG3BxB,QAAQyB,QAAQiB,GAAsBhB,QAAQS,EAAKpB,SAF/C,wqCAE0CoB,CAA+BA,EAAKrB,SAASa,SAAS,qBAGpGQ,EAAK7B,WAAWe,aAAc,GAG/B,GACL,MAAOvC,GACL8C,QAAQC,MAAM,sCACdD,QAAQC,MAAM/C,EAAEgD,c,IAMMC,QAAU,CAAC,SAAU,WAAY,a,4HCpCnEO,EAAAjD,EAAA,4CAGaM,EAAA6C,8BAAgCxC,QACxCD,OAAO,gCAAiC,IACxCiC,WAAW,oCAAqCM,EAAAG,mCAChDrC,UAAU,mCAAoC,CAC3CC,SAAU,CAAEc,UAAW,KACvBa,WAAY,oCACZzB,S,mLCTR,IAAAoC,EAAAtD,EAAA,sEACAuD,EAAAvD,EAAA,gFAEawD,EAAAlD,EAAAkD,8BAAgC7C,QACxCD,OAAO,gCAAiC,IACxCK,UAAU,0BAA2B,CAClCC,SAAU,CAAEC,WAAY,KACxBC,SAAA,4VAMRsC,EAA8BrC,SAASC,KAAKkC,EAAAG,+BAA+BnC,MAC3EkC,EAA8BrC,SAASC,KAAKmC,EAAAG,oCAAoCpC,O,mdCV5E,SAAAqC,EAAYlC,EAAQC,EAAUmB,I,4FAAUlB,CAAAC,KAAA+B,GACpC/B,KAAKH,OAASA,EACdG,KAAKF,SAAWA,EAChBE,KAAKiB,SAAWA,G,EAJXc,yC,qCAOC,IAAAb,EAAAlB,KACN,IACIA,KAAKiB,SAAS,WAGV,IACUe,EAGAC,EAUAC,EAhBVhB,EAAK7B,WAAa6B,EAAKhB,UAAUb,WAEG,uBAAhC6B,EAAK7B,WAAW8C,eACVH,EAAe1B,SAAS8B,cAAc,qJAC/BC,UAAUC,IAAI,cAErBL,EAAgB3B,SAASiC,cAAc,WAC/BF,UAAUC,IAAI,gBAAiB,YAAa,wBAAyB,gBAAiB,cAAe,aACnHL,EAAcO,UAAd,gyBAEAP,EAAcQ,iBAAiB,QAAS,WACpCT,EAAaK,UAAUK,OAAO,aAC9BT,EAAcG,cAAc,eAAeC,UAAUK,OAAO,gBAI1DR,EADe5B,SAAS8B,cAAc,wEACJO,YACWA,WAC3BC,aAAaX,EAAeC,GAGpDhB,EAAKD,SAAS,WACVC,EAAKpB,SAASmC,EAAdf,CAA6BA,EAAKrB,YAQ3C,IACL,MAAOhC,GACL8C,QAAQC,MAAM,4CACdD,QAAQC,MAAM/C,EAAEgD,c,IAOYC,QAAU,CAAC,SAAU,WAAY,a,mICrDzEa,EAAAvD,EAAA,kDAEaM,EAAAoD,oCAAsC/C,QAC9CD,OAAO,sCAAuC,IAC9CiC,WAAW,0CAA2CY,EAAAI,yCACtD5C,UAAU,yCAA0C,CACjDC,SAAU,CAAEc,UAAW,KACvBa,WAAY,6C,6WCAhB,SAAA8B,EAAahD,EAAQC,EAAUmB,I,4FAAWlB,CAAAC,KAAA6C,GACtC7C,KAAKH,OAASA,EACdG,KAAKF,SAAWA,EAChBE,KAAKiB,SAAWA,G,EALX4B,oC,qCAUC,IAAA3B,EAAAlB,KACN,IACIA,KAAKiB,SAAS,WAGV,IAGY6B,EAEAC,EAPZ7B,EAAK7B,WAAa6B,EAAKhB,UAAUb,WAEE,cAA/B6B,EAAK7B,WAAW8C,cAEZjB,EAAK4B,qBAAuBA,EACxBA,EAAuBxC,SAASC,iBAAiB,oJAEjDwC,EAAkBzC,SAASC,iBAAiB,wBAC5CxB,QAAQyB,QAAQuC,GAAiBC,SACjCjE,QAAQyB,QAAQsC,GAAsBrC,QAAQS,EAAKpB,SAHnD,wqCAG8CoB,CAA+BA,EAAKrB,SAASa,SAAS,uBAOlH,GAGN,MAAM7C,GACF8C,QAAQC,MAAM,4CACdD,QAAQC,MAAM/C,EAAEgD,c,IAMOC,QAAW,CAAE,SAAU,WAAY,a,8HC5ClEY,EAAAtD,EAAA,6CAGaM,EAAAmD,+BAAiC9C,QACzCD,OAAO,iCAAkC,IACrCiC,WAAW,qCAAsCW,EAAAmB,oCACjD1D,UAAU,oCAAqC,CAC5CC,SAAU,CAACc,UAAW,KACtBa,WAAY,qCACZzB,S,8KCThB2D,EAAA7E,EAAA,6CAEaM,EAAAwE,uBAAyBnE,QACjCD,OAAO,yBAA0B,IAC7BK,UAAU,mBAAqB,CAC5BC,SAAU,CAACC,WAAY,KACvBC,SAAA,yJAGmBC,SAASC,KAAKyD,EAAAE,oBAAoBzD,O,uWCL7D,SAAA0D,EAAYvD,EAAQC,EAAUmB,I,4FAAUlB,CAAAC,KAAAoD,GACpCpD,KAAKH,OAASA,EACdG,KAAKF,SAAWA,EAChBE,KAAKiB,SAAWA,G,EALXmC,yB,qCAUC,IAAAlC,EAAAlB,KACN,IACIA,KAAKiB,SAAS,WACVC,EAAK7B,WAAa6B,EAAKhB,UAAUb,YA0BlC,KACL,MAAOxB,GACL8C,QAAQC,MAAM,4CACdD,QAAQC,MAAM/C,EAAEgD,c,IAMJC,QAAU,CAAC,SAAU,WAAY,a,mHClDrDmC,EAAA7E,EAAA,gCAGaM,EAAAyE,oBAAsBpE,QAC9BD,OAAO,sBAAuB,IAC1BiC,WAAW,0BAA2BkC,EAAAG,yBACtCjE,UAAU,yBAA0B,CACjCC,SAAU,CAACc,UAAW,KACtBa,WAAY,0BACZzB,S,qWCTZ,SAAA+D,EAAYC,I,4FAAUvD,CAAAC,KAAAqD,GAClBrD,KAAKuD,SAAW,KAChBvD,KAAKwD,YAAc,KACnBxD,KAAKyD,WAAY,EACjBzD,KAAKsD,SAAWA,G,EALXD,kC,qCASL,IACIrD,KAAKX,WAAaW,KAAKE,UAAUb,WACjCW,KAAKwD,YAAcxD,KAAKX,WAAWqE,KAAKC,YACxC3D,KAAKuD,SAAWvD,KAAKX,WAAWuE,aAAaC,cAAcC,KAErC,WAAlB9D,KAAKuD,WAA0BvD,KAAKwD,YAAYO,SAAS,WAAa/D,KAAKwD,YAAYO,SAAS,aAChG/D,KAAKgE,SAEL,WACI,OAAOhE,KAAKX,WAAWqE,KAAKO,OAGhCjE,KAAKyD,WAAY,EAGjBzD,KAAKsD,SAASY,SAASA,SAASxD,SAAS,eAI/C,MAAO7C,GACL8C,QAAQC,MAAM,qEACdD,QAAQC,MAAM/C,EAAEgD,c,IAIKC,QAAU,CAAC,a,4HClC5CqD,EAAA/F,EAAA,2CAGaM,EAAA0F,6BAA+BrF,QACvCD,OAAO,+BAAgC,IACvCiC,WAAW,mCAAoCoD,EAAAd,kCAC/ClE,UAAU,kCAAmC,CAC1CC,SAAU,CAAEc,UAAW,KACvBa,WAAY,mCACZzB,S,sVCTR,IAAA+E,EAAAjG,EAAA,sDACA+F,EAAA/F,EAAA,kEAGakG,EAAA5F,EAAA4F,oBAAsBvF,QAC9BD,OAAO,sBAAuB,IAC9BK,UAAU,eAAgB,CACvBC,SAAU,CAAEC,WAAY,KACxBC,SAAA,kSAMRgF,EAAoB/E,SAASC,KAAK6E,EAAAE,wBAAwB7E,MAC1D4E,EAAoB/E,SAASC,KAAK2E,EAAAC,6BAA6B1E,O,qbCX3D,SAAA8E,K,4FAAczE,CAAAC,KAAAwE,I,EAFLA,6B,qCAOL,IACIxE,KAAKX,WAAaW,KAAKE,UAAUb,WACjCW,KAAKyE,aAEL,WACI,QAA2CC,IAAvC1E,KAAKX,WAAWqE,KAAKiB,oBAAqFD,IAAtD1E,KAAKX,WAAWqE,KAAKiB,cAAcC,YAAY,GACnG,OAAO5E,KAAKX,WAAWqE,KAAKiB,cAAcC,YAAY,IAQhE,MAAO/G,GACL8C,QAAQC,MAAM,gEACdD,QAAQC,MAAM/C,EAAEgD,c,IAKAC,QAAU,I,uHCzBlCuD,EAAAjG,EAAA,qCAGaM,EAAA6F,wBAA0BxF,QAClCD,OAAO,0BAA2B,IAC9BiC,WAAW,8BAA+BsD,EAAAG,6BAC1CrF,UAAU,6BAA8B,CACrCC,SAAU,CAACc,UAAW,KACtBa,WAAY,8BACZzB,S,sWCdhBuF,EAAAzG,EAAA,yCAIaM,EAAAoG,+BAAiC/F,QACzCD,OAAO,iCAAkC,IACzCK,UAAU,2BAA4B,CACnCC,SAAU,CAAEC,WAAY,KACxBC,SAAA,uNAUuBC,SAASC,KAAKqF,EAAAE,kBAAkBrF,O,mWChB3D,SAAAsF,EAAYnF,EAAQoF,I,4FAAYlF,CAAAC,KAAAgF,GAC5BhF,KAAKH,OAASA,EAEdG,KAAKiF,WAAaA,EAElBjF,KAAKkF,YAAc,oD,EAPdF,uB,qCAWLhF,KAAKX,WAAaW,KAAKE,UAAUb,WACjCW,KAAKmF,WAAanF,KAAKmF,WAAWC,KAAKpF,MACvCA,KAAKqF,eAAiBrF,KAAKqF,eAAeD,KAAKpF,MAC/CA,KAAKsF,YAActF,KAAKsF,YAAYF,KAAKpF,Q,mCAIzC,QAAgC0E,IAA5B1E,KAAKX,WAAWkG,cAA8Db,IAArC1E,KAAKX,WAAWkG,QAAQC,SACjE,OAAOxF,KAAKX,WAAWkG,QAAQC,SAASC,yB,uCAO5C,QAAgCf,IAA5B1E,KAAKX,WAAWkG,cAA8Db,IAArC1E,KAAKX,WAAWkG,QAAQC,SACjE,OAAOxF,KAAKX,WAAWkG,QAAQC,SAASE,c,oCAQ5C,IAAIC,EAAM3F,KAAKiF,WAAWW,YAAYC,MAAMC,0BAC5C,OAAKH,EAGMA,EAAII,mBAAqBC,QAAQC,UAAU,cAAc,kBAAkBC,kBAF3E,O,uCAOX,IAAIC,EAAsB7F,SAASC,iBAAiB,sBACpDxB,QAAQyB,QAAQ2F,GAAqBzF,SAAS,4B,IAKhCI,QAAU,CAAC,SAAU,e,iHClDvC+D,EAAAzG,EAAA,8BAIaM,EAAAqG,kBAAoBhG,QAC5BD,OAAO,oBAAqB,IAC5BiC,WAAW,wBAAyB8D,EAAAG,uBACpC7F,UAAU,uBAAwB,CAC/BC,SAAU,CAAEc,UAAW,KACvBa,WAAY,wBACZzB,S,+lECVZ,IAAA8G,EAAAhI,EAAA,0CACAiI,EAAAjI,EAAA,oCACAkI,EAAAlI,EAAA,0EAGamI,EAAA7H,EAAA6H,4BAA8BxH,QACtCD,OAAO,8BAA+B,IACtCK,UAAU,wBAAyB,CAChCC,SAAU,CAAEC,WAAY,KACxBC,SAAA,oSAQRiH,EAA4BhH,SAASC,KAAK4G,EAAAI,sBAAsB9G,MAChE6G,EAA4BhH,SAASC,KAAK6G,EAAAI,iBAAiB/G,MAC3D6G,EAA4BhH,SAASC,KAAK8G,EAAAI,iCAAiChH,O,mPCP9DhB,EAAAiI,iBAAmB,CAAC,aAAc,SAAU1B,GA+DrD,MAAO,CACHK,YA9DJ,WACI,IACI,IAAIK,EAAMV,EAAWW,YAAYC,MAAMC,0BACvC,OAAKH,EAKMA,EAAII,mBAAqBC,QAAQC,UAAU,cAAc,kBAAkBC,mBAJlFvF,QAAQC,MAAM,uEACP,MAMf,MAAM/C,GAGF,OAFA8C,QAAQC,MAAM,+DACdD,QAAQC,MAAM/C,EAAEgD,SACT,OAiDX+F,SA5CJ,SAAkBC,EAAQC,GACtB,IACI,IAAIC,EAAO/G,KAAKsF,cAChB,OAAKuB,EAAOG,MAAMF,GAIfD,EAAOG,MAAMF,GAAKC,IAIVF,EAAOG,MAAMF,GAAb,IAPPnG,QAAQC,MAAM,yCAA2CkG,EAAM,mBACxDA,GASf,MAAMjJ,GAGF,OAFA8C,QAAQC,MAAM,4DACdD,QAAQC,MAAM/C,EAAEgD,SACT,KA4BXoG,OAxBJ,SAAgBJ,EAAQC,GACpB,IACI,IAAIC,EAAO/G,KAAKsF,cAChB,OAAKuB,EAAOK,IAAIJ,GAIbD,EAAOK,IAAIJ,GAAKC,IAIRF,EAAOK,IAAIJ,GAAX,IAPPnG,QAAQC,MAAM,uCAAyCkG,EAAM,mBACtD,IASf,MAAMjJ,GAGF,OAFA8C,QAAQC,MAAM,0DACdD,QAAQC,MAAM/C,EAAEgD,SACT,S,0TCrEf,SAAAsG,EAAatH,EAAQC,EAAUwD,EAAU8D,I,4FAA6BrH,CAAAC,KAAAmH,GAClEnH,KAAKH,OAASA,EACdG,KAAKF,SAAWA,EAChBE,KAAKsD,SAAWA,EAChBtD,KAAKoH,2BAA6BA,EAClCpH,KAAKqH,kBAAmB,EACxBrH,KAAKsH,oBAAsB,G,EARtBH,2B,qCAYLnH,KAAKX,WAAaW,KAAKE,UAAUb,a,iCAIjC,IAEI,IAAIkI,EAAoBvH,KAAKsD,SAAS,GAAGkE,cAAcA,cAAcC,qBAAqB,2BACtFH,EAAsBC,EAAkB3I,OAC5C,GAAG0I,GAAuBtH,KAAKsH,oBAC3B,OAKJ,GAHAtH,KAAKsH,oBAAsBA,GAGvBtH,KAAKqH,iBAAiB,OAC1B,IAAKrH,KAAKoH,2BAA2BC,iBAAiBrH,KAAKX,WAAWqI,IAAIlC,SAASE,aAE/E,YADA1F,KAAKqH,kBAAmB,GAK5B,IAAIM,EAAwB,GAAGC,MAAMjJ,KAAK4I,GAC1CvH,KAAK6H,SAAW7H,KAAKX,WAAWqE,KAAKoE,IAAIC,QAAQC,eAAe,GAGhE,IAAI,IAAI/J,EAAI,EAAGA,EAAI+B,KAAKX,WAAWqI,IAAIO,MAAMrJ,OAAQX,IAAI,CACrD,GAAGA,GAAK0J,EAAsB/I,OAE1B,OAGJ,IAoBIsJ,EAUAC,EA9BAzE,EAAO1D,KAAKX,WAAWqI,IAAIO,MAAMhK,GACjCmK,EAAuBT,EAAsB1J,GAGhCmK,EAAqBhG,cAAc,gBAK/CpC,KAAKoH,2BAA2BiB,qBAAqBrI,KAAKX,WAAWqI,IAAIlC,SAASE,YAAahC,EAAK4E,gBAAgBC,wBAIrHvI,KAAKoH,2BAA2BoB,YAAY9E,EAAK4E,gBAAgBG,kBAKrEzI,KAAK0I,gBAAkB1I,KAAKoH,2BAA2BuB,mBAAmB3I,KAAKX,WAAWqI,IAAIlC,SAASE,YAAahC,EAAK4E,gBAAgBC,uBACzIvI,KAAK4I,WAAalF,EAAK4E,gBAAgBM,WACnCV,EAAqBxE,EAAKmF,eAAeC,OAAO,SAASjL,GAAI,OAA6C,EAAtCA,EAAEkL,QAAQ,2BAAyE,EAAxClL,EAAEkL,QAAQ,6BAC7H/I,KAAKgJ,cAAgB,GACW,EAA5Bd,EAAmBtJ,SACnBoB,KAAKgJ,cAAgBd,EAAmB,GAAGe,QAAQ,yBAAyB,IAAIA,QAAQ,2BAA2B,KAE9F,IAAtBjJ,KAAKgJ,gBAEJhJ,KAAK4I,WAAa5I,KAAKgJ,eAGvBb,EAAezE,EAAKmF,eAAeC,OAAO,SAASjL,GAAI,OAAgC,EAAzBA,EAAEkL,QAAQ,cAAgD,EAA5BlL,EAAEkL,QAAQ,iBAC1G/I,KAAKkJ,QAAU,GACW,EAAtBf,EAAavJ,SACboB,KAAKkJ,QAAUf,EAAa,GAAGc,QAAQ,YAAY,IAAIA,QAAQ,eAAe,KAIlFlK,QAAQyB,QAAQ4H,GAAsBe,OAAOnJ,KAAKF,SAAS,2EAA6EE,KAAK6H,SAAW,cAAgB7H,KAAKkJ,QAAU,iBAAmBlJ,KAAK4I,WAAa,kBAAoB5I,KAAK0I,gBAAkB,iDAA1N1I,CAA4QA,KAAKH,WAGtU,MAAMhC,GACF8C,QAAQC,MAAM,iDACdD,QAAQC,MAAM/C,EAAEgD,c,IAMFC,QAAU,CAAE,SAAU,WAAY,WAAY,+B,qHC5DxE,IAAAsI,EAAAhL,EAAA,mCACAgI,EAAAhI,EAAA,kCAEaM,EAAA8H,sBAAwBzH,QAChCD,OAAO,wBAAyB,IAC5BuK,QAAQ,6BAA8BD,EAAAhC,4BACtCrG,WAAW,4BAA6BqF,EAAAe,2BACxChI,UAAU,kBAAmB,CAC1BC,SAAU,CAACc,UAAW,KACtBa,WAAY,+B,8JCzBXrC,EAAA0I,2BAA6B,CAAC,WAEvC,IAAMkC,EAAY,CACV,CACQC,UAAa,WACb7J,KAAQ,WACRgG,YAAe,MACf8D,QAAW,0BACXC,sBAAyB,CAAC,QAAQ,QAAQ,QAAQ,QAAQ,SAC1DC,kBAAqB,CAAC,kBAAkB,kBAAkB,mBAAmB,gBAAgB,+CAErG,CACQH,UAAa,cACb7J,KAAQ,kCACRgG,YAAe,MACf8D,QAAW,0BACXC,sBAAyB,CAAC,SAC1BC,kBAAqB,CAAC,qBAE9B,CACQH,UAAa,eACb7J,KAAQ,sCACRgG,YAAe,MACf8D,QAAW,0BACXC,sBAAyB,CAAC,QAAQ,QAAQ,QAAQ,QAAQ,QAAQ,QAAQ,QAAQ,QAAQ,QAAQ,QAAQ,QAAQ,QAAQ,QAAQ,SAClIC,kBAAqB,CAAC,8BAA8B,sBAAsB,oBAAoB,wBAAwB,qBAAqB,wCAAwC,6BAA6B,8BAA8B,0CAA0C,gCAAgC,oCAAoC,8BAA8B,8BAA8B,8BAEha,CACQH,UAAa,OACb7J,KAAQ,wBACRgG,YAAe,QACf8D,QAAW,0BACXC,sBAAyB,CAAC,QAAQ,QAAQ,QAAQ,SAClDC,kBAAqB,CAAC,gCAAgC,gCAAiC,qCAAqC,sCAEpI,CACQH,UAAa,UACb7J,KAAQ,2BACRgG,YAAe,MACf8D,QAAU,sCACVC,sBAAyB,CAAC,MAAM,QAAQ,QAAQ,QAAQ,SAC9DC,kBAAoB,CAAC,cAAc,YAAY,SAAS,UAAU,2BAEpE,CACQH,UAAa,UACb7J,KAAQ,iCACRgG,YAAe,MACf8D,QAAU,8BACVC,sBAAyB,CAAC,QAAQ,QAAQ,QAAQ,SAClDC,kBAAoB,CAAC,sDAAsD,aAAa,yDAAyD,4BAK3JC,EAAqB,CAAC,yBAA0B,gBAAiB,sBAAuB,sBA8C9F,MAAO,CACHtC,iBArCJ,SAA0B3B,GAExB,OAA6B,EADP4D,EAAUR,OAAQ,SAAAc,GAAM,OAAOA,EAAElE,cAAgBA,IACnD9G,QAoClByJ,qBAhCJ,SAA8B3C,EAAamE,GAEzC,OAA6B,EADPP,EAAUR,OAAQ,SAAAc,GAAM,OAAOA,EAAElE,cAAgBA,IAAyD,EAA1CkE,EAAEF,kBAAkBX,QAAQc,KAC9FjL,QA+BlBkL,WApBJ,SAAoBpE,GAChB,IA5BuBA,EA6BvB,OADIqE,GA5BmBrE,EA4BKA,EA1BD,GADzBsE,EAAkBV,EAAUR,OAAQ,SAAAc,GAAM,OAAOA,EAAElE,cAAgBA,KACnD9G,OACToL,EAAgB,GAEhB,OAyBED,EAAIP,QAGJ,IAeXb,mBA5BJ,SAA4BjD,EAAamE,GACrC,IAAIG,EAAkBV,EAAUR,OAAQ,SAAAc,GAAM,OAAOA,EAAElE,cAAgBA,IACvE,OAA+B,IAA3BsE,EAAgBpL,OAAoB,MACpCX,EAAI+L,EAAgB,GAAGN,kBAAkBX,QAAQc,GAC9CG,EAAgB,GAAGP,sBAAsBxL,KAyBhDuK,YAXJ,SAAqBC,GAEjB,OAA0B,EADPkB,EAAmBb,OAAQ,SAAAmB,GAAM,OAAOA,IAAMxB,IAChD7J,Y,sFC/GZF,EAAAwL,iBAAmB,WAC5B,MAAO,CACHlD,MAAO,CACHmD,IAAK,CACDC,GAAI,6BACJC,GAAI,8BACJC,GAAI,6C,0TCJhB,SAAAC,EAAYnD,EAA4BT,EAAkBuD,I,4FAAkBnK,CAAAC,KAAAuK,GACxEvK,KAAKoH,2BAA6BA,EAClCpH,KAAK2G,iBAAmBA,EACxB3G,KAAK6G,OAASqD,EACdlK,KAAK+G,KAAO/G,KAAK2G,iBAAiBrB,e,EAN7BiF,sB,qCAWLvK,KAAKX,WAAaW,KAAKE,UAAUb,a,2CAIjC,IAAImL,EAAM,GACV,IACI,IAAKxK,KAAKX,WAAWqI,MAAQ1H,KAAKX,WAAWqI,IAAIlC,SAE7C,YADA7E,QAAQC,MAAM,wFAGlB,IAAI8G,EAAM1H,KAAKX,WAAWqI,IAAIlC,SAG9BgF,EAFcxK,KAAKoH,2BAA2B0C,WAAWpC,EAAIhC,aAE7C,0EAA4E+E,mBAAmBzK,KAAK4I,YAC5F,QAApBlB,EAAIhC,aAA6C,UAApBgC,EAAIhC,cACjC8E,GAAO,oBAAsBC,mBAAmBzK,KAAK0K,cAEjC,QAApBhD,EAAIhC,cACJ8E,GAAO,MAAQC,mBAAmBzK,KAAK6H,WAG/C,MAAMhK,GACF8C,QAAQC,MAAM,sDACdD,QAAQC,MAAM/C,EAAEgD,SAEpB,OAAO2J,I,sCAIP,IAAItD,EAAM,GACV,IACI,IAAIQ,EAAM1H,KAAKX,WAAWqI,IAAIlC,SAG9B0B,EAFclH,KAAKoH,2BAA2B0C,WAAWpC,EAAIhC,aAE7C,mCAAqC+E,mBAAmBzK,KAAK4I,YAAc,aAAe5I,KAAK+G,KAAO,MAAQ0D,mBAAmBzK,KAAK6H,UAE9H,QAApBH,EAAIhC,aAA6C,UAApBgC,EAAIhC,cACjCwB,GAAO,oBAAsBuD,mBAAmBzK,KAAK0K,cAErC,IAAhB1K,KAAKkJ,UACDhC,GAAO,QAAUlH,KAAKkJ,SAIlC,MAAMrL,GACF8C,QAAQC,MAAM,iDACdD,QAAQC,MAAM/C,EAAEgD,SAEpB,OAAOqG,I,sCAIP,IAAIsD,EAAM,GACV,IACI,IAAI9C,EAAM1H,KAAKX,WAAWqI,IAAIlC,SAG9BgF,EAFcxK,KAAKoH,2BAA2B0C,WAAWpC,EAAIhC,aAE7C,uEAAyE+E,mBAAmBzK,KAAK4I,YAAc,aAAe5I,KAAK+G,KAAO,MAAQ0D,mBAAmBzK,KAAK6H,UAClK,QAApBH,EAAIhC,aAA6C,UAApBgC,EAAIhC,cACjC8E,GAAO,oBAAsBC,mBAAmBzK,KAAK0K,cAErC,IAAhB1K,KAAKkJ,UACLsB,GAAO,QAAUxK,KAAKkJ,SAG9B,MAAMrL,GACF8C,QAAQC,MAAM,iDACdD,QAAQC,MAAM/C,EAAEgD,SAEpB,OAAO2J,M,IAMM1J,QAAU,CAAE,6BAA8B,mBAAoB,qB,gHCjEnF,IAAA6J,EAAAvM,EAAA,wBACAiI,EAAAjI,EAAA,wBACAgL,EAAAhL,EAAA,mCACAwM,EAAAxM,EAAA,4BAGaM,EAAA+H,iBAAmB1H,QAC3BD,OAAO,mBAAoB,IAC3BuK,QAAQ,mBAAoBsB,EAAAhE,kBAC5B0C,QAAQ,mBAAoBhD,EAAA6D,kBAC5Bb,QAAQ,6BAA8BD,EAAAhC,4BACtCrG,WAAW,uBAAwB6J,EAAAL,sBACnCpL,UAAU,aAAc,CACrBC,SAAU,CACNc,UAAW,IACX2H,SAAU,IACVe,WAAY,IACZM,QAAS,IACTwB,YAAa,KAEjB3J,WAAY,uBACZzB,S,m6BCnCJ,SAAAuL,EAAahL,EAAQC,EAAUmB,I,4FAAWlB,CAAAC,KAAA6K,GACtC7K,KAAKH,OAASA,EACdG,KAAKF,SAAWA,EAChBE,KAAKiB,SAAWA,G,EALX4J,sC,qCAUC,IAAA3J,EAAAlB,KACN,IACIA,KAAKiB,SAAS,WAGV,IAGY6J,EAQJC,EAaAC,EA1BR9J,EAAK7B,WAAa6B,EAAKhB,UAAUb,WAEO,kBAApC6B,EAAK7B,WAAW4L,kBAEZ/J,EAAK4J,uBAAyBA,EAC1BA,EAAyBxK,SAASC,iBAAiB,mNAGnDxB,QAAQyB,QAAQsK,GAAwBrK,QAAQS,EAAKpB,SAFrD,gvDAEgDoB,CAAiCA,EAAKrB,SAASa,SAAS,wBAE5E,kBAApCQ,EAAK7B,WAAW4L,kBAEhB/J,EAAK6J,wBAA0BA,EAC3BA,EAA0BzK,SAASC,iBAAiB,mNAGpDxB,QAAQyB,QAAQuK,GAAyBtK,QAAQS,EAAKpB,SAFtD,gvDAEiDoB,CAAkCA,EAAKrB,SAASa,SAAS,yBAO1E,uBAApCQ,EAAK7B,WAAW4L,kBAEhB/J,EAAK8J,wBAA0BA,EAC3BA,EAA0B1K,SAASC,iBAAiB,+IAGpDxB,QAAQyB,QAAQwK,GAAyBvK,QAAQS,EAAKpB,SAFtD,gvDAEiDoB,CAAkCA,EAAKrB,SAASa,SAAS,0BAMpH,GAGN,MAAM7C,GACF8C,QAAQC,MAAM,4CACdD,QAAQC,MAAM/C,EAAEgD,c,IAMSC,QAAW,CAAE,SAAU,WAAY,a,gIC/DpEwF,EAAAlI,EAAA,+CAGaM,EAAAgI,iCAAmC3H,QAC3CD,OAAO,mCAAoC,IACvCiC,WAAW,uCAAwCuF,EAAAuE,sCACnD1L,UAAU,sCAAuC,CAC9CC,SAAU,CAACc,UAAW,KACtBa,WAAY,uCACZzB,S,iLCVhB,IAAA4L,EAAA9M,EAAA,sDACA+M,EAAA/M,EAAA,gEACAgN,EAAAhN,EAAA,wDAEaiN,EAAA3M,EAAA2M,wBAA0BtM,QAClCD,OAAO,0BAA2B,IAC9BK,UAAU,oBAAsB,CAC7BC,SAAU,CAACC,WAAY,KACvBC,SAAA,sVAGZ+L,EAAwB9L,SAASC,KAAK0L,EAAAI,yBAAyB5L,MAC/D2L,EAAwB9L,SAASC,KAAK2L,EAAAI,6BAA6B7L,MACnE2L,EAAwB9L,SAASC,KAAK4L,EAAAI,0BAA0B9L,O,6eCX5D,SAAA+L,EAAYxK,EAAUpB,I,4FAAQE,CAAAC,KAAAyL,GAC1BzL,KAAKiB,SAAWA,EAChBjB,KAAKH,OAASA,G,EAJT4L,8B,qCAOC,IAAAvK,EAAAlB,KACN,IACIA,KAAKX,WAAaW,KAAKE,UAAUb,WACjCW,KAAKH,OAAO6L,OAAO,qEAAsE,SAACC,EAAUC,EAAUC,IACtGA,EAAMhG,MAAMxG,WAAWyM,0BAA4BH,GAAwB,IAAZA,GAC/DzK,EAAKD,SAAS,WACV4K,EAAMhG,MAAMxG,WAAWyM,0BAA2B,GACnD,KAER,GAEP,MAAMjO,GACF8C,QAAQC,MAAM,gEACdD,QAAQC,MAAM/C,EAAEgD,c,IAKCC,QAAU,CAAC,WAAY,W,wHCDpDoK,EAAA9M,EAAA,qCAEaM,EAAA4M,yBAA2BvM,QACnCD,OAAO,2BAA4B,IAC/BiC,WAAW,+BAAgCmK,EAAAO,8BAC3CtM,UAAU,8BAA+B,CACtCC,SAAU,CAACc,UAAW,KACtBa,WAAY,kC,gWC7BpB,SAAAgL,EAAY9K,EAAUpB,I,4FAAQE,CAAAC,KAAA+L,GAC1B/L,KAAKiB,SAAWA,EAChBjB,KAAKH,OAASA,G,EAJTkM,+B,qCAQL,IACI/L,KAAKX,WAAaW,KAAKE,UAAUb,WAE7BN,QAAQiN,QAAQhM,KAAKX,WAAW4M,YAAiD,EAAnCjM,KAAKX,WAAW4M,UAAUrN,SAExEoB,KAAKX,WAAW6M,0BAA4B,GAIlD,MAAOrO,GACL8C,QAAQC,MAAM,kEACdD,QAAQC,MAAM/C,EAAEgD,c,IAMEC,QAAU,CAAC,WAAY,W,yHCxBjDsK,EAAAhN,EAAA,sCAGaM,EAAA8M,0BAA4BzM,QACpCD,OAAO,4BAA6B,IAChCiC,WAAW,gCAAiCqK,EAAAW,+BAC5C5M,UAAU,+BAAgC,CACvCC,SAAU,CAACc,UAAW,KACtBa,WAAY,gCACZzB,S,2WCHZ,SAAA6M,EAAatM,EAAQC,EAAUmB,I,4FAAWlB,CAAAC,KAAAmM,GACtCnM,KAAKH,OAASA,EACdG,KAAKF,SAAWA,EAChBE,KAAKiB,SAAWA,G,EALXkL,kC,qCAWC,IAAAjL,EAAAlB,KACN,IACIA,KAAKiB,SAAS,WAGV,IAGYmL,EAQJC,EAaAC,EA1BRpL,EAAK7B,WAAa6B,EAAKhB,UAAUb,WAEO,kBAApC6B,EAAK7B,WAAW4L,kBAEZ/J,EAAKkL,mBAAqBA,EACtBA,EAAqB9L,SAASC,iBAAiB,gOAG/CxB,QAAQyB,QAAQ4L,GAAoB3L,QAAQS,EAAKpB,SAFjD,gvDAE4CoB,CAA6BA,EAAKrB,SAASa,SAAS,oBAEpE,kBAApCQ,EAAK7B,WAAW4L,kBAEhB/J,EAAKmL,oBAAsBA,EACvBA,EAAsB/L,SAASC,iBAAiB,gOAGhDxB,QAAQyB,QAAQ6L,GAAqB5L,QAAQS,EAAKpB,SAFlD,gvDAE6CoB,CAA8BA,EAAKrB,SAASa,SAAS,qBAOlE,uBAApCQ,EAAK7B,WAAW4L,kBAEhB/J,EAAKoL,oBAAsBA,EACvBA,EAAsBhM,SAASC,iBAAiB,qKAGhDxB,QAAQyB,QAAQ8L,GAAqB7L,QAAQS,EAAKpB,SAFlD,gvDAE6CoB,CAA8BA,EAAKrB,SAASa,SAAS,sBAK5G,GAGN,MAAM7C,GACF8C,QAAQC,MAAM,4CACdD,QAAQC,MAAM/C,EAAEgD,c,IAMKC,QAAW,CAAE,SAAU,WAAY,a,4HC/DhEqK,EAAA/M,EAAA,0CAGaM,EAAA6M,6BAA+BxM,QACvCD,OAAO,+BAAgC,IACnCiC,WAAW,mCAAoCoK,EAAAgB,kCAC/ChN,UAAU,kCAAmC,CAC1CC,SAAU,CAACc,UAAW,KACtBa,WAAY,mCACZzB,S,wKCVhBiN,EAAAnO,EAAA,2CAEaM,EAAA8N,oBAAsBzN,QAC9BD,OAAO,sBAAuB,IAC9BK,UAAU,gBAAiB,CACxBC,SAAU,CAAEC,WAAY,KACxBC,SAAA,4KAMYC,SAASC,KAAK+M,EAAAE,mBAAmB/M,O,qWCRjD,SAAAgN,EAAY7M,EAAQC,EAAUmB,I,4FAAUlB,CAAAC,KAAA0M,GACpC1M,KAAKH,OAASA,EACdG,KAAKF,SAAWA,EAChBE,KAAKiB,SAAWA,G,EALXyL,wB,qCAQC,IAAAxL,EAAAlB,KACN,IACIA,KAAKiB,SAAS,WACVC,EAAK7B,WAAa6B,EAAKhB,UAAUb,WAEjC,IAGIsN,EAAY5N,QAAQyB,QAAQF,SAASC,iBAAT,qEAChCxB,QAAQyB,QAAQmM,GAAWxD,OAAOjI,EAAKpB,SAJtB,kQAIiBoB,CAA0BA,EAAKrB,SAASa,SAAS,gBAE/EkM,EAAY7N,QAAQyB,QAAQF,SAASC,iBAAT,qEAChCxB,QAAQyB,QAAQoM,GAAWzD,OAAOjI,EAAKpB,SANvB,mFAMkBoB,CAAyBA,EAAKrB,SAASa,SAAS,gBAElFC,QAAQkM,IAAI,wBAAyBD,IAYtC,GACL,MAAO/O,GACL8C,QAAQC,MAAM,wDACdD,QAAQC,MAAM/C,EAAEgD,c,IAKLC,QAAU,CAAC,SAAU,WAAY,a,kHC5CxDyL,EAAAnO,EAAA,+BAGaM,EAAA+N,mBAAqB1N,QAC7BD,OAAO,qBAAsB,IAC7BiC,WAAW,yBAA0BwL,EAAAG,wBACrCvN,UAAU,wBAAyB,CAChCC,SAAU,CAAEc,UAAW,KACvBa,WAAY,4B,0VCHhB,SAAA+L,EAAYjN,EAAQyD,I,4FAAUvD,CAAAC,KAAA8M,GAC1B9M,KAAKH,OAASA,EACdG,KAAKsD,SAAWA,G,EAJXwJ,mC,sCASL,IACI9M,KAAKX,WAAaW,KAAKE,UAAUb,WAIjC,IAAI0H,EAAO,KACPpB,EAAM3F,KAAKH,OAAOkN,MAAMnH,YAAYC,MAAMC,0BAC1CH,IACAoB,EAAOpB,EAAIqH,wBAGfhN,KAAKiN,eAAiB,oDAA4DlG,EAClF/G,KAAKkN,eAAiB,mDAAyDnG,EAC/E/G,KAAKmN,QAAU,CAAC,QAAS,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,MACrFnN,KAAKoN,KAAO,CAAC,KAAM,KAAM,MACzBpN,KAAKqN,KAAO,CAAC,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,MAGjDrN,KAAKsN,aAAe,WAChB,QAAyD5I,IAArD1E,KAAKX,WAAWkO,oBAAoBC,aAQxC,OAAO,EAPH,IAAIC,EAASzN,KAAKX,WAAWkO,oBAAoBC,aAAaE,aAAa,GAAGC,aAAa,GAAGC,YAAY,GAAGC,iBAC7G,OAAK7N,KAAKmN,QAAQpJ,SAAS0J,IASnCzN,KAAK8N,UAAY,WACb,QAAyDpJ,IAArD1E,KAAKX,WAAWkO,oBAAoBC,aAQxC,OAAO,EAPH,IAAIO,EAAS/N,KAAKX,WAAWkO,oBAAoBC,aAAaE,aAAa,GAAGC,aAAa,GAAGC,YAAY,GAAGC,iBAC7G,QAAI7N,KAAKoN,KAAKrJ,SAASgK,IAU/B/N,KAAKgO,UAAY,WACb,QAAyDtJ,IAArD1E,KAAKX,WAAWkO,oBAAoBC,aAQxC,OAAO,EAPH,IAAIS,EAASjO,KAAKX,WAAWkO,oBAAoBC,aAAaE,aAAa,GAAGC,aAAa,GAAGC,YAAY,GAAGC,iBAC7G,QAAI7N,KAAKqN,KAAKtJ,SAASkK,IAS/BjO,KAAKkO,WAAa,WACd,IAAI1G,EAAgBzI,QAAQyB,QAAQF,SAAS8B,cAAc,oFACvD5B,EAAUzB,QAAQyB,QAAQF,SAAS8B,cAAc,6BACrDoF,EAAc2B,OAAO3I,IAI3B,MAAO3C,GACL8C,QAAQC,MAAM,kEACdD,QAAQC,MAAM/C,EAAEgD,c,IAKMC,QAAU,CAAC,W,6HCjF7CqN,EAAA/P,EAAA,2CAIaM,EAAA0P,8BAAgCrP,QACxCD,OAAO,gCAAiC,IACpCiC,WAAW,oCAAqCoN,EAAArB,mCAChD3N,UAAU,mCAAoC,CAC3CC,SAAU,CAACc,UAAW,KACtBa,WAAY,oCACZzB,S,k8CCVZ6O,EAAA/P,EAAA,mEAGaM,EAAA2P,4BAA8BtP,QACtCD,OAAO,8BAA+B,IAClCK,UAAU,uBAAyB,CAChCC,SAAU,CAACC,WAAY,KACvBC,SAAA,oNAGwBC,SAASC,KAAK2O,EAAAC,8BAA8B1O,O,6XCR5E,SAAA4O,EAAYhL,I,4FAAUvD,CAAAC,KAAAsO,GAClBtO,KAAKsD,SAAWA,EAAS,GACzBtD,KAAKuO,KAAOvO,KAAKsD,SAASkE,cAAcA,cACxCxH,KAAKwO,SAAU,G,EALVF,uB,sCASP,IAacG,EAbVF,GAAO,OAEqC7J,IAAtC1E,KAAKuO,KAAKG,SAAS,GAAGA,SAAS,SAAsEhK,IAAlD1E,KAAKuO,KAAKG,SAAS,GAAGA,SAAS,GAAGA,SAAS,GAC9FH,EAAOvO,KAAKuO,KAAKG,SAAS,GAAGA,SAAS,GAAGA,SAAS,QAEPhK,IAAtC1E,KAAKuO,KAAKG,SAAS,GAAGA,SAAS,SAAsEhK,IAAlD1E,KAAKuO,KAAKG,SAAS,GAAGA,SAAS,GAAGA,SAAS,KACnGH,EAAOvO,KAAKuO,KAAKG,SAAS,GAAGA,SAAS,GAAGA,SAAS,IAKlDH,GAAgC,GAAxBA,EAAKG,SAAS9P,SAAgC,IAAjBoB,KAAKwO,UAC1CxO,KAAKwO,SAAU,GACXC,EAAOnO,SAASiC,cAAc,QAC7BoM,UAAY,6BACjBF,EAAKjM,UAAL,OACOxC,KAAKE,UAAUb,WAAWuP,WAAWC,QAAQ,gCADpD,iBAET7O,KAAKE,UAAUb,WAAWuP,WAAWC,QAAQ,+BAFpC,yBAGA7O,KAAKE,UAAUb,WAAWuP,WAAWC,QAAQ,8BAH7C,0BAII7O,KAAKE,UAAUb,WAAWuP,WAAWC,QAAQ,mCAJjD,WAKAN,EAAKO,aAAaL,EAAMF,EAAKG,SAASH,EAAKG,SAAS9P,OAAQ,S,IAKtDkC,QAAU,CAAC,a,iHCjC7BiO,EAAA3Q,EAAA,8BAGaM,EAAAsQ,kBAAoBjQ,QAC5BD,OAAO,oBAAqB,IACxBiC,WAAW,wBAAyBgO,EAAAT,uBACpCnP,UAAU,uBAAwB,CAC/BC,SAAU,CAACc,UAAW,KACtBa,WAAY,2B,yVCPxB,SAAAkO,EAAYpP,EAAQC,EAAUmB,I,4FAAUlB,CAAAC,KAAAiP,GACpCjP,KAAKH,OAASA,EACdG,KAAKF,SAAWA,EAChBE,KAAKiB,SAAWA,G,EALXgO,2B,sCASL,IAGQ,IAGQC,EAQAC,EAbZnP,KAAKX,WAAaW,KAAKE,UAAUb,WAEM,eAA/BW,KAAKX,WAAW8C,aAA+D,mBAA/BnC,KAAKX,WAAW8C,aAAmE,sBAA/BnC,KAAKX,WAAW8C,aAAsE,oBAA/BnC,KAAKX,WAAW8C,aAE3KnC,KAAKkP,YAAcA,EACfA,EAAc5O,SAASC,iBAAiB,qCAE5CxB,QAAQyB,QAAQ0O,GAAaxO,SAAS,oBAIF,oBAA/BV,KAAKX,WAAW8C,aAAoE,yBAA/BnC,KAAKX,WAAW8C,aAAyE,2BAA/BnC,KAAKX,WAAW8C,aAA2E,wBAA/BnC,KAAKX,WAAW8C,aAAwE,uBAA/BnC,KAAKX,WAAW8C,cACzPnC,KAAKmP,YAAcA,EACfA,EAAc7O,SAASC,iBAAiB,qCAC5CxB,QAAQyB,QAAQ2O,GAAaC,YAAY,oBAG/C,MAAOvR,GACL8C,QAAQC,MAAM,+DACdD,QAAQC,MAAM/C,EAAEgD,c,IAUNC,QAAU,CAAC,SAAU,WAAY,a,qHCtCvDuO,EAAAjR,EAAA,kCAGaM,EAAA4Q,sBAAwBvQ,QAChCD,OAAO,wBAAyB,IAC5BiC,WAAW,4BAA6BsO,EAAAJ,2BACxC9P,UAAU,2BAA4B,CACnCC,SAAU,CAACc,UAAW,KACtBa,WAAY,+B,yJCT5B,IAAAgO,EAAA3Q,EAAA,wCACAiR,EAAAjR,EAAA,gDAGamR,EAAA7Q,EAAA6Q,uBAAyBxQ,QACjCD,OAAO,yBAA0B,IAC7BK,UAAU,kBAAoB,CAC3BC,SAAU,CAACC,WAAY,KACvBC,SAAA,0PAKZiQ,EAAuBhQ,SAASC,KAAKuP,EAAAC,kBAAkBtP,MACvD6P,EAAuBhQ,SAASC,KAAK6P,EAAAC,sBAAsB5P,O,qZCTvD,SAAA8P,EAAY3P,I,4FAAQE,CAAAC,KAAAwP,GAChBxP,KAAKH,OAASA,G,EAHT2P,mC,qCAQL,IACIxP,KAAKX,WAAaW,KAAKE,UAAUb,WAEjCW,KAAKH,OAAO6L,OAAO,wCAAyC,SAAC+D,GAErD1Q,QAAQiN,QAAQyD,IAAqD,EAA7BA,EAAoB7Q,QAE5DG,QAAQ2Q,QAAQD,EAAqB,SAACE,GAGV,QAAxBA,EAAQC,cACmB,cAAvBD,EAAQE,YACe,sBAAvBF,EAAQE,YACe,iBAAvBF,EAAQE,YACe,uBAAvBF,EAAQE,YACe,0BAAvBF,EAAQE,YACe,wBAAvBF,EAAQE,YACe,YAAvBF,EAAQE,YACe,uBAAvBF,EAAQE,YACe,oBAAvBF,EAAQE,YACe,sBAAvBF,EAAQE,YACe,sBAAvBF,EAAQE,YACe,uBAAvBF,EAAQE,WAERF,EAAQG,cAAe,EAGvBH,EAAQG,cAAe,OAMzC,MAAOjS,GACL8C,QAAQC,MAAM,yDACdD,QAAQC,MAAM/C,EAAEgD,c,IAOMC,QAAU,CAAC,W,6HCpDzCiP,EAAA3R,EAAA,2CAGaM,EAAAsR,8BAAgCjR,QACxCD,OAAO,gCAAiC,IACpCiC,WAAW,oCAAqCgP,EAAAP,mCAChDrQ,UAAU,mCAAoC,CAC3CC,SAAU,CAACc,UAAW,KACtBa,WAAY,uC,mKCT5BgP,EAAA3R,EAAA,mEAGaM,EAAAuR,wBAA0BlR,QAClCD,OAAO,0BAA2B,IAClCK,UAAU,mBAAoB,CAC3BC,SAAU,CAAEC,WAAY,KACxBC,SAAA,uNAOgBC,SAASC,KAAKuQ,EAAAC,8BAA8BtQ,O,0LCdpEwQ,EAAA9R,EAAA,+CAEaM,EAAAyR,wBAA0BpR,QAClCD,OAAO,0BAA2B,IAC9BK,UAAU,oBAAsB,CAC7BC,SAAU,CAACC,WAAY,KACvBC,SAAA,6JAGYC,SAASC,KAAK0Q,EAAAE,qBAAqB1Q,O,2WCT9C2Q,0B,qCAGLrQ,KAAKX,WAAaW,KAAKE,UAAUb,WACjCW,KAAKX,WAAWiR,mBAAoB,M,4OCc5CJ,EAAA9R,EAAA,iCAEaM,EAAA0R,qBAAuBrR,QAC/BD,OAAO,uBAAwB,IAC3BiC,WAAW,2BAA4BmP,EAAAG,0BACvClR,UAAU,0BAA4B,CACnCC,SAAU,CAACc,UAAW,KACtBa,WAAY,8B,6JCxBxBwP,EAAAnS,EAAA,2EAEaM,EAAA8R,4BAA8BzR,QACtCD,OAAO,8BAA+B,IAClCK,UAAU,wBAA0B,CACjCC,SAAU,CAACC,WAAY,KACvBC,SAAA,iMAGwBC,SAASC,KAAK+Q,EAAAE,kCAAkC/Q,O,qYCLhF,SAAAgR,EAAY7Q,EAAQC,EAAUmB,I,4FAAUlB,CAAAC,KAAA0Q,GACpC1Q,KAAKH,OAASA,EACdG,KAAKF,SAAWA,EAChBE,KAAKiB,SAAWA,G,EALXyP,uC,qCAQC,IAAAxP,EAAAlB,KACN,IACIA,KAAKiB,SAAS,WAGV,IAGQ0P,EAUAC,EASAC,EAxBR3P,EAAK7B,WAAa6B,EAAKhB,UAAUb,gBAEIqF,IAAjCxD,EAAK7B,WAAWyR,QAAQhN,MAAuD,qBAAjC5C,EAAK7B,WAAWyR,QAAQhN,OAEtE5C,EAAKyP,gBAAkBA,EACnBA,EAAkBrQ,SAASC,iBAAiB,gGAGhDxB,QAAQyB,QAAQmQ,GAAiBI,MAF7B,2CAEyCrQ,SAAS,oBAIrBgE,IAAjCxD,EAAK7B,WAAWyR,QAAQhN,MAAuD,4BAAjC5C,EAAK7B,WAAWyR,QAAQhN,OAEtE5C,EAAKyP,gBAAkBC,EACnBA,EAAkBtQ,SAASC,iBAAiB,uGAGhDxB,QAAQyB,QAAQoQ,GAAiBG,MAF7B,2CAEyCrQ,SAAS,oBAIrBgE,IAAjCxD,EAAK7B,WAAWyR,QAAQhN,MAAuD,yBAAjC5C,EAAK7B,WAAWyR,QAAQhN,OACtE5C,EAAK2P,oBAAsBA,EACvBA,EAAsBvQ,SAASC,iBAAiB,oGAKpDxB,QAAQyB,QAAQqQ,GAAqB1H,OAArC,0CAAsFzI,SAAS,gBAOpG,IACL,MAAO7C,GACL8C,QAAQC,MAAM,4CACdD,QAAQC,MAAM/C,EAAEgD,c,IAOUC,QAAU,CAAC,SAAU,WAAY,a,iIC3DnEyP,EAAAnS,EAAA,+CAGaM,EAAA+R,kCAAoC1R,QAC5CD,OAAO,oCAAqC,IACxCiC,WAAW,wCAAyCwP,EAAAG,uCACpDvR,UAAU,uCAAwC,CAC/CC,SAAU,CAACc,UAAW,KACtBa,WAAY,wCACZzB,S,sNCVHZ,EAAAsS,kBAAoB,WAC7B,MAAO,CAKHC,UACI,CAAC,YAAa,eAAgB,SAAS,+BAA+B,MAAO,QAAS,aAAc,cAAc,iBAAiB,SAAS,OAAO,gBAAgB,mCACvKjK,MAAO,CACHkK,UAAa,CACT9G,GAAI,8CACJC,GAAI,8CACJC,GAAI,8CACJ6G,GAAI,+CAERC,aAAgB,CACZhH,GAAI,uBACJC,GAAI,uBACJC,GAAI,uBACJ6G,GAAI,wBAERE,OAAU,CACNjH,GAAI,SACJC,GAAI,SACJC,GAAI,SACJ6G,GAAI,UAERG,+BAAgC,CAC5BlH,GAAI,2CACJC,GAAI,wBACJC,GAAI,+BACJ6G,GAAI,gCAERI,IAAO,CACHnH,GAAI,wCACJC,GAAI,gCACJC,GAAI,qCACJ6G,GAAI,sCAGRK,MAAS,CACLpH,GAAI,sCACJC,GAAI,sCACJC,GAAI,kCACJ6G,GAAI,kCAERM,WAAc,CACVrH,GAAI,aACJC,GAAI,aACJC,GAAI,aACJ6G,GAAI,cAERO,cAAe,CACXtH,GAAI,mCACJC,GAAI,uCACJC,GAAI,uCACJ6G,GAAI,qCAERQ,eAAkB,CACdvH,GAAI,6BACJC,GAAI,4BACJC,GAAI,gCACJ6G,GAAI,gCAERS,OAAU,CACNxH,GAAI,SACJC,GAAI,SACJC,GAAI,SACJ6G,GAAI,UAERU,KAAQ,CACJzH,GAAI,yCACJC,GAAI,kCACJC,GAAI,yCACJ6G,GAAI,sCAERW,gBAAiB,CACb1H,GAAI,6BACJC,GAAI,gCACJC,GAAI,oCACJ6G,GAAI,kCAERY,gCAAmC,CAC/B3H,GAAI,qCACJC,GAAI,qCACJC,GAAI,kCACJ6G,GAAI,sC,0TChFhB,SAAAa,EAAarL,EAAkBqK,EAAmBiB,I,4FAAqBlS,CAAAC,KAAAgS,GACnEhS,KAAK2G,iBAAmBA,EACxB3G,KAAK6G,OAASmK,EACdhR,KAAKiS,mBAAqBA,G,EALrBD,uB,8CAQUE,EAASC,GAAG,IAAAjR,EAAAlB,KAC3BA,KAAKiS,mBAAmBG,gBAAgBF,EAAUC,GACjDE,KAAK,SAACC,GACH,IACI,IAAKA,EAAK,OACV,IAAKA,EAAKC,cAA6C,IAA7BD,EAAKC,aAAa3T,SAAiB0T,EAAKC,aAAa,GAAGC,WAAuD,IAA1CF,EAAKC,aAAa,GAAGC,UAAU5T,OAAa,OAG3I,IAAI6T,EAAaH,EAAKC,aAAa,GAAGJ,GACtC,GAAIjR,EAAKwR,QAAQC,KAAK,SAAAC,GAAA,OAAKA,EAAET,IAAMM,IAAY,OAE/C,IAAII,EAAS,GACbA,EAAOV,GAAKM,EACZ,IAAID,EAAYF,EAAKC,aAAa,GAAGC,UACjCM,EAA2B,GAC3BC,EAAiC,GAErCF,EAAOnT,KAAO8S,EAAU,GAAGQ,SAASC,UACjCT,EAAU,GAAGQ,SAASE,aACrBL,EAAOnT,MAAQ,KAAO8S,EAAU,GAAGQ,SAASE,YAGhD,IAAI,IAAIC,EAAI,EAAGA,EAAIX,EAAU5T,OAAQuU,IAAI,CACrC,IASInM,EATAoM,EAAWZ,EAAUW,GACrBE,EAAOD,EAASlB,SAASmB,KACzBnM,EAAMkM,EAASE,KAAKC,KAGqB,IAAzCrS,EAAK2F,OAAOoK,UAAUlI,QAAQsK,KAI9BrM,EAAQ9F,EAAKyF,iBAAiBC,SAAS1F,EAAK2F,OAAQwM,GACxDP,EAAyBtT,KAAK,CAAC6T,KAAQA,EAAKnM,IAAOA,EAAKF,MAASA,KAGrE,IAAIwK,EAAQsB,EAAyBhK,OAAO,SAAAjL,GACxC,MAAkB,UAAXA,EAAEwV,OAEbN,EAAiCA,EAA+BS,OAAOhC,GACnEiC,EAAMX,EAAyBhK,OAAO,SAAAjL,GACtC,MAAkB,gBAAXA,EAAEwV,OAEbN,EAAiCA,EAA+BS,OAAOC,GACvE,IAAIC,EAAOZ,EAAyBhK,OAAO,SAAAjL,GACvC,MAAkB,gBAAXA,EAAEwV,MAAqC,UAAXxV,EAAEwV,OAEzCN,EAAiCA,EAA+BS,OAAOE,GAEvEb,EAAOc,cAAgBZ,EACvB7R,EAAKwR,QAAQlT,KAAKqT,GAEtB,MAAMhV,GACF8C,QAAQC,MAAM,6FACdD,QAAQC,MAAM/C,EAAEgD,c,gCAMxB,IAOI,GANAb,KAAKX,WAAaW,KAAKE,UAAUb,WAGjCW,KAAK0S,QAAU,IAGX1S,KAAKX,WAAWqE,KAAKoE,IAAI0G,QAAQoF,QAAU5T,KAAKX,WAAWqE,KAAKoE,IAAI0G,QAAQqF,MAAM,OAGtF,IAAIC,EAAS,GAGTC,EAAW,GAEf,GAAGhV,QAAQiV,UAAUhU,KAAKX,WAAWqE,KAAKoE,IAAI0G,QAAQoF,OAAO,CAKzD,IAFA,IAMQK,EAQIC,EAdRN,EAAQ5T,KAAKX,WAAWqE,KAAKoE,IAAI0G,QAAQoF,MAErCO,EAAI,EAAGA,EAAIP,EAAMhV,OAAQuV,KAEG,EAA7BP,EAAMO,GAAGpL,QAAQ,WAGa,GAD7BkL,GADIA,EAAOL,EAAMO,GAAGC,UAAUR,EAAMO,GAAGpL,QAAQ,SAAW,IAC9CqL,UAAU,EAAGH,EAAKlL,QAAQ,QAC9BA,QAAQ,cACZkL,EAAOA,EAAKhL,QAAQ,WAAW,MAER,IAAxB6K,EAAO/K,QAAQkL,IAAWH,EAAOtU,KAAKyU,KAGV,EAA1BL,EAAMO,GAAGpL,QAAQ,SAEO,GADzBmL,EAAON,EAAMO,GAAGC,UAAUR,EAAMO,GAAGpL,QAAQ,MAAQ,IAC/CA,QAAQ,cACZmL,EAAOA,EAAKjL,QAAQ,WAAW,MAER,IAAxB6K,EAAO/K,QAAQmL,IAAWJ,EAAOtU,KAAK0U,IAGjDvT,QAAQkM,IAAI,mBACZlM,QAAQkM,IAAIiH,GAIhB,GAAG9T,KAAKX,WAAWqE,KAAKoE,IAAI0G,QAAQqF,MAAM,CAKtC,IAFA,IAMQQ,EASIC,EAfRT,EAAQ7T,KAAKX,WAAWqE,KAAKoE,IAAI0G,QAAQqF,MAErCU,EAAI,EAAGA,EAAIV,EAAMjV,OAAQ2V,KAEO,EAAjCV,EAAMU,GAAGxL,QAAQ,eAIY,GAF5BsL,GADIA,EAAOR,EAAMU,GAAGH,UAAUP,EAAMU,GAAGxL,QAAQ,aAAe,IAClDqL,UAAU,EAAGC,EAAKtL,QAAQ,QAE9BA,QAAQ,aACZsL,EAAOA,EAAKpL,QAAQ,UAAU,MAEL,IAA1B8K,EAAShL,QAAQsL,IAAWN,EAASvU,KAAK6U,KAGd,EAA1BR,EAAMU,GAAGxL,QAAQ,SAEM,GADxBuL,EAAOT,EAAMU,GAAGH,UAAUP,EAAMU,GAAGxL,QAAQ,MAAQ,IAC/CA,QAAQ,aACZuL,EAAOA,EAAKrL,QAAQ,UAAU,MAEL,IAA1B8K,EAAShL,QAAQuL,IAAWP,EAASvU,KAAK8U,IAGrD3T,QAAQkM,IAAI,qBACZlM,QAAQkM,IAAIkH,GAIZ,IAAI,IAAI9V,EAAI,EAAGA,EAAI6V,EAAOlV,OAAQX,IAAI,CAClC,IAAIuW,EAAQV,EAAO7V,GACL,KAAVuW,KACoB,EAApBA,EAAMzL,QAAQ,OACdyL,EAAQA,EAAMJ,UAAUI,EAAMC,YAAY,KAAK,IAGnDzU,KAAK0U,mBAAmB,MAAOF,IAGnC,IAAQvW,EAAI,EAAGA,EAAI8V,EAASnV,OAAQX,IAAI,CACpC,IAAI0W,EAAUZ,EAAS9V,GACP,KAAZ0W,KACsB,EAAtBA,EAAQ5L,QAAQ,OAChB4L,EAAUA,EAAQP,UAAUO,EAAQF,YAAY,KAAK,IAGzDzU,KAAK0U,mBAAmB,QAASC,KAI7C,MAAM9W,GAGF,MAFA8C,QAAQC,MAAM,kEACdD,QAAQC,MAAM/C,EAAEgD,SACVhD,O,IAKIiD,QAAU,CAAC,mBAAoB,oBAAqB,uB,iHC9J1E,IAAA6J,EAAAvM,EAAA,wBACAwW,EAAAxW,EAAA,yBACAyW,EAAAzW,EAAA,0BAEA0W,EAAA1W,EAAA,6BAGaM,EAAAqW,kBAAoBhW,QAC5BD,OAAO,oBAAqB,IACxBuK,QAAQ,mBAAoBsB,EAAAhE,kBAC5B0C,QAAQ,oBAAqBuL,EAAA5D,mBAC7B3H,QAAQ,qBAAsBwL,EAAA5C,oBAC9BlR,WAAW,wBAAyB+T,EAAA9C,uBACpC7S,UAAU,uBAAuB,CAC9BC,SAAU,CAACc,UAAW,KACtBa,WAAY,wBACZzB,S,g4DCjCCZ,EAAAuT,mBAAqB,CAAC,QAAS,OAAQ,SAAS+C,EAAOC,GAwBhE,MAAO,CACH7C,gBArBJ,SAAyB8C,EAAgBzC,GAIrC,OAHIvL,EAAMiO,kEAAyBD,EAAkB,UAAYzC,EACjEwC,EAAKG,mBAAmBlO,GAEjB8N,EAAMK,IAAInO,GACZmL,KACG,SAASiD,GACL,OAAOA,EAAShD,MAEpB,SAASiD,GACL,GAAyB,MAArBA,EAAUC,OAAe,OAAO,KACpC,IAAI5U,EAAQ,kDAAoD2U,EAAUC,OAK1E,OAJID,EAAUjD,MAAQiD,EAAUjD,KAAKmD,eACjC7U,GAAS,MAAQ2U,EAAUjD,KAAKmD,cAEpC9U,QAAQC,MAAMA,GACP,Y,4HCpB3BgU,EAAAxW,EAAA,uCAEaM,EAAAgX,6BAA+B3W,QACvCD,OAAO,+BAAgC,IACvCK,UAAU,yBAA2B,CAC9BC,SAAU,CAACC,WAAY,KACvBC,SAAA,0EAGiBC,SAASC,KAAKoV,EAAAG,kBAAkBrV,O,iWCPzD,SAAAiW,EAAY9V,I,4FAAQE,CAAAC,KAAA2V,GAChB3V,KAAKH,OAASA,G,EAHT8V,qC,sCAOL,IACI3V,KAAKX,WAAaW,KAAKE,UAAUb,WACjC,IAAIuW,EAAM5V,KAAKX,WAAWwW,uBACtBC,EAAM9V,KAAKX,WAAW0W,aAEtBC,EAAgB1V,SAAS2V,eAAe,eACxCC,EAAY5V,SAAS8B,cAAc,2EAI5B,SAAPwT,GAAyB,QAAPE,GAClB/W,QAAQyB,QAAQwV,GAAetV,SAAS,oBACxC3B,QAAQyB,QAAQ0V,EAAU1O,eAAe9G,SAAS,sBAE9C3B,QAAQyB,QAAQwV,GAAeG,SAAS,qBACxCpX,QAAQyB,QAAQwV,GAAe5G,YAAY,oBAE3CrQ,QAAQyB,QAAQ0V,EAAU1O,eAAe2O,SAAS,qBAClDpX,QAAQyB,QAAQ0V,EAAU1O,eAAe4H,YAAY,qBAG/D,MAAOvR,GACL8C,QAAQC,MAAM,8DACdD,QAAQC,MAAM/C,EAAEgD,c,IAMQC,QAAU,CAAC,W,+HCpC/CsV,EAAAhY,EAAA,8CAGaM,EAAA2X,gCAAkCtX,QAC1CD,OAAO,kCAAmC,IAEtCiC,WAAW,sCAAuCqV,EAAAT,qCAClDxW,UAAU,4BAA6B,CACpCC,SAAU,CAACc,UAAW,KACtBa,WAAY,yC,wKCTxB,IAAAuV,EAAAlY,EAAA,wDACAgY,EAAAhY,EAAA,wEAGamY,EAAA7X,EAAA6X,0BAA4BxX,QACpCD,OAAO,4BAA6B,IACpCK,UAAU,sBAAuB,CAC9BC,SAAU,CAAEC,WAAY,KACxBC,SAAA,yRAKRiX,EAA0BhX,SAASC,KAAK8W,EAAAE,yBAAyB9W,MACjE6W,EAA0BhX,SAASC,KAAK4W,EAAAC,gCAAgC3W,O,6bCPpE,SAAA+W,EAAa5W,EAAQC,I,4FAAWC,CAAAC,KAAAyW,GAC5BzW,KAAKH,OAASA,EACdG,KAAKF,SAAWA,G,EAJX2W,8B,qCAUD,IACIzW,KAAKX,WAAaW,KAAKE,UAAUb,WACjCW,KAAK0W,eAAiBA,EAEtB,IAAIA,EAAiBpW,SAAS8B,cAAc,kGACxCuU,EAAA,2HAAkI3W,KAAKE,UAAUb,WAAWuP,WAAWC,QAAQ,8BAA/K,o0BAIA9P,QAAQyB,QAAQkW,GAAgB3F,MAAM/Q,KAAKF,SAAS6W,EAAd3W,CAAoBA,KAAKH,SAIvE,MAAMhC,GACF8C,QAAQC,MAAM,qDACdD,QAAQC,MAAM/C,EAAEgD,c,IAKCC,QAAU,CAAC,SAAU,a,wHClClDwV,EAAAlY,EAAA,sCAGaM,EAAA8X,yBAA2BzX,QACnCD,OAAO,2BAA4B,IAC/BiC,WAAW,+BAAgCuV,EAAAG,8BAC3CtX,UAAU,8BAA+B,CACtCC,SAAU,CAACc,UAAW,KACtBa,WAAY,+BACZzB,S,yWCVHsX,mC,qCAGL,IACI5W,KAAKX,WAAaW,KAAKE,UAAUb,WACjCW,KAAK6W,gBAAiB,EAE1B,MAAMhZ,GACF8C,QAAQC,MAAM,sEACdD,QAAQC,MAAM/C,EAAEgD,Y,iCAKpB,IACI,IAAIb,KAAK6W,iBAAmBvW,SAAS8B,cAAc,0EAA0E,OAC7H,IAEQ0U,EAFgBxW,SAAS8B,cAAc,8DAEvC0U,EAAgBxW,SAAS8B,cAAc,wBAC3CrD,QAAQyB,QAAQsW,GAAeC,KAAK,WAAY,aAEpD/W,KAAK6W,gBAAiB,EAE1B,MAAMhZ,GACF8C,QAAQC,MAAM,8EACdD,QAAQC,MAAM/C,EAAEgD,c,qPCzB5BmW,EAAA5Y,EAAA,2CAEaM,EAAAuY,8BAAgClY,QACxCD,OAAO,gCAAiC,IACpCiC,WAAW,oCAAqCiW,EAAAJ,mCAChDzX,UAAU,mCAAqC,CAC5CC,SAAU,CAACc,UAAW,KACtBa,WAAY,uC,kLCPxB,IAAAmW,EAAA9Y,EAAA,gEACA+Y,EAAA/Y,EAAA,0DACA4Y,EAAA5Y,EAAA,kEAEagZ,EAAA1Y,EAAA0Y,uCAAyCrY,QACjDD,OAAO,yCAA0C,IACjDK,UAAU,mCAAoC,CAC3CC,SAAU,CAAEC,WAAY,KACxBC,SAAA,kbAMR8X,EAAuC7X,SAASC,KAAK0X,EAAAG,6BAA6B3X,MAClF0X,EAAuC7X,SAASC,KAAK2X,EAAAG,0BAA0B5X,MAC/E0X,EAAuC7X,SAASC,KAAKwX,EAAAC,8BAA8BvX,O,2fCX/E,SAAA6X,EAAY1X,EAAQC,EAAUmB,I,4FAAUlB,CAAAC,KAAAuX,GACpCvX,KAAKH,OAASA,EACdG,KAAKF,SAAWA,EAChBE,KAAKiB,SAAWA,G,EALXsW,+B,qCAUC,IAAArW,EAAAlB,KACN,IACIA,KAAKiB,SAAS,WAIV,IAGQuW,EASAC,EAfRvW,EAAK7B,WAAa6B,EAAKhB,UAAUb,YAGM,IAAnC6B,EAAK7B,WAAWqY,iBAChBxW,EAAKsW,UAAYA,EAEbA,EAAYlX,SAASC,iBAAiB,6HAI1CxB,QAAQyB,QAAQgX,GAAWzG,MAAM7P,EAAKpB,SAHlC,ygCAG6BoB,CAAqBA,EAAKrB,SAASa,SAAS,YAG1C,IAAnCQ,EAAK7B,WAAWqY,iBAChBxW,EAAKuW,WAAaA,EACdA,EAAanX,SAASC,iBAAiB,8HAG3CxB,QAAQyB,QAAQiX,GAAY1G,MAAM7P,EAAKpB,SAFnC,6tDAE8BoB,CAAqBA,EAAKrB,SAASa,SAAS,aAInF,GACL,MAAO7C,GACL8C,QAAQC,MAAM,4CACdD,QAAQC,MAAM/C,EAAEgD,c,IAMEC,QAAU,CAAC,SAAU,WAAY,a,yHC9C3DqW,EAAA/Y,EAAA,uCAGaM,EAAA4Y,0BAA4BvY,QACpCD,OAAO,4BAA6B,IAChCiC,WAAW,gCAAiCoW,EAAAI,+BAC5CpY,UAAU,+BAAgC,CACvCC,SAAU,CAACc,UAAW,KACtBa,WAAY,gCACZzB,S,4WCRZ,SAAAqY,EAAY9X,EAAQC,EAAUmB,I,4FAAUlB,CAAAC,KAAA2X,GACpC3X,KAAKH,OAASA,EACdG,KAAKF,SAAWA,EAChBE,KAAKiB,SAAWA,EAChBjB,KAAK4X,eAAL,kJ,EANKD,kC,qCAUL,IAEI3X,KAAKX,WAAaW,KAAKE,UAAUb,WACjCW,KAAK6X,QAAS,EAEhB,MAAOha,GACL8C,QAAQC,MAAM,mDACdD,QAAQC,MAAM/C,EAAEgD,Y,iCAIb,IAAAK,EAAAlB,KACP,IAII,IAAM8X,EAAcxX,SAASC,iBAAiB,mDAS9C,GARIuX,GACAC,MAAMC,KAAKF,GAAapI,QAAQ,SAAAuI,GACvBA,EAAK5V,UAAU6V,SAAS,mBACzBnZ,QAAQyB,QAAQyX,GAAMlH,MAAM7P,EAAKpB,SAASoB,EAAK0W,eAAnB1W,CAAmCA,EAAKrB,SAASa,SAAS,oBAK9FV,KAAK6X,OAAQ,OAGjB,GAA8C,GAA1C7X,KAAKX,WAAW8Y,uBAAgC,QAIb,IAAnCnY,KAAKX,WAAWqY,gBAEhB1X,KAAKiB,SAAS,WACV,IAAImX,EAAc9X,SAASC,iBAAiB,gEAE5CxB,QAAQyB,QAAQ4X,GAAarH,MAAM7P,EAAKpB,SADpC,qEAC+BoB,CAAsBA,EAAKrB,UAC/D,KAKgC,IAAnCG,KAAKX,WAAWqY,qBAAyDhT,IAA9B1E,KAAKX,WAAWgZ,YAAoF,IAAzDrY,KAAKX,WAAWgZ,UAAUC,6BAAyF,IAAlDtY,KAAKX,WAAWgZ,UAAUE,qBACjLvY,KAAKiB,SAAS,WACV,IAAIuX,EAAclY,SAASC,iBAAiB,+DAG5CxB,QAAQyB,QAAQgY,GAAazH,MAAM7P,EAAKpB,SAFpC,kFAE+BoB,CAAsBA,EAAKrB,SAASa,SAAS,YACjF,MAKgC,IAAnCV,KAAKX,WAAWqY,qBAAyDhT,IAA9B1E,KAAKX,WAAWgZ,WAA8D,sBAAnCrY,KAAKX,WAAWgZ,UAAUI,QAC7E,IAAnCzY,KAAKX,WAAWqY,qBAAyDhT,IAA9B1E,KAAKX,WAAWgZ,WAA8D,sBAAnCrY,KAAKX,WAAWgZ,UAAUI,QAC7E,IAAnCzY,KAAKX,WAAWqY,qBAAyDhT,IAA9B1E,KAAKX,WAAWgZ,WAA8D,sBAAnCrY,KAAKX,WAAWgZ,UAAUI,QAC7E,IAAnCzY,KAAKX,WAAWqY,qBAAyDhT,IAA9B1E,KAAKX,WAAWgZ,WAA8D,sBAAnCrY,KAAKX,WAAWgZ,UAAUI,QAC7E,IAAnCzY,KAAKX,WAAWqY,qBAAyDhT,IAA9B1E,KAAKX,WAAWgZ,WAA8D,sBAAnCrY,KAAKX,WAAWgZ,UAAUI,QAEhHzY,KAAKiB,SAAS,WACV,IAAIyX,EAAiBpY,SAASC,iBAAiB,yFAG/CxB,QAAQyB,QAAQkY,GAAgB3H,MAAM7P,EAAKpB,SAFvC,mFAEkCoB,CAAsBA,EAAKrB,SAASa,SAAS,QACpF,IAGPV,KAAK6X,QAAS,EAGhB,MAAOha,GACL8C,QAAQC,MAAM,oDACdD,QAAQC,MAAM/C,EAAEgD,c,IAOKC,QAAU,CAAC,SAAU,WAAY,a,4HCxF9DoW,EAAA9Y,EAAA,0CAGaM,EAAA2Y,6BAA+BtY,QACvCD,OAAO,+BAAgC,IACnCiC,WAAW,mCAAoCmW,EAAAS,kCAC/CxY,UAAU,kCAAoC,CAC3CC,SAAU,CAACc,UAAW,KACtBa,WAAY,sC,mjBCVf4X,6B,qCAELC,WAAW,WAMP,IACS3a,EADL4a,EAAevY,SAASC,iBAAiB,0BAC7C,IAAStC,KAAK4a,EACqB,WAA3BC,EAAOD,EAAa5a,KAAuC,OAApB4a,EAAa5a,KACpD4a,EAAa5a,GAAG8a,QAAU,WAP9BH,WAAW,WACPtY,SAAS0Y,uBAAuB,8DAA8D,GAAGC,SAClG,QAUR,S,+OChBXC,EAAA9a,EAAA,oCAEaM,EAAAya,wBAA0Bpa,QAClCD,OAAO,0BAA2B,IAC9BiC,WAAW,8BAA+BmY,EAAAP,6BAC1CxZ,UAAU,oBAAoB,CAC3BC,SAAU,CAACC,WAAY,KACvB0B,WAAY,iC,wKCPxBmY,EAAA9a,EAAA,qDAEaM,EAAA0a,oCAAsCra,QAC9CD,OAAO,sCAAuC,IAC1CK,UAAU,gCAAkC,CACzCG,SAAU,2KAGcC,SAASC,KAAK0Z,EAAAC,wBAAwBzZ,O,+WCNtE,SAAA2Z,EAAY/V,EAAU0C,I,4FAASjG,CAAAC,KAAAqZ,GAC3BrZ,KAAKsZ,QAAUhW,EAASY,SAASA,SAAS,GAE1ClE,KAAKgG,QAAUA,G,EALVqT,yB,qCASL,IACIrZ,KAAKX,WAAaW,KAAKE,UAAUb,WACjCW,KAAKuZ,UAAY,CAAC,KAAK,KAAK,KAAK,MAC5BvZ,KAAKuZ,UAAUxV,SAAS/D,KAAKX,WAAW0H,OACzC/G,KAAKwZ,eAAe,MAI5B,MAAO3b,GACH8C,QAAQC,MAAM,8CACdD,QAAQC,MAAM/C,EAAEgD,Y,qCAITkG,GAEX/G,KAAKX,WAAWoa,kBAAkBC,kBAAkB3S,GACpD,IAAIhJ,EAAIiC,KAAKX,WACbW,KAAKX,WAAWsa,YAAYC,YAAY7S,GAAMsL,KAAK,WAC/CtU,EAAEkD,SAAS,WAAW,OAAOlD,EAAE8b,OAAOC,GAAG/b,EAAE8b,OAAOE,QAAQ,CAAChT,KAAKA,GAAM,CAACiT,QAAO,Y,IAKlElZ,QAAU,CAAC,a,mHCvBnCmZ,EAAA7b,EAAA,gCAEaM,EAAAwb,oBAAsBnb,QAC9BD,OAAO,sBAAuB,IAC1BiC,WAAW,0BAA2BkZ,EAAAZ,yBACtCla,UAAU,yBAA2B,CAClCC,SAAU,CAACc,UAAW,KACtBa,WAAY,0BAEZzB,SAAU,uM,2VChBlB,SAAA6a,EAAYC,EAAoCva,I,4FAAQE,CAAAC,KAAAma,GACpDna,KAAKoa,mCAAqCA,EAC1Cpa,KAAKH,OAASA,G,EAJTsa,uC,sCAQL,IAII,OAHAna,KAAKX,WAAaW,KAAKE,UAAUb,WACjCW,KAAKH,OAAOwa,OAASra,KAAKoa,mCAAmCE,UAEnC,GAAtBta,KAAKH,OAAOwa,OAMDtb,QAAQyB,QAAQF,SAAS8B,cAAc,kBACtCgN,YAAY,cANbrQ,QAAQyB,QAAQF,SAAS8B,cAAc,kBACtC1B,SAAS,cAQ7B,MAAM7C,GACF8C,QAAQC,MAAM,0EACdD,QAAQC,MAAM/C,EAAEgD,c,IAKUC,QAAU,CAAC,qCAAsC,W,iICzBnF,IAAAyZ,EAAAnc,EAAA,iDACAoc,EAAApc,EAAA,8CAEaM,EAAA+b,kCAAoC1b,QAC5CD,OAAO,oCAAqC,IACxCuK,QAAQ,qCAAsCmR,EAAAJ,oCAC9CrZ,WAAW,wCAAyCwZ,EAAAJ,uCACpDhb,UAAU,uCAAyC,CAChDC,SAAU,CAACc,UAAW,KACtBa,WAAY,2C,wLCZXrC,EAAA0b,mCAAqC,CAAC,YAAa,SAAUM,GAEtE,SAASC,IACL,IACI,IAAKC,eAED,OADAja,QAAQC,MAAM,iCACP,KAEX,IAAIia,EAAMD,eAAeE,QAAQ,mBACjC,OAAKD,EAGEH,EAAUK,YAAYF,GAFlB,KAIf,MAAMhd,GACF8C,QAAQC,MAAM,4DACdD,QAAQC,MAAM/C,EAAEgD,UAwBxB,MAAO,CACHyZ,QArBJ,WACI,IACI,IAAIU,EAAeL,IACnB,OAAKK,IAGoC,UAA3BA,EAAaC,UAAuBD,EAAaE,SAAW,IAF/D,KAUf,MAAMrd,GACF8C,QAAQC,MAAM,qDACdD,QAAQC,MAAM/C,EAAEgD,WAMpB8Z,gBAAiBA,M,iIC5C7B,IAAAV,EAAA7b,EAAA,4CACAmc,EAAAnc,EAAA,8EAEa+c,EAAAzc,EAAAyc,kCAAoCpc,QAC5CD,OAAO,oCAAqC,IACxCK,UAAU,6BAA+B,CACtCC,SAAU,CAACC,WAAY,KACvBC,SAAA,0RAGZ6b,EAAkC5b,SAASC,KAAKya,EAAAC,oBAAoBxa,MACpEyb,EAAkC5b,SAASC,KAAK+a,EAAAE,kCAAkC/a,O,kKCXlFtB,EAAQ,qCACRU,EAAOJ,QAAU,oB,2ECDjBK,QACKD,OAAO,mBAAoB,IAI3BiC,WAAW,yBAA0B,CAAC,WAEnCf,KAAKob,QAAU,WACX,IACI,IAAIpb,KAAKX,WAAWqE,KAAKoE,IAAI0G,QAAQ6M,QAA6D,IAAnDrb,KAAKX,WAAWqE,KAAKoE,IAAI0G,QAAQ6M,OAAOzc,OACnF,OAIJ,IAMQ0c,EACAC,EATRvb,KAAKqb,OAASrb,KAAKX,WAAWqE,KAAKoE,IAAI0G,QAAQ6M,OAAO,GAEnC,wBAAhBrb,KAAKqb,QAAoD,yBAAhBrb,KAAKqb,SAE/B/a,SAAS2V,eAAe,uBAC9B5T,UAAUC,IAAI,sBAIlBiZ,GADAD,EAAWtb,KAAKX,WAAWqE,KAAKoE,IAAIC,QAAQyT,iBAAiB,IAC7CpH,UAAUkH,EAAS7G,YAAY,KAAO,GAGvC,yBAAhBzU,KAAKqb,OACJrb,KAAKkH,IAAM,gDAAkDqU,EAIxC,wBAAhBvb,KAAKqb,SACVrb,KAAKkH,IAAM,wDAA0DqU,IAMjF,MAAM1d,GACF8C,QAAQC,MAAM,2DACdD,QAAQC,MAAM/C,EAAEgD,cAK3B1B,UAAU,mBAAoB,CAC3BC,SAAU,CAAEC,WAAY,KACxB0B,WAAY,yBACZzB,SAAA,44E,qCC9CRlB,EAAQ,uCACRU,EAAOJ,QAAU,sB,6ECDjBK,QACCD,OAAO,qBAAsB,IAEzBK,UAAU,uCAAwC,CAC/CC,SAAU,CAAEC,WAAY,KACxB0B,WAAY,qCACZzB,SAAS,0HAGZH,UAAU,qBAAsB,CAC7BC,SAAU,CAAEC,WAAY,KACxB0B,WAAY,2BACZzB,SAAA,kjDA0BHyB,WAAW,2BAA4B,CAAC,aAAc,SAAU6N,GAC7D5O,KAAKob,QAAU,WACX,IACI,IAAIpb,KAAKX,WAAWqE,KAAKoE,IAAI0G,QAAQ6M,QAA6D,IAAnDrb,KAAKX,WAAWqE,KAAKoE,IAAI0G,QAAQ6M,OAAOzc,OACnF,OAIJ,GAFAoB,KAAKqb,OAASrb,KAAKX,WAAWqE,KAAKoE,IAAI0G,QAAQ6M,OAAO,GAEnC,wBAAhBrb,KAAKqb,OAAiC,CACrC,GAAGrb,KAAKX,WAAWqE,KAAK+X,SAASC,QAAwD,EAA9C1b,KAAKX,WAAWqE,KAAK+X,SAASC,OAAO9c,QAAcoB,KAAKX,WAAWqE,KAAK+X,SAASC,OAAO,GAAGC,OAAgE,EAAvD3b,KAAKX,WAAWqE,KAAK+X,SAASC,OAAO,GAAGC,MAAM/c,OAAW,CASpM,GAAyB,EANPoB,KAAKX,WAAWqE,KAAK+X,SAASC,OAAO,GAAGC,MAAM7S,OAAQ,SAAAc,GACpE,SAAGA,EAAEgS,gBAA6B,KAAXhS,EAAE0J,QAKb1U,OACZ,OAKJgQ,EAAW,gCAAgCyD,KAAK,SAACwJ,GAC7C,IAAIC,EAAWxb,SAAS2V,eAAe,YACvClX,QAAQyB,QAAQsb,EAAS1Z,cAAc,6CAA6C6V,KAAK4D,GACzF9c,QAAQyB,QAAQsb,EAAS1Z,cAAc,+DAA+D6V,KAAK4D,KAKrGvb,SAAS2V,eAAe,uBAC9B5T,UAAUC,IAAI,sBAGtB,IAAIgZ,EAAWtb,KAAKX,WAAWqE,KAAKoE,IAAIC,QAAQyT,iBAAiB,GAC7DD,EAAOD,EAASlH,UAAUkH,EAAS7G,YAAY,KAAO,GAGvC,wBAAhBzU,KAAKqb,SACJrb,KAAKkH,IAAM,uDAAyDqU,IAMhF,MAAM1d,GACF8C,QAAQC,MAAM,6DACdD,QAAQC,MAAM/C,EAAEgD,cAM3BE,WAAW,qCAAsC,CAAC,aAAc,SAAU6N,GACvE5O,KAAKob,QAAU,WAAY,IAsBXW,EAtBW7a,EAAAlB,KACvB,IAEI,GADAA,KAAKgc,cAAe,GAChBhc,KAAKX,WAAW4c,OAAOnU,IAAI0G,QAAQ6M,QAA+D,IAArDrb,KAAKX,WAAW4c,OAAOnU,IAAI0G,QAAQ6M,OAAOzc,OACvF,OAGJ,GADAoB,KAAKqb,OAASrb,KAAKX,WAAW4c,OAAOnU,IAAI0G,QAAQ6M,OAAO,GACnC,wBAAhBrb,KAAKqb,OAAkC,OAC5C,IAAIrb,KAAKX,WAAW4c,OAAOR,SAASC,QAA2D,GAAjD1b,KAAKX,WAAW4c,OAAOR,SAASC,OAAO9c,SAAgBoB,KAAKX,WAAW4c,OAAOR,SAASC,OAAO,GAAGC,OAAmE,GAA1D3b,KAAKX,WAAW4c,OAAOR,SAASC,OAAO,GAAGC,MAAM/c,OAAY,OAQzL,IANToB,KAAKX,WAAW4c,OAAOR,SAASC,OAAO,GAAGC,MAAM7S,OAAQ,SAAAc,GACtE,SAAGA,EAAEgS,gBAA6B,KAAXhS,EAAE0J,QAKb1U,SAEZgQ,EAAW,8BAA8ByD,KAAK,SAACwJ,GAC3C3a,EAAK8a,cAAe,EACpB9a,EAAKgb,iBAAmBL,KAExBE,EAAmB/b,KAAKX,WAAWiE,SAAS,KAE5CyY,EAAiB1Z,UAAUC,IAAI,uBAI3C,MAAMzE,GACF8C,QAAQC,MAAM,uEACdD,QAAQC,MAAM/C,EAAEgD,WAIxBb,KAAKmc,SAAW,WACZ,IACI,IAEQC,EAFJpc,KAAKgc,eAEDI,EADmBpc,KAAKX,WAAWiE,SAAS,GAClBlB,cAAc,wBACzCrD,QAAQyB,QAAQ4b,IAA4C,EAAjCrd,QAAQyB,QAAQ4b,GAAQxd,SAClDG,QAAQyB,QAAQ4b,GAAQzF,KAAK3W,KAAKkc,kBAClClc,KAAKgc,cAAe,EACpBhc,KAAKkc,iBAAmB,KAIpC,MAAMre,GACF8C,QAAQC,MAAM,+EACdD,QAAQC,MAAM/C,EAAEgD,e,qCC9IhCzC,EAAQ,yDACRU,EAAOJ,QAAU,sC,gJCDJA,EAAA2d,mCAAqCtd,QAAQD,OAAO,qCAAsC,CAAC,OACnG+H,OAAO,CAAC,gBAAiB,SAACyV,GACvBA,EAAcC,aAAa/c,KAAK,CAAC,KAAM,SAACgd,GACpC,MAAO,CACH7M,QAAW,SAAC8M,GACR,OAAOA,GAEXC,aAAgB,SAAC/M,GACb,OAAO6M,EAAGG,OAAOhN,IAErBiN,cAAiB,SAACtH,GACd,OAAOkH,EAAGG,OAAOrH,IAErBA,SAAY,SAACuH,GACT,IACI,IAEQ5B,EAFJ,qDAAqD6B,KAAKD,EAAShW,OAAOK,OAEtE+T,EAAYlc,QAAQyB,QAAQF,SAAS8B,cAAc,kBAAkBrB,WAAW,iBAAiB+E,0BAA0BiX,eAAepC,kBAAkBM,UAG5J,CAAC,KAAK,MAAMlX,SAASkX,KACrB4B,EAASvK,KAAK0K,iBAAmB,SAG3C,MAAOpc,GACLD,QAAQkM,IAAIjM,GAEhB,OAAOic,W,qCC3B3Bze,EAAQ,+CACRU,EAAOJ,QAAU,6B,sICDJA,EAAAue,0BAA4Ble,QAAQD,OAAO,4BAA6B,CAAC,OACjF+H,OAAO,CAAC,gBAAiB,SAACyV,GACvBA,EAAcC,aAAa/c,KAAK,CAAC,KAAM,SAACgd,GACpC,MAAO,CACH7M,QAAW,SAAC8M,GACR,OAAOA,GAEXC,aAAgB,SAAC/M,GACb,OAAO6M,EAAGG,OAAOhN,IAErBiN,cAAiB,SAACtH,GACd,OAAOkH,EAAGG,OAAOrH,IAErBA,SAAY,SAACuH,GACT,IACI,GAAI,2CAA2CC,KAAKD,EAAShW,OAAOK,MACzC,KAAnB2V,EAASrH,QAAyC,MAAxBqH,EAASvK,KAAKkD,OAAgB,CACxD,IAAItP,EAAoBnH,QAAQyB,QAAQF,SAAS8B,cAAc,kBAAkB8a,WAAW7H,IAAI,cAAczP,YAAYC,MAAMC,0BAA0BC,mBACtJoX,OAAOlX,UAAU,cAAc,kBAAkBC,kBAEjDkX,EAAsB,CACtB/S,GAAM,CAAC,aAAc,aAAc,iBACnCD,GAAM,CAAC,WAAY,iBAAkB,kBACrCE,GAAM,CAAC,wBAAyB,WAAY,iCAC5C6G,GAAM,CAAC,cAAe,cAAe,0BAErCkM,EAA2B,CAC3BhT,GAAM,CAAC,aAAc,cACrBD,GAAM,CAAC,WAAY,kBACnBE,GAAM,CAAC,wBAAyB,YAChC6G,GAAM,CAAC,cAAe,gBAE1B,IAAImM,OAAOC,KAAKH,GAAqBrZ,SAASmC,GAU1C,KAAA,+BAAqCA,EATrC,IAAIsX,EAA6BC,OAAOL,EAAoBlX,GAAmBwX,IAAI,SAAAC,GAAA,OAAKA,EAAEC,gBAAeC,KAAK,MAYlH,GAVIhB,EAASvK,KAAKA,KAAKwL,MAAMC,KAAKL,IAAI,SAACC,GAC3BH,EAA2BV,KAAKa,EAAEK,WAAWJ,iBAC7CD,EAAEM,OAAS,QAQnBX,OAAOC,KAAKF,GAA0BtZ,SAASmC,GAU/C,KAAA,qCAA2CA,EAT3C,IAAIgY,EAAkCT,OAAOJ,EAAyBnX,GAAmBwX,IAAI,SAAAC,GAAA,OAAKA,EAAEC,gBAAeC,KAAK,MAExHhB,EAASvK,KAAKA,KAAK6L,YAAYC,UAAUV,IAAI,SAACC,GACtCO,EAAgCpB,KAAKa,EAAEU,cAAcT,iBACrDD,EAAEM,OAAS,QAUnC,MAAOrd,GACHD,QAAQC,MAAMA,GAElB,OAAOic,W,qCC/D3Bze,EAAQ,8CACRU,EAAOJ,QAAU,2B,oFCCjBK,QACKD,OAAO,0BAA2B,IAElCiC,WAAW,qBAAsB,CAAC,SAAU,SAAUlB,GACnD,IAAIye,EAAKte,KACTse,EAAGC,SAEH,WACI,IAAIC,EAAKF,EAAGjf,WAAWof,sBAAsBC,SAASC,SAClDC,EAAQ7f,QAAQyB,QAAQF,SAAS8B,cAAc,kBAEnD,OAAgB,EAAZoc,EAAG5f,OACIggB,EAAMle,SAAS,SAKfke,EAAMxP,YAAY,aAOpCjQ,UAAU,kBAAmB,CAC1BC,SAAU,CAAEC,WAAY,KACxB0B,WAAY,qBACZzB,SAAU,6H,uFC7BLZ,EAAAmgB,mBAAqB,WAC9B,MAAO,CACH7X,MAAO,CACH8X,QAAS,CACL1U,GAAI,YACJC,GAAI,eACJC,GAAI,iCACJ6G,GAAI,4BAER4N,KAAK,CACD3U,GAAI,wBACJC,GAAI,mBACJC,GAAI,YACJ6G,GAAI,oBAER6N,IAAI,CACA5U,GAAI,yBACJC,GAAI,WACJC,GAAI,wBACJ6G,GAAI,wB,2TCjBhB,SAAA8N,EAAahK,EAAMiK,EAAoBL,EAAoBM,I,4FAAsBpf,CAAAC,KAAAif,GAC7Ejf,KAAKiV,KAAOA,EACZjV,KAAKkf,mBAAqBA,EAC1Blf,KAAK6G,OAASgY,EACd7e,KAAKmf,oBAAsBA,EAC3Bnf,KAAK+G,KAAO/G,KAAKkf,mBAAmB5Z,e,EAP/B2Z,wB,qCAUC,IAAA/d,EAAAlB,KACN,IACIA,KAAKmf,oBAAoBC,QAAQpf,KAAK+G,MACjCsL,KAAK,SAACC,GACH,IACIpR,EAAKme,WAAa,wCAClBne,EAAKoe,KAAOhN,EAAKiN,QAErB,MAAM1hB,GACF8C,QAAQC,MAAM,4FACdD,QAAQC,MAAM/C,EAAEgD,YAIhC,MAAMhD,GACF8C,QAAQC,MAAM,qEACdD,QAAQC,MAAM/C,EAAEgD,Y,yCAGLoX,GACf,IAAIuH,EAAMlf,SAASiC,cAAc,OAEjC,OADAid,EAAIhd,UAAYyV,EACTjY,KAAKiV,KAAKwK,YAAYD,EAAIE,iB,IAKlB5e,QAAU,CAAC,OAAQ,qBAAsB,qBAAsB,wB,uFCvBzEpC,EAAAygB,oBAAsB,CAAC,QAAS,OAAQ,SAASnK,EAAOC,GAgCjE,MAAO,CACHmK,QA/BJ,SAAiBrY,GAIF,OAFPA,EADAA,GACO,OAEgB,MAARA,IACfA,EAAO,MAGX,IAAIG,EAAM,+CAGV,OAFA+N,EAAKG,mBAAmBlO,GAEjB8N,EAAMK,IAAInO,EAAI,CAACyY,QAAQ,CAAEC,8BAA0Blb,KACrD2N,KACG,SAASiD,GAEL,OADA3U,QAAQkM,IAAI,UAAY9F,GACjBuO,EAAShD,MAEpB,SAASiD,GACL,IAAI3U,EAAQ,4DAA8D2U,EAAUC,OAMpF,OALID,EAAUjD,MAAQiD,EAAUjD,KAAKmD,eACjC7U,GAAS,MAAQ2U,EAAUjD,KAAKmD,cAGpC9U,QAAQC,MAAMA,GACP,Y,uFC5BdlC,EAAAwgB,mBAAqB,CAAC,aAAc,SAAUja,GA+DvD,MAAO,CACHK,YA9DJ,WACI,IACI,IAAIK,EAAMV,EAAWW,YAAYC,MAAMC,0BACvC,OAAKH,EAKMA,EAAII,mBAAqBC,QAAQC,UAAU,cAAc,kBAAkBC,mBAJlFvF,QAAQC,MAAM,2EACP,MAMf,MAAM/C,GAGF,OAFA8C,QAAQC,MAAM,mEACdD,QAAQC,MAAM/C,EAAEgD,SACT,OAiDX+F,SA5CJ,SAAkBC,EAAQC,GACtB,IACI,IAAIC,EAAO/G,KAAKsF,cAChB,OAAKuB,EAAOG,MAAMF,GAIfD,EAAOG,MAAMF,GAAKC,IAIVF,EAAOG,MAAMF,GAAb,IAPPnG,QAAQC,MAAM,6CAA+CkG,EAAM,mBAC5DA,GASf,MAAMjJ,GAGF,OAFA8C,QAAQC,MAAM,gEACdD,QAAQC,MAAM/C,EAAEgD,SACT,KA4BXoG,OAxBJ,SAAgBJ,EAAQC,GACpB,IACI,IAAIC,EAAO/G,KAAKsF,cAChB,OAAKuB,EAAOK,IAAIJ,GAIbD,EAAOK,IAAIJ,GAAKC,IAIRF,EAAOK,IAAIJ,GAAX,IAPPnG,QAAQC,MAAM,2CAA6CkG,EAAM,mBAC1D,IASf,MAAMjJ,GAGF,OAFA8C,QAAQC,MAAM,8DACdD,QAAQC,MAAM/C,EAAEgD,SACT,S,mHCvEnB,IAAAgf,EAAAzhB,EAAA,iCACA0hB,EAAA1hB,EAAA,kCACA2hB,EAAA3hB,EAAA,sCAEA4hB,EAAA5hB,EAAA,mCAEa6hB,EAAAvhB,EAAAuhB,mBAAqBlhB,QAC7BD,OAAO,qBAAsB,IACzBuK,QAAQ,qBAAsBwW,EAAAX,oBAC9B7V,QAAQ,qBAAsByW,EAAAjB,oBAC9BxV,QAAQ,sBAAuB2W,EAAAb,qBAC/Bpe,WAAW,yBAA0Bgf,EAAAd,wBACrC9f,UAAU,wBAAwB,CAC/BC,SAAU,CAACc,UAAW,KACtBa,WAAY,yBACZzB,S,q4CAGZ2gB,EAAmB1gB,SAASC,KAAKygB,EAAmBvgB,O,6LClBpDtB,EAAQ,qCACRU,EAAOJ,QAAU,mB,qMCDjBK,QACKD,OAAO,kBAAmB,IAC1BiC,WAAW,4BAA6B,CAAC,SAAU,YAAa,SAAUlB,EAAOqgB,GAC9E,IAAI5B,EAAKte,KACTA,KAAKob,QAAU,WAGX,IAKQ+E,EAL8B,aAAlCD,EAAUE,OAAOxC,gBAEjBU,EAAG+B,OAASH,EAAUG,SAGlBF,EAAkB7B,EAAGjf,WAAWihB,eACpCzgB,EAAO6L,OACH,WACI,OAAI3M,QAAQiV,UAAUmM,EAAgBI,YAC/BJ,EAAgBI,WAAW3hB,OAE7B,GAET,SAAU+M,EAAUC,GAClB,IAOQ4U,EA4BFC,EAgBAC,EA8BIC,EAjFK,EAAXhV,IACEiV,EAAST,EAAgBI,WAE7B5f,QAAQkM,IAAI+T,GAEZjgB,QAAQkM,IAAIyR,EAAG+B,QAETQ,EAAAC,EAAA,CACF7c,MAAS,YACT8c,aAAgB,aAChBC,aAAgB,cAHd,QAIQ,cAJRH,EAAAC,EAKF,SAAU,UALRD,EAAAC,EAMF,YAAa,iBANXD,EAAAC,EAOF,kBAAmB,eAPjBD,EAAAC,EAQF,OAAS,YARPD,EAAAC,EASF,OAAS,YATPD,EAAAC,EAUF,MAAQ,WAVND,EAAAC,EAWF,YAAc,aAXZD,EAAAC,EAYF,UAAY,aAZVD,EAAAC,EAaF,UAAY,eAbVD,EAAAC,EAcF,SAAW,cAdTD,EAAAC,EAeF,QAAU,aAfRD,EAAAC,EAgBF,OAAS,YAhBPN,EAAAM,EAoBF/hB,QAAQiV,UAAUsK,EAAG+B,OAAO,gBACF,WAA1B/B,EAAG+B,OAAO,cAAuD,WAA1B/B,EAAG+B,OAAO,cAAwD,QAA1B/B,EAAG+B,OAAO,cAAqD,IAA3B/B,EAAG+B,OAAO,iBAC7HF,EAAgBc,SAAhB,aAA2C,KAC3Cd,EAAgBI,WAAW,GAAGW,OAAOC,WAIzCxgB,QAAQkM,IAAIsT,EAAgBc,UAE5BliB,QAAQ2Q,QAAQkR,EAAQ,SAASQ,GAC3BriB,QAAQiV,UAAUwM,EAAUY,EAAMta,QACpC2Z,EAAgBD,EAAUY,EAAMta,KAChCqZ,EAAgBc,SAASG,EAAM1hB,MAAQ4e,EAAG+B,OAAOI,MAOjD1hB,QAAQiV,UAAUsK,EAAG+B,OAAO,cAAyC,IAAzB/B,EAAG+B,OAAO,aAAoE,IAA/CF,EAAgBc,SAAhB,kBAC3Ed,EAAgBc,SAAhB,gBAA8C3C,EAAG+B,OAAO,aAIxDK,EAAcpC,EAAG+B,OAAO,aACxBthB,QAAQiV,UAAUsK,EAAG+B,OAAO,eAA2C,IAA1B/B,EAAG+B,OAAO,eACvDK,EAAcA,EAAc,IAAMpC,EAAG+B,OAAO,cAEhDF,EAAgBc,SAAhB,iBAA+CP,EAGjB,WAA1BpC,EAAG+B,OAAO,eACVF,EAAgBc,SAAhB,cAA4C3C,EAAG+B,OAAO,eAIrDthB,QAAQiV,UAAUsK,EAAG+B,OAAO,YAAqC,IAAvB/B,EAAG+B,OAAO,YACjDgB,EAAS,GACTtiB,QAAQiV,UAAUsK,EAAG+B,OAAO,gBAA6C,IAA3B/B,EAAG+B,OAAO,gBACxDgB,EAAS/C,EAAG+B,OAAO,eAEnBthB,QAAQiV,UAAUsK,EAAG+B,OAAO,iBAA+C,IAA5B/B,EAAG+B,OAAO,eACzDgB,EAASA,EAAS,KAAO/C,EAAG+B,OAAO,eAE9BthB,QAAQiV,UAAUsK,EAAG+B,OAAO,gBAA6C,IAA3B/B,EAAG+B,OAAO,gBAC7DgB,EAASA,EAAS,KAAO/C,EAAG+B,OAAO,eAEzB,IAAVgB,IACAlB,EAAgBc,SAAhB,OAAqCI,IAKzCtiB,QAAQiV,UAAUsK,EAAG+B,OAAO,eAA4C,QAA1B/B,EAAG+B,OAAO,eACpDM,EAAU,GACV5hB,QAAQiV,UAAUsK,EAAG+B,OAAO,gBAA6C,IAA3B/B,EAAG+B,OAAO,gBACxDM,EAAU,QAAUrC,EAAG+B,OAAO,eAE9BthB,QAAQiV,UAAUsK,EAAG+B,OAAO,eAA2C,IAA1B/B,EAAG+B,OAAO,eACvDM,EAAUA,EAAU,QAAUrC,EAAG+B,OAAO,cAExCthB,QAAQiV,UAAUsK,EAAG+B,OAAO,cAAyC,IAAzB/B,EAAG+B,OAAO,cACtDM,EAAUA,EAAU,UAAYrC,EAAG+B,OAAO,aAK/B,KAFXM,EADA5hB,QAAQiV,UAAUsK,EAAG+B,OAAO,aAAuC,IAAxB/B,EAAG+B,OAAO,WAC3CM,EAAU,SAAWrC,EAAG+B,OAAO,WAEzCM,KACAR,EAAgBc,SAAhB,QAAsCN,IAK1C5hB,QAAQiV,UAAUsK,EAAG+B,OAAO,eAA2C,IAA1B/B,EAAG+B,OAAO,cACvDthB,QAAQiV,UAAUsK,EAAG+B,OAAO,mBAAmD,IAA9B/B,EAAG+B,OAAO,mBACvDF,EAAgBc,SAAhB,UAAwC3C,EAAG+B,OAAO,aAAe,KAAO/B,EAAG+B,OAAO,kBAItFthB,QAAQiV,UAAUsK,EAAG+B,OAAO,eAA2C,WAA1B/B,EAAG+B,OAAO,eACvDF,EAAgBc,SAAhB,gBAA8C,YAqBrE9hB,UAAU,mBAAoB,CAC3BC,SAAU,CAACC,WAAA,KACX0B,WAAY,4BACZzB,SAAU,M,sCCxJlBlB,EAAQ,8CACRU,EAAOJ,QAAU,4B,sFCDjBK,QACKD,OAAO,2BAA4B,IACnCiC,WAAW,qCAAsC,CAAC,SAAU,SAAUlB,GACnE,IAAIye,EAAKte,KACTA,KAAKob,QAAU,WAEXvb,EAAO6L,OACH,WACI,OAAI3M,QAAQiV,UAAUsK,EAAGjf,WAAWqI,MAAQ3I,QAAQiV,UAAUsK,EAAGjf,WAAWqI,IAAIO,OAErEqW,EAAGjf,WAAWqI,IAAIO,MAEtB,GAEX,WAEI,GAAIlJ,QAAQiV,UAAUsK,EAAGjf,WAAWqI,KAI3B,GAAI4W,EAAGjf,WAAWiiB,aAEd3gB,QAAQkM,IAAI,2DAEX,CAIDlM,QAAQkM,IAAI,kCAIX,IAFD,IAAI0U,EAAgBjD,EAAGjf,WAAWqI,IAAIO,MAE7BhK,EAAI,EAAGA,EAAIsjB,EAAc3iB,OAAQX,IACrCsjB,EAActjB,GAAGujB,WAAW,GAAK,+FAQlEriB,UAAU,yBAA0B,CACjCC,SAAU,CAACC,WAAA,KACX0B,WAAY,qCACZzB,SAAU","file":"custom.js","sourcesContent":["(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c=\"function\"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error(\"Cannot find module '\"+i+\"'\");throw a.code=\"MODULE_NOT_FOUND\",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u=\"function\"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()","//import './slsp-courier-info';\r\nimport './slsp-ill-signin-order-alert';\r\nimport './prm-locations-after';\r\nimport './prm-location-items-after';\r\nimport './slsp-archives-htgi';\r\nimport './slsp-archives-viewit';\r\nimport './slsp-http-intercept-requests';\r\nimport './prm-user-area-expandable-after';\r\nimport './prm-loan-after';\r\nimport './prm-personal-info-after';\r\nimport './prm-alma-other-members-after';\r\nimport './prm-service-ngrs-after';\r\nimport './prm-service-physical-best-offer-after';\r\nimport './slsp-http-intercept-pickup-information';\r\nimport './prm-search-bar-after';\r\nimport './prm-tabs-and-scopes-selector-after';\r\nimport './prm-service-button-after';\r\nimport './prm-service-details-after';\r\nimport './prm-full-view-after';\r\nimport './prm-request-after';\r\nimport './prm-requests-after';\r\nimport './prm-alma-viewit-items-after';\r\nimport './prm-alma-other-units-after';\r\nimport './prm-login-after';\r\nimport './prm-location-holdings-after';\r\nimport './unige-bib-news';\r\nimport './unige-ill-open-url';\r\nimport './unige-non-circulating-label';\r\n\r\nvar app = angular.module('viewCustom', ['angularLoad', 'slspIllSigninOrderAlert', 'ethLocationsAfterModule', 'ethLocationItemsAfterModule', 'slspArchivesHtgi', 'slspArchivesViewit', 'slspHttpInterceptRequests', 'slspUserAreaExpandableAfterModule', 'slspLoanAfterModule', 'slspPersonalInfoAfterModule', 'prmAlmaOtherMembersAfterModule', 'prmServiceNgrsAfterModule', 'prmServicePhysicalBestOfferAfterModule', 'slspHttpInterceptPickupInformation', 'bcuSearchBarAfterModule', 'bcuTabsAndScopesSelectorAfterModule', 'prmServiceButtonAfterModule', 'prmServiceDetailsAfterModule', 'prmFullViewAfterModule', 'slspRequestAfterModule', 'slspRequestsAfterModule', 'prmAlmaViewitItemsAfterModule', 'prmAlmaOtherUnitsAfterModule', 'prmLoginAfterModule', 'prmLocationHoldingsAfterModule', 'unigeBibNewsModule', 'unigeIllOpenUrl', 'unigeNonCirculatingLabel']);\r\n","\r\nimport {slspCollapseOtherInstModule} from './slsp-collapse-other-inst/slsp-collapse-other-inst.module';\r\nimport {slspIconLabelOtherMembersModule} from './slsp-icon-label-other-members/slsp-icon-label-other-members.module';\r\n\r\nexport const prmAlmaOtherMembersAfterModule = angular\r\n    .module('prmAlmaOtherMembersAfterModule', [])\r\n        .component('prmAlmaOtherMembersAfter',  {\r\n            bindings: {parentCtrl: '<'},\r\n            template: `<slsp-collapse-other-inst-component after-ctrl=\"$ctrl\"></slsp-collapse-other-inst-component><slsp-icon-label-other-members-component after-ctrl=\"$ctrl\"></slsp-icon-label-other-members-component><slsp-alma-other-members-after parent-ctrl=\"$parent.$ctrl\"></slsp-alma-other-members-after>`\r\n        });\r\n\r\nprmAlmaOtherMembersAfterModule.requires.push(slspCollapseOtherInstModule.name);\r\nprmAlmaOtherMembersAfterModule.requires.push(slspIconLabelOtherMembersModule.name);","\r\n\r\n//--------CollapseOtherInst ---------------------------------------\r\n\r\n\r\nexport class slspCollapseOtherInstController {\r\n\r\n    constructor( $scope, $compile) {\r\n        this.$scope = $scope;\r\n        this.$compile = $compile;\r\n    }\r\n\r\n    $onInit() {\r\n        try {\r\n            this.parentCtrl = this.afterCtrl.parentCtrl;\r\n\r\n            if (this.parentCtrl.serviceMode !== 'howovp') {\r\n           \r\n                this.parentCtrl.isCollapsed = true;\r\n            }\r\n            else {\r\n                this.parentCtrl.isCollapsed = false;\r\n\r\n                if (this.parentCtrl.availabilityType == 'P') {\r\n                        this.noItemAtPickupLocation = noItemAtPickupLocation ;\r\n                        let noItemAtPickupLocation = document.querySelectorAll(`prm-alma-other-members[ng-if=\"$ctrl.ifShowOther('P')\"]`);\r\n                        let htmlnoItemAtPickupLocation = `<div class=\"bar alert-bar zero-margin-bottom layout-align-center-center layout-row\"><span class=\"center\" translate=\"customized.alert.nolocations\">​</span></div>`;\r\n                            \r\n                            angular.element(noItemAtPickupLocation).prepend(this.$compile(htmlnoItemAtPickupLocation)(this.$scope)).addClass('noItemAtPickupLocation');\r\n                }\r\n            }\r\n        }\r\n            \r\n            \r\n       \r\n        catch (e) {\r\n            console.error(\"***SLSP*** an error occured: slspCollapseOtherInstController\\n\\n\");\r\n            console.error(e.message);\r\n        }\r\n    }\r\n }\r\n\r\n\r\nslspCollapseOtherInstController.$inject =  ['$scope', '$compile'];\r\n\r\n","\r\n    import {slspCollapseOtherInstController} from './slsp-collapse-other-inst.controller';\r\n    import {slspCollapseOtherInstHtml} from './slsp-collapse-other-inst.html';\r\n\r\n    export const slspCollapseOtherInstModule = angular\r\n        .module('slspCollapseOtherInstModule', [])\r\n            .controller('slspCollapseOtherInstController', slspCollapseOtherInstController)\r\n            .component('slspCollapseOtherInstComponent', {\r\n                bindings: {afterCtrl: '<'},\r\n                controller: 'slspCollapseOtherInstController',\r\n                template: slspCollapseOtherInstHtml\r\n            })","\r\n\r\n//--------slspIconLabel ---------------------------------------\r\n\r\n\r\nexport class slspIconLabelOtherMembersController {\r\n\r\n    constructor( $scope, $compile, $timeout ) {\r\n        this.$scope = $scope;\r\n        this.$compile = $compile;\r\n        this.$timeout = $timeout;\r\n    }\r\n\r\n    \r\n\r\n    $onInit() {\r\n        try{\r\n            this.$timeout(() => {\r\n                this.parentCtrl = this.afterCtrl.parentCtrl;\r\n                \r\n                if (this.parentCtrl.availabilityType == \"E\") {\r\n                    \r\n                        this.iconLabelOtherMembersE = iconLabelOtherMembersE ;\r\n                        let iconLabelOtherMembersE = document.querySelectorAll(`prm-alma-other-members[ng-if=\"$ctrl.ifShowOther('E')\"] md-tab-content._md.md-active.md-no-scroll div md-content._md.md-primoExplore-theme md-list.md-primoExplore-theme`);\r\n                        let htmlOtherMembersE = `<div class=\"icnWrp\"><div class=\"iconDiv\"><svg xmlns=\"http://www.w3.org/2000/svg\" id=\"Ebene_2\" width=\"100%\" height=\"100%\" viewBox=\"0 0 185 185\"><g id=\"System_icons\"><g><rect width=\"185\" height=\"185\" fill=\"none\" opacity=\".2\"/><g id=\"Outline_Icons\"><g><path d=\"M155.98,92.26c0,35.19-28.5,63.72-63.66,63.72-35.16,0-63.3-29.68-63.3-64.87S55.9,30.44,89.77,29.08c.92-.04,1.83-.06,2.76-.06,35.16,0,63.45,28.05,63.45,63.24Z\" fill=\"none\" stroke=\"#000\" stroke-linejoin=\"round\" stroke-width=\"6\"/><path d=\"M89.77,29.08c-33.12,35.88-33.12,82.69,0,126.85\" fill=\"none\" stroke=\"#000\" stroke-linejoin=\"round\" stroke-width=\"6\"/><path d=\"M95.29,29.08c33.12,35.88,33.12,82.67,0,126.83\" fill=\"none\" stroke=\"#000\" stroke-linejoin=\"round\" stroke-width=\"6\"/><line x1=\"39.43\" y1=\"56.62\" x2=\"145.06\" y2=\"56.62\" fill=\"none\" stroke=\"#000\" stroke-linejoin=\"round\" stroke-width=\"6\"/><line x1=\"29.04\" y1=\"89.74\" x2=\"155.98\" y2=\"89.74\" fill=\"none\" stroke=\"#000\" stroke-linejoin=\"round\" stroke-width=\"6\"/><line x1=\"37.22\" y1=\"122.86\" x2=\"148.17\" y2=\"122.86\" fill=\"none\" stroke=\"#000\" stroke-linejoin=\"round\" stroke-width=\"6\"/></g></g></g></g></svg></div><div class=\"iconLabel\" translate=\"customized.fee.online\"></div></div>`;\r\n                            \r\n                            angular.element(iconLabelOtherMembersE).prepend(this.$compile(htmlOtherMembersE)(this.$scope)).addClass('icnLblOtherMembersE');\r\n                }\r\n\r\n                if (this.parentCtrl.availabilityType == \"P\") {\r\n                    \r\n                                        \r\n                    this.iconLabelOtherMembersP2 = iconLabelOtherMembersP2 ;\r\n                    let iconLabelOtherMembersP2 = document.querySelectorAll(`prm-alma-other-members[ng-if=\"$ctrl.ifShowOther('P')\"] md-tab-content._md.md-active.md-no-scroll div md-content._md.md-primoExplore-theme md-list.md-primoExplore-theme`);\r\n                    let htmlOtherMembersP2 = `<div class=\"icnWrp\"><div class=\"iconDiv\"><svg xmlns=\"http://www.w3.org/2000/svg\" id=\"Ebene_4\" width=\"100%\" height=\"100%\" viewBox=\"0 0 185 185\"><g id=\"System_icons\"><g><rect width=\"185\" height=\"185\" fill=\"none\" opacity=\".2\"/><g><rect x=\"32.65\" y=\"139.75\" width=\"119.7\" height=\"12.6\" fill=\"none\" stroke=\"#000\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"6\"/><rect x=\"38.95\" y=\"70.45\" width=\"107.1\" height=\"69.3\" fill=\"none\" stroke=\"#000\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"6\"/><line x1=\"164.95\" y1=\"152.35\" x2=\"20.05\" y2=\"152.35\" fill=\"none\" stroke=\"#000\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"6\"/><line x1=\"51.55\" y1=\"70.45\" x2=\"51.55\" y2=\"139.75\" fill=\"none\" stroke=\"#000\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"6\"/><line x1=\"83.05\" y1=\"70.45\" x2=\"83.05\" y2=\"139.75\" fill=\"none\" stroke=\"#000\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"6\"/><line x1=\"70.45\" y1=\"70.45\" x2=\"70.45\" y2=\"139.75\" fill=\"none\" stroke=\"#000\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"6\"/><line x1=\"101.95\" y1=\"70.45\" x2=\"101.95\" y2=\"139.75\" fill=\"none\" stroke=\"#000\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"6\"/><line x1=\"114.55\" y1=\"70.45\" x2=\"114.55\" y2=\"139.75\" fill=\"none\" stroke=\"#000\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"6\"/><line x1=\"133.45\" y1=\"70.45\" x2=\"133.45\" y2=\"139.75\" fill=\"none\" stroke=\"#000\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"6\"/><polygon points=\"158.65 70.45 26.35 70.45 92.5 32.65 158.65 70.45\" fill=\"none\" stroke=\"#000\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"6\"/></g></g></g></svg></div><div class=\"iconLabel\" translate=\"customized.fee.physical\"></div></div>`;\r\n                        \r\n                        angular.element(iconLabelOtherMembersP2).prepend(this.$compile(htmlOtherMembersP2)(this.$scope)).addClass('icnLblOtherMembersP2');\r\n                }\r\n\r\n\r\n          \r\n                \r\n            },0);   \r\n        }\r\n        \r\n        catch(e){\r\n            console.error(\"***SLSP*** an error occured: Rapido \\n\\n\");\r\n            console.error(e.message);\r\n        }\r\n    }\r\n    \r\n}\r\n\r\nslspIconLabelOtherMembersController.$inject =  [ '$scope', '$compile', '$timeout'];\r\n\r\n","\r\n    import {slspIconLabelOtherMembersController} from './slsp-icon-label-other-members.controller';\r\n    import {slspIconLabelOtherMembersHtml} from './slsp-icon-label-other-members.html';\r\n\r\n    export const slspIconLabelOtherMembersModule = angular\r\n        .module('slspIconLabelOtherMembersModule', [])\r\n            .controller('slspIconLabelOtherMembersController', slspIconLabelOtherMembersController)\r\n            .component('slspIconLabelOtherMembersComponent', {\r\n                bindings: {afterCtrl: '<'},\r\n                controller: 'slspIconLabelOtherMembersController',\r\n                template: slspIconLabelOtherMembersHtml\r\n            })","import { slspIconLabelOtherUnitsModule } from './slsp-icon-label-other-units/slsp-icon-label-other-units.module';\r\n\r\nexport const prmAlmaOtherUnitsAfterModule = angular\r\n    .module('prmAlmaOtherUnitsAfterModule', [])\r\n    .component('prmAlmaOtherUnitsAfter', {\r\n        bindings: { parentCtrl: '<' },\r\n        template: `<slsp-icon-label-other-units-component after-ctrl=\"$ctrl\"></slsp-icon-label-other-units-component><slsp-alma-other-units-after parent-ctrl=\"$parent.$ctrl\"></slsp-alma-other-units-after>`\r\n    });\r\n\r\n\r\nprmAlmaOtherUnitsAfterModule.requires.push(slspIconLabelOtherUnitsModule.name);","//--------slspIconLabel ---------------------------------------\r\n\r\n\r\nexport class slspIconLabelOtherUnitsController {\r\n\r\n    constructor($scope, $compile, $timeout) {\r\n        this.$scope = $scope;\r\n        this.$compile = $compile;\r\n        this.$timeout = $timeout;\r\n    }\r\n\r\n\r\n\r\n    $onInit() {\r\n        try {\r\n            this.$timeout(() => {\r\n                this.parentCtrl = this.afterCtrl.parentCtrl;\r\n\r\n                let iconLabelOtherUnitsE = document.querySelectorAll(`prm-alma-other-units md-content md-list.md-primoExplore-theme`);\r\n                let htmlOtherUnitsE = `<div class=\"icnWrp\"><div class=\"iconDiv\"><svg xmlns=\"http://www.w3.org/2000/svg\" id=\"Ebene_2\" width=\"100%\" height=\"100%\" viewBox=\"0 0 185 185\"><g id=\"System_icons\"><g><rect width=\"185\" height=\"185\" fill=\"none\" opacity=\".2\"/><g id=\"Outline_Icons\"><g><path d=\"M155.98,92.26c0,35.19-28.5,63.72-63.66,63.72-35.16,0-63.3-29.68-63.3-64.87S55.9,30.44,89.77,29.08c.92-.04,1.83-.06,2.76-.06,35.16,0,63.45,28.05,63.45,63.24Z\" fill=\"none\" stroke=\"#000\" stroke-linejoin=\"round\" stroke-width=\"6\"/><path d=\"M89.77,29.08c-33.12,35.88-33.12,82.69,0,126.85\" fill=\"none\" stroke=\"#000\" stroke-linejoin=\"round\" stroke-width=\"6\"/><path d=\"M95.29,29.08c33.12,35.88,33.12,82.67,0,126.83\" fill=\"none\" stroke=\"#000\" stroke-linejoin=\"round\" stroke-width=\"6\"/><line x1=\"39.43\" y1=\"56.62\" x2=\"145.06\" y2=\"56.62\" fill=\"none\" stroke=\"#000\" stroke-linejoin=\"round\" stroke-width=\"6\"/><line x1=\"29.04\" y1=\"89.74\" x2=\"155.98\" y2=\"89.74\" fill=\"none\" stroke=\"#000\" stroke-linejoin=\"round\" stroke-width=\"6\"/><line x1=\"37.22\" y1=\"122.86\" x2=\"148.17\" y2=\"122.86\" fill=\"none\" stroke=\"#000\" stroke-linejoin=\"round\" stroke-width=\"6\"/></g></g></g></g></svg></div><div class=\"iconLabel\" translate=\"customized.fee.online\"></div></div>`;\r\n\r\n                angular.element(iconLabelOtherUnitsE).prepend(this.$compile(htmlOtherUnitsE)(this.$scope)).addClass('icnLblOtherUnitsE');\r\n\r\n                //not collapsed by default\r\n                this.parentCtrl.isCollapsed = false;\r\n\r\n\r\n            }, 0);\r\n        } catch (e) {\r\n            console.error(\"***SLSP*** an error occured:  \\n\\n\");\r\n            console.error(e.message);\r\n        }\r\n    }\r\n\r\n}\r\n\r\nslspIconLabelOtherUnitsController.$inject = ['$scope', '$compile', '$timeout'];","import { slspIconLabelOtherUnitsController } from './slsp-icon-label-other-units.controller';\r\nimport { slspIconLabelOtherUnitsHtml } from './slsp-icon-label-other-units.html';\r\n\r\nexport const slspIconLabelOtherUnitsModule = angular\r\n    .module('slspIconLabelOtherUnitsModule', [])\r\n    .controller('slspIconLabelOtherUnitsController', slspIconLabelOtherUnitsController)\r\n    .component('slspIconLabelOtherUnitsComponent', {\r\n        bindings: { afterCtrl: '<' },\r\n        controller: 'slspIconLabelOtherUnitsController',\r\n        template: slspIconLabelOtherUnitsHtml\r\n    })","import { slspIconLabelViewitItemsModule } from './slsp-icon-label-viewit-items/slsp-icon-label-viewit-items.module';\r\nimport { slspCollapseRelatedEResourcesModule } from './slsp-collapse-related-e-resources/slsp-collapse-related-e-resources.module';\r\n\r\nexport const prmAlmaViewitItemsAfterModule = angular\r\n    .module('prmAlmaViewitItemsAfterModule', [])\r\n    .component('prmAlmaViewitItemsAfter', {\r\n        bindings: { parentCtrl: '<' },\r\n        template: `<slsp-icon-label-viewit-items-component after-ctrl=\"$ctrl\"></slsp-icon-label-viewit-items-component>\r\n                    <slsp-collapse-related-e-resources-component after-ctrl=\"$ctrl\"></slsp-collapse-related-e-resources-component>\r\n                    <slsp-alma-viewit-items-after parent-ctrl=\"$parent.$ctrl\"></slsp-alma-viewit-items-after>`\r\n    });\r\n\r\n\r\nprmAlmaViewitItemsAfterModule.requires.push(slspIconLabelViewitItemsModule.name);\r\nprmAlmaViewitItemsAfterModule.requires.push(slspCollapseRelatedEResourcesModule.name);","//-------- ---------------------------------------\r\n\r\n\r\nexport class slspCollapseRelatedEResourcesController {\r\n    constructor($scope, $compile, $timeout) {\r\n        this.$scope = $scope;\r\n        this.$compile = $compile;\r\n        this.$timeout = $timeout;\r\n    }\r\n\r\n    $onInit() {\r\n        try {\r\n            this.$timeout(() => {\r\n                this.parentCtrl = this.afterCtrl.parentCtrl;\r\n\r\n                if (this.parentCtrl.serviceType === 'ELECTRONIC_RELATED') {\r\n                    const list2Element = document.querySelector('#getit_link1_0 > div > prm-full-view-service-container > div.section-body > div > prm-alma-viewit > prm-alma-viewit-items:nth-child(2) > md-list');\r\n                    list2Element.classList.add('collapsed');\r\n\r\n                    const buttonElement = document.createElement('button');\r\n                    buttonElement.classList.add('section-title', 'md-button', 'md-primoExplore-theme', 'md-ink-ripple', 'layout-fill', 'collapsed');\r\n                    buttonElement.innerHTML = `<div layout=\"row\" layout-align=\"start center\" class=\"layout-align-start-center layout-row\"><h3 class=\"medium-uppercase-bold\" aria-expanded=\"false\"><br><span translate=\"c.uresolverServicesForRelatedTitles\" class=\"bold-text\"></span><prm-icon icon-type=\"svg\" svg-icon-set=\"primo-ui\" icon-definition=\"chevron-right\" class=\"arrow-icon\" style=\"\"><md-icon ng-if=\"($ctrl.iconDefinition &amp;&amp; !$ctrl.isCustom &amp;&amp; !$ctrl.isEmailMode())\" md-svg-icon=\"primo-ui:chevron-right\" role=\"presentation\" class=\"md-primoExplore-theme\"><svg width=\"100%\" height=\"100%\" viewBox=\"0 0 24 24\" y=\"384\" xmlns=\"http://www.w3.org/2000/svg\" fit=\"\" preserveAspectRatio=\"xMidYMid meet\" focusable=\"false\"><path d=\"M8.59,16.58L13.17,12L8.59,7.41L10,6L16,12L10,18L8.59,16.58Z\"></path></svg></md-icon></prm-icon></h3></div>`;\r\n\r\n                    buttonElement.addEventListener('click', function() {\r\n                        list2Element.classList.toggle('collapsed');\r\n                        buttonElement.querySelector('.arrow-icon').classList.toggle('rotate-90');\r\n                    });\r\n\r\n                    const titleElement = document.querySelector('#getit_link1_0 span[translate=\"c.uresolverServicesForRelatedTitles\"]');\r\n                    const titleParentElement = titleElement.parentNode;\r\n                    const titleGrandParentElement = titleParentElement.parentNode;\r\n                    titleGrandParentElement.replaceChild(buttonElement, titleParentElement);\r\n\r\n                    // Add a timeout to ensure that the element is compiled after the DOM has fully rendered\r\n                    this.$timeout(() => {\r\n                        this.$compile(buttonElement)(this.$scope);\r\n                    });\r\n\r\n                    //console.log(buttonElement);\r\n\r\n                } else {\r\n                    return;\r\n                }\r\n            }, 50);\r\n        } catch (e) {\r\n            console.error('***SLSP*** an error occured: Rapido \\n\\n');\r\n            console.error(e.message);\r\n        }\r\n    }\r\n\r\n\r\n}\r\n\r\nslspCollapseRelatedEResourcesController.$inject = ['$scope', '$compile', '$timeout'];","import { slspCollapseRelatedEResourcesController } from './slsp-collapse-related-e-resources.controller';\r\n\r\nexport const slspCollapseRelatedEResourcesModule = angular\r\n    .module('slspCollapseRelatedEResourcesModule', [])\r\n    .controller('slspCollapseRelatedEResourcesController', slspCollapseRelatedEResourcesController)\r\n    .component('slspCollapseRelatedEResourcesComponent', {\r\n        bindings: { afterCtrl: '<' },\r\n        controller: 'slspCollapseRelatedEResourcesController',\r\n\r\n    })","\r\n\r\n//--------slspIconLabel ---------------------------------------\r\n\r\n\r\nexport class slspIconLabelViewitItemsController {\r\n\r\n    constructor( $scope, $compile, $timeout ) {\r\n        this.$scope = $scope;\r\n        this.$compile = $compile;\r\n        this.$timeout = $timeout;\r\n    }\r\n\r\n    \r\n\r\n    $onInit() {\r\n        try{\r\n            this.$timeout(() => {\r\n                this.parentCtrl = this.afterCtrl.parentCtrl;\r\n                \r\n                if (this.parentCtrl.serviceType == \"ELECTRONIC\") {\r\n                    \r\n                        this.iconLabelViewitItems = iconLabelViewitItems ;\r\n                        let iconLabelViewitItems = document.querySelectorAll(\"#getit_link1_0 > div > prm-full-view-service-container > div.section-body > div > prm-alma-viewit > prm-alma-viewit-items:nth-child(1) > md-list\");\r\n                        let htmlViewitItems = `<div class=\"icnWrp\"><div class=\"iconDiv\"><svg xmlns=\"http://www.w3.org/2000/svg\" id=\"Ebene_2\" width=\"100%\" height=\"100%\" viewBox=\"0 0 185 185\"><g id=\"System_icons\"><g><rect width=\"185\" height=\"185\" fill=\"none\" opacity=\".2\"/><g id=\"Outline_Icons\"><g><path d=\"M155.98,92.26c0,35.19-28.5,63.72-63.66,63.72-35.16,0-63.3-29.68-63.3-64.87S55.9,30.44,89.77,29.08c.92-.04,1.83-.06,2.76-.06,35.16,0,63.45,28.05,63.45,63.24Z\" fill=\"none\" stroke=\"#000\" stroke-linejoin=\"round\" stroke-width=\"6\"/><path d=\"M89.77,29.08c-33.12,35.88-33.12,82.69,0,126.85\" fill=\"none\" stroke=\"#000\" stroke-linejoin=\"round\" stroke-width=\"6\"/><path d=\"M95.29,29.08c33.12,35.88,33.12,82.67,0,126.83\" fill=\"none\" stroke=\"#000\" stroke-linejoin=\"round\" stroke-width=\"6\"/><line x1=\"39.43\" y1=\"56.62\" x2=\"145.06\" y2=\"56.62\" fill=\"none\" stroke=\"#000\" stroke-linejoin=\"round\" stroke-width=\"6\"/><line x1=\"29.04\" y1=\"89.74\" x2=\"155.98\" y2=\"89.74\" fill=\"none\" stroke=\"#000\" stroke-linejoin=\"round\" stroke-width=\"6\"/><line x1=\"37.22\" y1=\"122.86\" x2=\"148.17\" y2=\"122.86\" fill=\"none\" stroke=\"#000\" stroke-linejoin=\"round\" stroke-width=\"6\"/></g></g></g></g></svg></div><div class=\"iconLabel\" translate=\"customized.fee.online\"></div></div>`;\r\n                        let iconLabelRidOff = document.querySelectorAll(\".icnWrp:nth-child(2)\")    \r\n                            angular.element(iconLabelRidOff).detach();                                                           \r\n                            angular.element(iconLabelViewitItems).prepend(this.$compile(htmlViewitItems)(this.$scope)).addClass('icnLblViewitItems');\r\n                }\r\n                else {\r\n                    return\r\n            }\r\n                         \r\n                \r\n            },0);   \r\n        }\r\n        \r\n        catch(e){\r\n            console.error(\"***SLSP*** an error occured: Rapido \\n\\n\");\r\n            console.error(e.message);\r\n        }\r\n    }\r\n    \r\n}\r\n\r\nslspIconLabelViewitItemsController.$inject =  [ '$scope', '$compile', '$timeout'];\r\n\r\n","\r\n    import {slspIconLabelViewitItemsController} from './slsp-icon-label-viewit-items.controller';\r\n    import {slspIconLabelViewitItemsHtml} from './slsp-icon-label-viewit-items.html';\r\n\r\n    export const slspIconLabelViewitItemsModule = angular\r\n        .module('slspIconLabelViewitItemsModule', [])\r\n            .controller('slspIconLabelViewitItemsController', slspIconLabelViewitItemsController)\r\n            .component('slspIconLabelViewitItemsComponent', {\r\n                bindings: {afterCtrl: '<'},\r\n                controller: 'slspIconLabelViewitItemsController',\r\n                template: slspIconLabelViewitItemsHtml\r\n            })","\r\nimport {slspIconLabelModule} from './slsp-icon-label/slsp-icon-label.module';\r\n\r\nexport const prmFullViewAfterModule = angular\r\n    .module('prmFullViewAfterModule', [])\r\n        .component('prmFullViewAfter',  {\r\n            bindings: {parentCtrl: '<'},\r\n            template: `<slsp-icon-label-component after-ctrl=\"$ctrl\"></slsp-icon-label-component><slsp-full-view-after parent-ctrl=\"$parent.$ctrl\"></slsp-full-view-after>`\r\n        });\r\n\r\n        prmFullViewAfterModule.requires.push(slspIconLabelModule.name);\r\n","//--------slspIconLabel ---------------------------------------\r\n\r\n\r\nexport class slspIconLabelController {\r\n\r\n    constructor($scope, $compile, $timeout) {\r\n        this.$scope = $scope;\r\n        this.$compile = $compile;\r\n        this.$timeout = $timeout;\r\n    }\r\n\r\n\r\n\r\n    $onInit() {\r\n        try {\r\n            this.$timeout(() => {\r\n                this.parentCtrl = this.afterCtrl.parentCtrl;\r\n\r\n                //console.log(this.parentCtrl.$scope.$ctrl.fullViewService)\r\n\r\n                // this.iconLabel3 = iconLabel3 ;\r\n                // let iconLabel3 = document.querySelectorAll('#getit_link1_0 > div > prm-full-view-service-container > div.section-body > div > prm-alma-viewit > prm-alma-viewit-items > md-list');\r\n                // let html3 = `<div class=\"icnWrp\"><div class=\"iconDiv\"><svg xmlns=\"http://www.w3.org/2000/svg\" id=\"Ebene_2\" width=\"100%\" height=\"100%\" viewBox=\"0 0 185 185\"><g id=\"System_icons\"><g><rect width=\"185\" height=\"185\" fill=\"none\" opacity=\".2\"/><g id=\"Outline_Icons\"><g><path d=\"M155.98,92.26c0,35.19-28.5,63.72-63.66,63.72-35.16,0-63.3-29.68-63.3-64.87S55.9,30.44,89.77,29.08c.92-.04,1.83-.06,2.76-.06,35.16,0,63.45,28.05,63.45,63.24Z\" fill=\"none\" stroke=\"#000\" stroke-linejoin=\"round\" stroke-width=\"6\"/><path d=\"M89.77,29.08c-33.12,35.88-33.12,82.69,0,126.85\" fill=\"none\" stroke=\"#000\" stroke-linejoin=\"round\" stroke-width=\"6\"/><path d=\"M95.29,29.08c33.12,35.88,33.12,82.67,0,126.83\" fill=\"none\" stroke=\"#000\" stroke-linejoin=\"round\" stroke-width=\"6\"/><line x1=\"39.43\" y1=\"56.62\" x2=\"145.06\" y2=\"56.62\" fill=\"none\" stroke=\"#000\" stroke-linejoin=\"round\" stroke-width=\"6\"/><line x1=\"29.04\" y1=\"89.74\" x2=\"155.98\" y2=\"89.74\" fill=\"none\" stroke=\"#000\" stroke-linejoin=\"round\" stroke-width=\"6\"/><line x1=\"37.22\" y1=\"122.86\" x2=\"148.17\" y2=\"122.86\" fill=\"none\" stroke=\"#000\" stroke-linejoin=\"round\" stroke-width=\"6\"/></g></g></g></g></svg></div><div class=\"iconLabel\">online</div></div>`;\r\n\r\n                //     angular.element(iconLabel3).prepend(this.$compile(html3)(this.$scope)).addClass('icnLbl3');\r\n\r\n\r\n                //     this.iconLabel4 = iconLabel4 ;\r\n                //     let iconLabel4 = document.querySelectorAll('md-content > prm-location-items > md-list');\r\n\r\n                //     let html4 = `<div class=\"icnWrp><div class=\"iconDiv4\"></div><div class=\"iconLabel\">pickup</div></div>`;\r\n\r\n                //         angular.element(iconLabel4).prepend(this.$compile(html4)(this.$scope)).addClass('icnLbl3');\r\n\r\n                // this.iconLabel5 = iconLabel5 ;\r\n                // let iconLabel5 = document.querySelectorAll('md-content > prm-locations > div.padding-left-medium > md-list:nth-child(1)');\r\n\r\n                // let html5 = `<div class=\"icnWrp\"><div class=\"iconDiv5\"></div><div class=\"iconLabel\">pickup2</div></div>`;\r\n\r\n                //     angular.element(iconLabel5).prepend(this.$compile(html5)(this.$scope)).addClass('icnLbl3');\r\n\r\n\r\n            }, 1000);\r\n        } catch (e) {\r\n            console.error(\"***SLSP*** an error occured: Rapido \\n\\n\");\r\n            console.error(e.message);\r\n        }\r\n    }\r\n\r\n}\r\n\r\nslspIconLabelController.$inject = ['$scope', '$compile', '$timeout'];","\r\n    import {slspIconLabelController} from './slsp-icon-label.controller';\r\n    import {slspIconLabelHtml} from './slsp-icon-label.html';\r\n\r\n    export const slspIconLabelModule = angular\r\n        .module('slspIconLabelModule', [])\r\n            .controller('slspIconLabelController', slspIconLabelController)\r\n            .component('slspIconLabelComponent', {\r\n                bindings: {afterCtrl: '<'},\r\n                controller: 'slspIconLabelController',\r\n                template: slspIconLabelHtml\r\n            })","export class slspHideRapidoLoanLinkController {\r\n    constructor($element) {\r\n        this.itemType = null;\r\n        this.itemBarcode = null;\r\n        this.hideTitle = false;\r\n        this.$element = $element;\r\n    }\r\n\r\n    $onInit() {\r\n        try {\r\n            this.parentCtrl = this.afterCtrl.parentCtrl;\r\n            this.itemBarcode = this.parentCtrl.item.itembarcode;\r\n            this.itemType = this.parentCtrl.loansService.requestParams.type;\r\n\r\n            if (this.itemType !== 'active' && (this.itemBarcode.includes(\"RAPIDO\") || this.itemBarcode.includes(\"41SLSP\"))) {\r\n                this.setTitle = setTitle;\r\n\r\n                function setTitle() {\r\n                    return this.parentCtrl.item.title;\r\n                }\r\n\r\n                this.hideTitle = true;\r\n\r\n                // Hinzufügen der hide-title Klasse zum Großelternelement prm-loan\r\n                this.$element.parent().parent().addClass('hide-title');\r\n\r\n                //console.log(this.$element.parent().parent())\r\n            }\r\n        } catch (e) {\r\n            console.error(\"***SLSP*** an error occured: slspHideRapidoLoanLinkController\\n\\n\");\r\n            console.error(e.message);\r\n        }\r\n    }\r\n}\r\nslspHideRapidoLoanLinkController.$inject = ['$element'];","import { slspHideRapidoLoanLinkController } from './slsp-hide-rapido-loan-link.controller';\r\nimport { slspHideRapidoLoanLinkHtml } from './slsp-hide-rapido-loan-link.html';\r\n\r\nexport const slspHideRapidoLoanLinkModule = angular\r\n    .module('slspHideRapidoLoanLinkModule', [])\r\n    .controller('slspHideRapidoLoanLinkController', slspHideRapidoLoanLinkController)\r\n    .component('slspHideRapidoLoanLinkComponent', {\r\n        bindings: { afterCtrl: '<' },\r\n        controller: 'slspHideRapidoLoanLinkController',\r\n        template: slspHideRapidoLoanLinkHtml\r\n    })","import { slspRenewItemTextModule } from './slsp-renew-item-text/slsp-renew-item-text.module';\r\nimport { slspHideRapidoLoanLinkModule } from './slsp-hide-rapido-loan-link/slsp-hide-rapido-loan-link.module';\r\n\r\n\r\nexport const slspLoanAfterModule = angular\r\n    .module('slspLoanAfterModule', [])\r\n    .component('prmLoanAfter', {\r\n        bindings: { parentCtrl: '<' },\r\n        template: `\r\n            <slsp-renew-item-text-component after-ctrl=\"$ctrl\"></slsp-renew-item-text-component>\r\n            <slsp-hide-rapido-loan-link-component after-ctrl=\"$ctrl\"></slsp-hide-rapido-loan-link-component>\r\n            <slsp-loan-after parent-ctrl=\"$parent.$ctrl\"></slsp-loan-after>`\r\n    });\r\n\r\nslspLoanAfterModule.requires.push(slspRenewItemTextModule.name);\r\nslspLoanAfterModule.requires.push(slspHideRapidoLoanLinkModule.name);","//--------Renewstatus display of loan items ---------------------------------------\r\n\r\nexport class slspRenewItemTextController {\r\n\r\n    constructor() {\r\n\r\n    }\r\n\r\n    $onInit() {\r\n        try {\r\n            this.parentCtrl = this.afterCtrl.parentCtrl;\r\n            this.getRenewText = getRenewText;\r\n\r\n            function getRenewText() {\r\n                if (this.parentCtrl.item.renewstatuses !== undefined && this.parentCtrl.item.renewstatuses.renewstatus[0] !== undefined) {\r\n                    return this.parentCtrl.item.renewstatuses.renewstatus[0];\r\n                } else {\r\n                    return\r\n                }\r\n\r\n            }\r\n\r\n\r\n        } catch (e) {\r\n            console.error(\"***SLSP*** an error occured: slspRenewItemTextController\\n\\n\");\r\n            console.error(e.message);\r\n        }\r\n    }\r\n}\r\n\r\nslspRenewItemTextController.$inject = [];","\r\n\r\n\r\n\r\n\r\n    import {slspRenewItemTextController} from './slsp-renew-item-text.controller';\r\n    import {slspRenewItemTextHtml} from './slsp-renew-item-text.html';\r\n\r\n    export const slspRenewItemTextModule = angular\r\n        .module('slspRenewItemTextModule', [])\r\n            .controller('slspRenewItemTextController', slspRenewItemTextController)\r\n            .component('slspRenewItemTextComponent', {\r\n                bindings: {afterCtrl: '<'},\r\n                controller: 'slspRenewItemTextController',\r\n                template: slspRenewItemTextHtml\r\n            })","import { slspIButtonModule } from './slsp-i-button/slsp-i-button.module';\r\n\r\n\r\n\r\nexport const prmLocationHoldingsAfterModule = angular\r\n    .module('prmLocationHoldingsAfterModule', [])\r\n    .component('prmLocationHoldingsAfter', {\r\n        bindings: { parentCtrl: '<' },\r\n        template: `\r\n\t\t\r\n        <slsp-i-button-component after-ctrl=\"$ctrl\"></slsp-i-button-component>\r\n      \r\n        <slsp-location-holdings-after parent-ctrl=\"$parent.$ctrl\"></slsp-location-holdings-after>\r\n        \r\n\t\t`\r\n    });\r\n\r\n\r\nprmLocationHoldingsAfterModule.requires.push(slspIButtonModule.name);","export class slspIButtonController {\r\n\r\n    constructor($scope, $rootScope) {\r\n        this.$scope = $scope;\r\n\r\n        this.$rootScope = $rootScope;\r\n\r\n        this.biblinkBase = \"https:\\/\\/registration.slsp.ch\\/libraries\\/\\?library\\=\";\r\n    }\r\n\r\n    $onInit() {\r\n        this.parentCtrl = this.afterCtrl.parentCtrl;\r\n        this.getLibrary = this.getLibrary.bind(this);\r\n        this.getLibraryCode = this.getLibraryCode.bind(this);\r\n        this.getLanguage = this.getLanguage.bind(this);\r\n    }\r\n\r\n    getLibrary() {\r\n        if (this.parentCtrl.currLoc !== undefined && this.parentCtrl.currLoc.location !== undefined) {\r\n            return this.parentCtrl.currLoc.location.librarycodeTranslation;\r\n        } else {\r\n            return;\r\n        }\r\n    }\r\n\r\n    getLibraryCode() {\r\n        if (this.parentCtrl.currLoc !== undefined && this.parentCtrl.currLoc.location !== undefined) {\r\n            return this.parentCtrl.currLoc.location.libraryCode;\r\n        } else {\r\n            return;\r\n        }\r\n    }\r\n\r\n    getLanguage() {\r\n\r\n        let sms = this.$rootScope.$$childHead.$ctrl.userSessionManagerService;\r\n        if (!sms) {\r\n            return 'en';\r\n        } else {\r\n            return sms.getUserLanguage() || $window.appConfig['primo-view']['attributes-map'].interfaceLanguage;\r\n        }\r\n    }\r\n\r\n    specialInfoBox() {\r\n        let addSpecialInfoClass = document.querySelectorAll(\"prm-location-items\");\r\n        angular.element(addSpecialInfoClass).addClass('special-library-info');\r\n    }\r\n\r\n}\r\n\r\nslspIButtonController.$inject = ['$scope', '$rootScope'];","    import { slspIButtonController } from './slsp-i-button.controller';\r\n    import { slspIButtonHtml } from './slsp-i-button.html';\r\n\r\n\r\n    export const slspIButtonModule = angular\r\n        .module('slspIButtonModule', [])\r\n        .controller('slspIButtonController', slspIButtonController)\r\n        .component('slspIButtonComponent', {\r\n            bindings: { afterCtrl: '<' },\r\n            controller: 'slspIButtonController',\r\n            template: slspIButtonHtml\r\n        })","import { ethMapongoCheckModule } from './eth-mapongo/eth-mapongo-check.module';\r\nimport { ethMapongoModule } from './eth-mapongo/eth-mapongo.module';\r\nimport { slspIconLabelLocationItemsModule } from './slsp-icon-label-location-items/slsp-icon-label-location-items.module';\r\n\r\n\r\nexport const ethLocationItemsAfterModule = angular\r\n    .module('ethLocationItemsAfterModule', [])\r\n    .component('prmLocationItemsAfter', {\r\n        bindings: { parentCtrl: '<' },\r\n        template: `\r\n\t\t<eth-mapongo-check after-ctrl=\"$ctrl\"></eth-mapongo-check>\r\n        <slsp-icon-label-location-items-component after-ctrl=\"$ctrl\"></slsp-icon-label-location-items-component>\r\n        <slsp-location-items-after parent-ctrl=\"$parent.$ctrl\"></slsp-location-items-after>\r\n        \r\n\t\t`\r\n    });\r\n\r\nethLocationItemsAfterModule.requires.push(ethMapongoCheckModule.name);\r\nethLocationItemsAfterModule.requires.push(ethMapongoModule.name);\r\nethLocationItemsAfterModule.requires.push(slspIconLabelLocationItemsModule.name);","/**\r\n* @ngdoc service\r\n* @key ethConfigService\r\n*\r\n* @description\r\n*\r\n* Service to get and handle informations from a module config:\r\n* - getLabel()\r\n* - getUrl()\r\n* - getLanguage()\r\n*\r\n */\r\nexport const ethConfigService = ['$rootScope', function( $rootScope ){\r\n\r\n    function getLanguage(){\r\n        try{\r\n            let sms = $rootScope.$$childHead.$ctrl.userSessionManagerService;\r\n            if (!sms) {\r\n                console.error(\"***ETH*** ethConfigService: userSessionManagerService not available\");\r\n                return 'en';\r\n            }\r\n            else{\r\n                return sms.getUserLanguage() || $window.appConfig['primo-view']['attributes-map'].interfaceLanguage;\r\n            }\r\n        }\r\n        catch(e){\r\n            console.error(\"***ETH*** an error occured: ethConfigService.getLanguage():\");\r\n            console.error(e.message);\r\n            return 'en';\r\n        }\r\n    }\r\n\r\n\r\n    function getLabel(config, key) {\r\n        try{\r\n            let lang = this.getLanguage();\r\n            if (!config.label[key]) {\r\n                console.error(\"***ETH*** ethConfigService.getLabel: '\" + key + \"' not in config\");\r\n                return key;\r\n            }\r\n            if(config.label[key][lang]){\r\n                return config.label[key][lang];\r\n            }\r\n            else{\r\n                return config.label[key]['en'];\r\n            }\r\n        }\r\n        catch(e){\r\n            console.error(\"***ETH*** an error occured: ethConfigService.getLabel():\");\r\n            console.error(e.message);\r\n            return '';\r\n        }\r\n    }\r\n\r\n    function getUrl(config, key) {\r\n        try{\r\n            let lang = this.getLanguage();\r\n            if (!config.url[key]) {\r\n                console.error(\"***ETH*** ethConfigService.getUrl: '\" + key + \"' not in config\");\r\n                return '';\r\n            }\r\n            if(config.url[key][lang]){\r\n                return config.url[key][lang];\r\n            }\r\n            else{\r\n                return config.url[key]['en'];\r\n            }\r\n        }\r\n        catch(e){\r\n            console.error(\"***ETH*** an error occured: ethConfigService.getUrl():\");\r\n            console.error(e.message);\r\n            return '';\r\n        }\r\n    }\r\n\r\n    return {\r\n        getLanguage: getLanguage,\r\n        getLabel: getLabel,\r\n        getUrl: getUrl\r\n    };\r\n}]\r\n","export class ethMapongoCheckController {\r\n\r\n    constructor( $scope, $compile, $element, ethMapongoLibrariesService ) {\r\n        this.$scope = $scope;\r\n        this.$compile = $compile;\r\n        this.$element = $element;\r\n        this.ethMapongoLibrariesService = ethMapongoLibrariesService;\r\n        this.isMapongoLibrary = true;\r\n        this.noLocationItemAfter = 0;\r\n     }\r\n\r\n    $onInit() {\r\n        this.parentCtrl = this.afterCtrl.parentCtrl;\r\n    }\r\n\r\n    $doCheck() {\r\n        try{\r\n            // are location item elements loaded and rendered? Or \"show more items\" pushed?\r\n            let locationItemAfter = this.$element[0].parentElement.parentElement.getElementsByTagName('prm-location-item-after');\r\n            let noLocationItemAfter = locationItemAfter.length;\r\n            if(noLocationItemAfter <= this.noLocationItemAfter){\r\n                return;\r\n            }\r\n            this.noLocationItemAfter = noLocationItemAfter;\r\n\r\n            // mapongo library?\r\n            if(!this.isMapongoLibrary)return;\r\n            if (!this.ethMapongoLibrariesService.isMapongoLibrary(this.parentCtrl.loc.location.libraryCode)) {\r\n                this.isMapongoLibrary = false;\r\n                return;\r\n            }\r\n\r\n            // array of html collection prm-location-item-after\r\n            let aPrmLocationItemAfter = [].slice.call(locationItemAfter);\r\n            this.recordid = this.parentCtrl.item.pnx.control.sourcerecordid[0];\r\n\r\n            // iterate items of a location (Exemplare), get reference to after directive of location-item and inject eth-mapongo-directive\r\n            for(let i = 0; i < this.parentCtrl.loc.items.length; i++){\r\n                if(i >= aPrmLocationItemAfter.length){\r\n                    // more items than initially rendered\r\n                    return;\r\n                }\r\n\r\n                let item = this.parentCtrl.loc.items[i];\r\n                let prmLocationItemAfter = aPrmLocationItemAfter[i];\r\n\r\n                // is mapongo directive already injected?\r\n                let ethMapongo = prmLocationItemAfter.querySelector('eth-mapongo');\r\n                if(!!ethMapongo){\r\n                    continue;\r\n                }\r\n\r\n                if (!this.ethMapongoLibrariesService.isMapongoSubLocation(this.parentCtrl.loc.location.libraryCode, item._additionalData.secondarylocationname)) {\r\n                    continue;\r\n                }\r\n\t\t\t\t\r\n                if(!this.ethMapongoLibrariesService.isAvailable(item._additionalData.itemstatusname)){\r\n                    continue;\r\n                }\r\n\t\t\t\t\r\n\r\n                this.subLocationCode = this.ethMapongoLibrariesService.getSubLocationCode(this.parentCtrl.loc.location.libraryCode, item._additionalData.secondarylocationname);\r\n                this.callnumber = item._additionalData.callnumber;\r\n                let addCallnumberEntry = item.fullItemFields.filter(function(e) {return e.indexOf(\"Zusätzliche Signatur:\") > -1 || e.indexOf(\"Additional call number:\") > -1;} );\r\n                this.addCallnumber = \"\";\r\n                if (addCallnumberEntry.length > 0) {\r\n                    this.addCallnumber = addCallnumberEntry[0].replace(\"Zusätzliche Signatur: \",\"\").replace(\"Additional call number: \",\"\");\r\n                }\r\n                if(this.addCallnumber != \"\"){\r\n                    // todo: is it always correct to use 'Additional call number' if it exists?\r\n                    this.callnumber = this.addCallnumber;\r\n                }\r\n\r\n                let barcodeEntry = item.fullItemFields.filter(function(e) {return e.indexOf(\"Barcode:\") > -1 || e.indexOf(\"Strichcode:\") > -1;} );\r\n                this.barcode = \"\";\r\n                if (barcodeEntry.length > 0) {\r\n                    this.barcode = barcodeEntry[0].replace(\"Barcode: \",\"\").replace(\"Strichcode: \",\"\");\r\n                }\r\n\t\t\t\t\r\n                // inject eth-mapongo element (handled by eth-mapongo.module)\r\n                angular.element(prmLocationItemAfter).append(this.$compile('<eth-mapongo after-ctrl=\"$ctrl\" class=\"eth-mapongo-container\" recordid=\"' + this.recordid + '\" barcode=\"' + this.barcode + '\" callnumber=\"' + this.callnumber + '\" sublocation=\"' + this.subLocationCode + '\"parent-ctrl=\"$ctrl.parentCtrl\"></eth-mapongo>')(this.$scope));\r\n            }\r\n        }\r\n        catch(e){\r\n            console.error(\"***ETH*** ethMapongoCheckController.$doCheck:\");\r\n            console.error(e.message);\r\n        }\r\n\r\n    }\r\n}\r\n\r\nethMapongoCheckController.$inject = [ '$scope', '$compile', '$element', 'ethMapongoLibrariesService'];\r\n","/**\r\n* @ngdoc module\r\n* @name ethMapongoCheckModule\r\n*\r\n* @description\r\n* checks if mapongo should be injected\r\n* - checks if the current library and location (Standort) are registered for Mapongo\r\n* - checks the item status\r\n* - may inject an eth-mapongo directive and specific attributes for it in prm-location-item-after (handled by eth-mapongo.module.js)\r\n*\r\n* A prm controller works only for prmLocationItems. There is no prmLocationItem controller\r\n* $ctrl in prmLocationItemAfter is a reference to prmLocationItems Controller\r\n*\r\n* If there is 1 location: prmLocationItemsAfter\r\n*\r\n* If there are multiple locations: prmLocationAfter;\r\n* after all locations: prmLocationsAfter;\r\n* after choosing a location: prmLocationItemsAfter\r\n*\r\n*\r\n* <b>AngularJS Dependencies</b><br>\r\n* Service {@link ETH.ethMapongoLibrariesService}<br>\r\n*\r\n*\r\n* <b>CSS/Image Dependencies</b><br>\r\n*\r\n*\r\n* @example\r\n* ZHAW MMS IDs: 991128155109705501, 990013732410205503; 2 Exemplare: 990058665580205503; 5 Exemplare: 991129451879705501\r\n*\r\n*/\r\nimport {ethMapongoLibrariesService} from './eth-mapongo-libraries.service';\r\nimport {ethMapongoCheckController} from './eth-mapongo-check.controller';\r\n\r\nexport const ethMapongoCheckModule = angular\r\n    .module('ethMapongoCheckModule', [])\r\n        .factory('ethMapongoLibrariesService', ethMapongoLibrariesService)\r\n        .controller('ethMapongoCheckController', ethMapongoCheckController)\r\n        .component('ethMapongoCheck', {\r\n            bindings: {afterCtrl: '<'},\r\n            controller: 'ethMapongoCheckController'\r\n        })\r\n","/**\r\n* @ngdoc service\r\n* @name ethMapongoLibrariesService\r\n*\r\n* @description\r\n*\r\n* Holds informations about the libraries which use mapongo\r\n*\r\n*\r\n* <b>Used by</b><br>\r\n*\r\n* Module {@link ETH.ethMapongoModule}<br>\r\n*\r\n*\r\n */\r\nexport const ethMapongoLibrariesService = [function(){\r\n    // todo: are the locations correct and complete?\r\n    const libraries = [\r\n            {\r\n                    \"shortname\": \"ZHdK-MIZ\",\r\n                    \"name\": \"ZHdK-MIZ\",\r\n                    \"libraryCode\": \"E65\",\r\n                    \"baseUrl\": \"https://zhdk.mapongo.de\",\r\n                    \"locationCodeWhiteList\": [\"E65G1\",\"E65G2\",\"E65E1\",\"E65U1\",\"E65U4\"],\r\n                    \"locationWhiteList\": [\"Galeriegeschoss\",\"Galeriegeschoss\",\"Eingangsgeschoss\",\"Untergeschoss\",\"Untergeschoss Curating Degree Zero Archive\"]\r\n            },\r\n            {\r\n                    \"shortname\": \"ZHAW-HSB-ZH\",\r\n                    \"name\": \"ZHAW Hochschulbibliothek Zürich\",\r\n                    \"libraryCode\": \"E97\",\r\n                    \"baseUrl\": \"https://zhdk.mapongo.de\",\r\n                    \"locationCodeWhiteList\": [\"E97E1\"],\r\n                    \"locationWhiteList\": [\"Eingangsgeschoss\"]\r\n            },\r\n            {\r\n                    \"shortname\": \"ZHAW-HSB-WIN\",\r\n                    \"name\": \"ZHAW Hochschulbibliothek Winterthur\",\r\n                    \"libraryCode\": \"E51\",\r\n                    \"baseUrl\": \"https://zhaw.mapongo.de\",\r\n                    \"locationCodeWhiteList\": [\"E51BA\",\"E51B0\",\"E51B9\",\"E51B2\",\"E51B8\",\"E51BN\",\"E51BL\",\"E51BG\",\"E51BT\",\"E51BB\",\"E51BW\",\"E51BA\",\"E51BK\",\"E51BR\"],\r\n                    \"locationWhiteList\": [\"Architektur und Bau - 1. ZG\",\"Neuerwerbungen - EG\",\"Handapparate - EG\",\"Compactus, offen - EG\",\"Zeitschriften - EG\",\"Allgemeines und Nachschlagewerke - EG\",\"Angewandte Linguistik - EG\",\"Gesundheit und Medizin - EG\",\"Technik und Naturwissenschaften - 1. ZG\",\"Wissenschaft und Bildung - EG\",\"Wirtschaft und Management - 1. ZG\",\"Architektur und Bau - 1. ZG\",\"Kunst und Unterhaltung - EG\",\"Recht und Politik - 2. ZG\"]\r\n            },\r\n            {\r\n                    \"shortname\": \"PHZH\",\r\n                    \"name\": \"PH Zürich, Bibliothek\",\r\n                    \"libraryCode\": \"UPHZH\",\r\n                    \"baseUrl\": \"https://phzh.mapongo.de\",\r\n                    \"locationCodeWhiteList\": [\"ULFHF\",\"ULFHG\",\"ULFHN\",\"ULFHS\"],\r\n                    \"locationWhiteList\": [\"Stockwerk F - frei zugänglich\",\"Stockwerk G - frei zugänglich\", \"Stockwerk H Nord - frei zugänglich\",\"Stockwerk H Süd - frei zugänglich\"]\r\n            },\r\n            {\r\n                    \"shortname\": \"HGK-MED\",\r\n                    \"name\": \"FHNW HGK-Mediathek Basel\",\r\n                    \"libraryCode\": \"E75\",\r\n                    \"baseUrl\":\"https://mediathek.hgk.fhnw.ch/nebis\",\r\n                    \"locationCodeWhiteList\": [\"HAP\",\"E75BI\",\"E75AC\",\"E75MA\",\"E75VS\"],\r\n\t\t            \"locationWhiteList\":[\"Handapparat\",\"Mediathek\",\"Archiv\",\"Magazin\",\"Verschiedene Standorte\"]\r\n            },\r\n            {\r\n                    \"shortname\": \"HGK-MED\",\r\n                    \"name\": \"FHNW Campus Muttenz Bibliothek\",\r\n                    \"libraryCode\": \"E44\",\r\n                    \"baseUrl\":\"https://fhnw-cmu.mapongo.de\",\r\n                    \"locationCodeWhiteList\": [\"E44TE\",\"E44BI\",\"E44MG\",\"E44VS\"],\r\n                    \"locationWhiteList\":[\"Ausleihe auf Anfrage, bitte Bibliothek kontaktieren\",\"Bibliothek\",\"Magazin: Nicht frei zugänglich, zur Abholung bestellen\",\"Verschiedene Standorte\"]\r\n            }\r\n    ];\r\n\r\n    // todo: are the statuses correct and complete?\r\n    const availabilityStatus = ['Exemplar ist vorhanden', 'Item in place', 'Exemplaire en rayon', 'Copia in posizione'];\r\n\r\n    function getMapongoLibrary(libraryCode){\r\n      let filterLibraries = libraries.filter( l => {return l.libraryCode === libraryCode;} );\r\n      if (filterLibraries.length > 0)\r\n          return filterLibraries[0];\r\n      else\r\n          return null;\r\n    }\r\n\r\n    function isMapongoLibrary(libraryCode){\r\n      let filterLibraries = libraries.filter( l => {return l.libraryCode === libraryCode} );\r\n      if (filterLibraries.length > 0)return true;\r\n      else return false;\r\n    }\r\n\r\n    function isMapongoSubLocation(libraryCode, subLocation){\r\n      let filterLibraries = libraries.filter( l => {return l.libraryCode === libraryCode && l.locationWhiteList.indexOf(subLocation)>-1;} );\r\n      if (filterLibraries.length > 0)return true;\r\n      else return false;\r\n    }\r\n\r\n    function getSubLocationCode(libraryCode, subLocation){\r\n        let filterLibraries = libraries.filter( l => {return l.libraryCode === libraryCode} );\r\n        if (filterLibraries.length === 0)return null;\r\n        let i = filterLibraries[0].locationWhiteList.indexOf(subLocation);\r\n        return filterLibraries[0].locationCodeWhiteList[i];\r\n    }\r\n\r\n    function getBaseUrl(libraryCode){\r\n        let lib = getMapongoLibrary(libraryCode);\r\n        if (lib) {\r\n            return lib.baseUrl;\r\n        }\r\n        else{\r\n            return \"\";\r\n        }\r\n\r\n    }\r\n\r\n    function isAvailable(itemstatusname){\r\n        let filterStatus = availabilityStatus.filter( s => {return s === itemstatusname});\r\n        if (filterStatus.length > 0)return true;\r\n        return false;\r\n    }\r\n\r\n    return {\r\n        isMapongoLibrary: isMapongoLibrary,\r\n        isMapongoSubLocation: isMapongoSubLocation,\r\n        getBaseUrl: getBaseUrl,\r\n        getSubLocationCode: getSubLocationCode,\r\n        isAvailable: isAvailable\r\n    };\r\n\r\n\r\n}];\r\n","export const ethMapongoConfig = function(){\r\n    return {\r\n        label: {\r\n            qrc: {\r\n                de: 'Karte auf Smartphone laden',\r\n                en: 'Load map on your smartphone',\r\n                fr: 'Charger la carte sur votre smartphone'\r\n            }\r\n        }\r\n    }\r\n}\r\n","export class ethMapongoController {\r\n\r\n    constructor(ethMapongoLibrariesService, ethConfigService, ethMapongoConfig) {\r\n        this.ethMapongoLibrariesService = ethMapongoLibrariesService;\r\n        this.ethConfigService = ethConfigService;\r\n        this.config = ethMapongoConfig;\r\n        this.lang = this.ethConfigService.getLanguage();\r\n    }\r\n\r\n    $onInit() {\r\n        // reference to prmLocationItemsController (all items)\r\n        this.parentCtrl = this.afterCtrl.parentCtrl;\r\n    };\r\n\r\n    getMapongoImageSrc() {\r\n        let src = \"\";\r\n        try{\r\n            if (!this.parentCtrl.loc || !this.parentCtrl.loc.location) {\r\n                console.error(\"***ETH*** ethMapongoController.getMapongoImageSrc: loc or loc.location not available\");\r\n                return;\r\n            }\r\n            let loc = this.parentCtrl.loc.location;\r\n            let baseUrl = this.ethMapongoLibrariesService.getBaseUrl(loc.libraryCode);\r\n\r\n            src = baseUrl + \"/static_images/projects/1/search_thumbnail.jpg?project_id=1&search_key=\" + encodeURIComponent(this.callnumber);\r\n            if (loc.libraryCode === \"E51\" || loc.libraryCode === \"UPHZH\" ) {\r\n                src += \"&search_context2=\" + encodeURIComponent(this.sublocation);\r\n            }\r\n            if (loc.libraryCode === \"E65\") {\r\n                src += \"&e=\" + encodeURIComponent(this.recordid);\r\n            }\r\n        }\r\n        catch(e){\r\n            console.error(\"***ETH*** EthMapongoController.getMapongoImageSrc:\");\r\n            console.error(e.message);\r\n        }\r\n        return src;\r\n    }\r\n\r\n    getMapongoUrl() {\r\n        let url = \"\";\r\n        try{\r\n            let loc = this.parentCtrl.loc.location;\r\n            let baseUrl = this.ethMapongoLibrariesService.getBaseUrl(loc.libraryCode);\r\n\r\n            url = baseUrl + \"/viewer?project_id=1&search_key=\" + encodeURIComponent(this.callnumber) + \"&language=\" + this.lang + \"&e=\" + encodeURIComponent(this.recordid);\r\n            // ZHAW-HSB-WIN\r\n            if (loc.libraryCode === \"E51\" || loc.libraryCode === \"UPHZH\" ) {\r\n                url += \"&search_context2=\" + encodeURIComponent(this.sublocation);\r\n            }\r\n            if (this.barcode != \"\") {\r\n                    url += \"&bcd=\" + this.barcode;\r\n            }\r\n\r\n        }\r\n        catch(e){\r\n            console.error(\"***ETH*** EthMapongoController.getMapongoUrl:\");\r\n            console.error(e.message);\r\n        }\r\n        return url;\r\n    }\r\n\r\n    getMapongoQRC() {\r\n        let src = \"\";\r\n        try{\r\n            let loc = this.parentCtrl.loc.location;\r\n            let baseUrl = this.ethMapongoLibrariesService.getBaseUrl(loc.libraryCode);\r\n\r\n            src = baseUrl + \"/static_images/projects/1/search_qrcode.png?project_id=1&search_key=\" + encodeURIComponent(this.callnumber) + \"&language=\" + this.lang + \"&e=\" + encodeURIComponent(this.recordid);\r\n            if (loc.libraryCode === \"E51\" || loc.libraryCode === \"UPHZH\" ) {\r\n                src += \"&search_context2=\" + encodeURIComponent(this.sublocation);\r\n            }\r\n            if (this.barcode != \"\") {\r\n                src += \"&bcd=\" + this.barcode;\r\n            }\r\n        }\r\n        catch(e){\r\n            console.error(\"***ETH*** EthMapongoController.getMapongoQRC:\");\r\n            console.error(e.message);\r\n        }\r\n        return src;\r\n    }\r\n\r\n\r\n}\r\n\r\nethMapongoController.$inject = [ 'ethMapongoLibrariesService', 'ethConfigService', 'ethMapongoConfig'];\r\n","/**\r\n * @ngdoc module\r\n * @name ethMapongoModule\r\n *\r\n * @description\r\n * - renders Link, map and QRCode for mapongo\r\n *\r\n *\r\n * <b>AngularJS Dependencies</b><br>\r\n * Service {@link ETH.ethMapongoLibrariesService}<br>\r\n * Service /js/services {@link ETH.ethConfigService}<br>\r\n * Service {@link ETH.ethMapongoConfig}<br>\r\n *\r\n *\r\n * <b>CSS/Image Dependencies</b><br>\r\n * CSS /css/mapongo.css\r\n *\r\n * @example\r\n * ZHAW MMS IDs: 991128155109705501, 990013732410205503; 2 Exemplare: 990058665580205503; 5 Exemplare: 991129451879705501\r\n *\r\n */\r\nimport { ethConfigService } from './eth-config.service';\r\nimport { ethMapongoConfig } from './eth-mapongo.config';\r\nimport { ethMapongoLibrariesService } from './eth-mapongo-libraries.service';\r\nimport { ethMapongoController } from './eth-mapongo.controller';\r\nimport { ethMapongoHtml } from './eth-mapongo.html';\r\n\r\nexport const ethMapongoModule = angular\r\n    .module('ethMapongoModule', [])\r\n    .factory('ethConfigService', ethConfigService)\r\n    .factory('ethMapongoConfig', ethMapongoConfig)\r\n    .factory('ethMapongoLibrariesService', ethMapongoLibrariesService)\r\n    .controller('ethMapongoController', ethMapongoController)\r\n    .component('ethMapongo', {\r\n        bindings: {\r\n            afterCtrl: '<',\r\n            recordid: '@',\r\n            callnumber: '@',\r\n            barcode: '@',\r\n            sublocation: '@'\r\n        },\r\n        controller: 'ethMapongoController',\r\n        template: ethMapongoHtml\r\n    })","\r\n\r\n//--------slspIconLabel ---------------------------------------\r\n\r\n\r\nexport class slspIconLabelLocationItemsController {\r\n\r\n    constructor( $scope, $compile, $timeout ) {\r\n        this.$scope = $scope;\r\n        this.$compile = $compile;\r\n        this.$timeout = $timeout;\r\n    }\r\n\r\n    \r\n\r\n    $onInit() {\r\n        try{\r\n            this.$timeout(() => {\r\n                this.parentCtrl = this.afterCtrl.parentCtrl;\r\n                \r\n                if (this.parentCtrl.serviceScrollId === \"getit_link1_0\") {\r\n                    \r\n                        this.iconLabelLocationItems = iconLabelLocationItems ;\r\n                        let iconLabelLocationItems = document.querySelectorAll(\"#getit_link1_0 > div > prm-full-view-service-container > div.section-body > div > prm-opac md-content > prm-location-items > md-list.separate-list-items.margin-left-medium.md-primoExplore-theme.layout-column\");\r\n                        let htmlLocationItems = `<div class=\"icnWrp\"><div class=\"iconDiv\"><svg xmlns=\"http://www.w3.org/2000/svg\" id=\"Ebene_2\" width=\"100%\" height=\"100%\" viewBox=\"0 0 185 185\"><g id=\"System_icons\"><g><rect width=\"185\" height=\"185\" fill=\"none\" opacity=\".2\"/><g><rect x=\"32.65\" y=\"139.75\" width=\"119.7\" height=\"12.6\" fill=\"none\" stroke=\"#000\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"6\"/><rect x=\"38.95\" y=\"70.45\" width=\"107.1\" height=\"69.3\" fill=\"none\" stroke=\"#000\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"6\"/><line x1=\"164.95\" y1=\"152.35\" x2=\"20.05\" y2=\"152.35\" fill=\"none\" stroke=\"#000\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"6\"/><line x1=\"51.55\" y1=\"70.45\" x2=\"51.55\" y2=\"139.75\" fill=\"none\" stroke=\"#000\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"6\"/><line x1=\"83.05\" y1=\"70.45\" x2=\"83.05\" y2=\"139.75\" fill=\"none\" stroke=\"#000\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"6\"/><line x1=\"70.45\" y1=\"70.45\" x2=\"70.45\" y2=\"139.75\" fill=\"none\" stroke=\"#000\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"6\"/><line x1=\"101.95\" y1=\"70.45\" x2=\"101.95\" y2=\"139.75\" fill=\"none\" stroke=\"#000\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"6\"/><line x1=\"114.55\" y1=\"70.45\" x2=\"114.55\" y2=\"139.75\" fill=\"none\" stroke=\"#000\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"6\"/><line x1=\"133.45\" y1=\"70.45\" x2=\"133.45\" y2=\"139.75\" fill=\"none\" stroke=\"#000\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"6\"/><polygon points=\"158.65 70.45 26.35 70.45 92.5 32.65 158.65 70.45\" fill=\"none\" stroke=\"#000\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"6\"/></g></g></g></svg></div><div class=\"iconLabel\" translate=\"customized.fee.physical\"></div></div>`;\r\n                                                                                        \r\n                            angular.element(iconLabelLocationItems).prepend(this.$compile(htmlLocationItems)(this.$scope)).addClass('icnLblLocationItems');\r\n                }\r\n                if (this.parentCtrl.serviceScrollId === \"getit_link1_1\") {\r\n                    \r\n                    this.iconLabelLocationItems3 = iconLabelLocationItems3 ;\r\n                    let iconLabelLocationItems3 = document.querySelectorAll(\"#getit_link1_1 > div > prm-full-view-service-container > div.section-body > div > prm-opac md-content > prm-location-items > md-list.separate-list-items.margin-left-medium.md-primoExplore-theme.layout-column\");\r\n                    let htmlLocationItems3 = `<div class=\"icnWrp\"><div class=\"iconDiv\"><svg xmlns=\"http://www.w3.org/2000/svg\" id=\"Ebene_2\" width=\"100%\" height=\"100%\" viewBox=\"0 0 185 185\"><g id=\"System_icons\"><g><rect width=\"185\" height=\"185\" fill=\"none\" opacity=\".2\"/><g><rect x=\"32.65\" y=\"139.75\" width=\"119.7\" height=\"12.6\" fill=\"none\" stroke=\"#000\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"6\"/><rect x=\"38.95\" y=\"70.45\" width=\"107.1\" height=\"69.3\" fill=\"none\" stroke=\"#000\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"6\"/><line x1=\"164.95\" y1=\"152.35\" x2=\"20.05\" y2=\"152.35\" fill=\"none\" stroke=\"#000\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"6\"/><line x1=\"51.55\" y1=\"70.45\" x2=\"51.55\" y2=\"139.75\" fill=\"none\" stroke=\"#000\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"6\"/><line x1=\"83.05\" y1=\"70.45\" x2=\"83.05\" y2=\"139.75\" fill=\"none\" stroke=\"#000\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"6\"/><line x1=\"70.45\" y1=\"70.45\" x2=\"70.45\" y2=\"139.75\" fill=\"none\" stroke=\"#000\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"6\"/><line x1=\"101.95\" y1=\"70.45\" x2=\"101.95\" y2=\"139.75\" fill=\"none\" stroke=\"#000\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"6\"/><line x1=\"114.55\" y1=\"70.45\" x2=\"114.55\" y2=\"139.75\" fill=\"none\" stroke=\"#000\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"6\"/><line x1=\"133.45\" y1=\"70.45\" x2=\"133.45\" y2=\"139.75\" fill=\"none\" stroke=\"#000\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"6\"/><polygon points=\"158.65 70.45 26.35 70.45 92.5 32.65 158.65 70.45\" fill=\"none\" stroke=\"#000\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"6\"/></g></g></g></svg></div><div class=\"iconLabel\" translate=\"customized.fee.physical\"></div></div>`;\r\n                                                                                    \r\n                        angular.element(iconLabelLocationItems3).prepend(this.$compile(htmlLocationItems3)(this.$scope)).addClass('icnLblLocationItems3');\r\n            }\r\n\r\n\r\n\r\n\r\n\r\n                if (this.parentCtrl.serviceScrollId === \"alma_other_members\") {\r\n                    \r\n                    this.iconLabelLocationItems2 = iconLabelLocationItems2 ;\r\n                    let iconLabelLocationItems2 = document.querySelectorAll(\"prm-alma-other-members md-content > prm-location-items > md-list.separate-list-items.margin-left-medium.md-primoExplore-theme.layout-column\");\r\n                    let htmlLocationItems2 = `<div class=\"icnWrp\"><div class=\"iconDiv\"><svg xmlns=\"http://www.w3.org/2000/svg\" id=\"Ebene_2\" width=\"100%\" height=\"100%\" viewBox=\"0 0 185 185\"><g id=\"System_icons\"><g><rect width=\"185\" height=\"185\" fill=\"none\" opacity=\".2\"/><g><rect x=\"32.65\" y=\"139.75\" width=\"119.7\" height=\"12.6\" fill=\"none\" stroke=\"#000\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"6\"/><rect x=\"38.95\" y=\"70.45\" width=\"107.1\" height=\"69.3\" fill=\"none\" stroke=\"#000\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"6\"/><line x1=\"164.95\" y1=\"152.35\" x2=\"20.05\" y2=\"152.35\" fill=\"none\" stroke=\"#000\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"6\"/><line x1=\"51.55\" y1=\"70.45\" x2=\"51.55\" y2=\"139.75\" fill=\"none\" stroke=\"#000\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"6\"/><line x1=\"83.05\" y1=\"70.45\" x2=\"83.05\" y2=\"139.75\" fill=\"none\" stroke=\"#000\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"6\"/><line x1=\"70.45\" y1=\"70.45\" x2=\"70.45\" y2=\"139.75\" fill=\"none\" stroke=\"#000\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"6\"/><line x1=\"101.95\" y1=\"70.45\" x2=\"101.95\" y2=\"139.75\" fill=\"none\" stroke=\"#000\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"6\"/><line x1=\"114.55\" y1=\"70.45\" x2=\"114.55\" y2=\"139.75\" fill=\"none\" stroke=\"#000\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"6\"/><line x1=\"133.45\" y1=\"70.45\" x2=\"133.45\" y2=\"139.75\" fill=\"none\" stroke=\"#000\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"6\"/><polygon points=\"158.65 70.45 26.35 70.45 92.5 32.65 158.65 70.45\" fill=\"none\" stroke=\"#000\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"6\"/></g></g></g></svg></div><div class=\"iconLabel\" translate=\"customized.fee.physical\"></div></div>`;\r\n                                                                                    \r\n                        angular.element(iconLabelLocationItems2).prepend(this.$compile(htmlLocationItems2)(this.$scope)).addClass('icnLblLocationItems2');\r\n            }\r\n\r\n\r\n                         \r\n                \r\n            },0);   \r\n        }\r\n        \r\n        catch(e){\r\n            console.error(\"***SLSP*** an error occured: Rapido \\n\\n\");\r\n            console.error(e.message);\r\n        }\r\n    }\r\n    \r\n}\r\n\r\nslspIconLabelLocationItemsController.$inject =  [ '$scope', '$compile', '$timeout'];\r\n\r\n","\r\n    import {slspIconLabelLocationItemsController} from './slsp-icon-label-location-items.controller';\r\n    import {slspIconLabelLocationItemsHtml} from './slsp-icon-label-location-items.html';\r\n\r\n    export const slspIconLabelLocationItemsModule = angular\r\n        .module('slspIconLabelLocationItemsModule', [])\r\n            .controller('slspIconLabelLocationItemsController', slspIconLabelLocationItemsController)\r\n            .component('slspIconLabelLocationItemsComponent', {\r\n                bindings: {afterCtrl: '<'},\r\n                controller: 'slspIconLabelLocationItemsController',\r\n                template: slspIconLabelLocationItemsHtml\r\n            })","import {ethLocationsFilterModule} from './eth-locations-filter/eth-locations-filter.module';\r\nimport {slspIconLabelLocationsModule} from './slsp-icon-label-locations/slsp-icon-label-locations.module';\r\nimport {slspCollapseRelatedModule} from './slsp-collapse-related/slsp-collapse-related.module';\r\n\r\nexport const ethLocationsAfterModule = angular\r\n    .module('ethLocationsAfterModule', [])\r\n        .component('prmLocationsAfter',  {\r\n            bindings: {parentCtrl: '<'},\r\n            template: `<eth-locations-filter-component after-ctrl=\"$ctrl\"></eth-locations-filter-component><slsp-icon-label-locations-component after-ctrl=\"$ctrl\"></slsp-icon-label-locations-component><slsp-collapse-related-component after-ctrl=\"$ctrl\"></slsp-collapse-related-component><slsp-locations-after parent-ctrl=\"$parent.$ctrl\"></slsp-locations-after>`\r\n        });\r\n\r\nethLocationsAfterModule.requires.push(ethLocationsFilterModule.name);\r\nethLocationsAfterModule.requires.push(slspIconLabelLocationsModule.name);\r\nethLocationsAfterModule.requires.push(slspCollapseRelatedModule.name);","export class ethLocationsFilterController {\r\n\r\n    constructor($timeout, $scope) {\r\n        this.$timeout = $timeout;\r\n        this.$scope = $scope;\r\n    }\r\n\r\n    $onInit() {\r\n        try{\r\n            this.parentCtrl = this.afterCtrl.parentCtrl;\r\n            this.$scope.$watch('this.$ctrl.parentCtrl.locations[0].location.librarycodeTranslation', (newValue, oldValue, scope) => {\r\n                if(!scope.$ctrl.parentCtrl.isLocationsFilterVisible && newValue && newValue != ''){\r\n                    this.$timeout(() => {\r\n                        scope.$ctrl.parentCtrl.isLocationsFilterVisible = true;\r\n                    }, 0);\r\n                }\r\n            }, true);\r\n        }\r\n        catch(e){\r\n            console.error(\"***ETH*** an error occured: ethLocationsFilterController\\n\\n\");\r\n            console.error(e.message);\r\n        }\r\n    }\r\n}\r\n\r\nethLocationsFilterController.$inject = ['$timeout', '$scope'];\r\n","/**\r\n* @ngdoc module\r\n* @name ethLocationsFilterModule\r\n*\r\n* @description\r\n*\r\n* Customization for the locations filter:<br>\r\n* - the locations filter is visible by default\r\n*\r\n* If there is 1 location: prmLocationItemsAfter\r\n*\r\n* If there are multiple locations: prmLocationAfter;\r\n* after all locations: prmLocationsAfter;\r\n* after choosing a location: prmLocationItemsAfter\r\n*\r\n*\r\n* <b>AngularJS Dependencies</b><br>\r\n*\r\n*\r\n* <b>CSS/Image Dependencies</b><br>\r\n* CSS eth-locations-filter.css\r\n*\r\n*\r\n*/\r\nimport {ethLocationsFilterController} from './eth-locations-filter.controller';\r\n\r\nexport const ethLocationsFilterModule = angular\r\n    .module('ethLocationsFilterModule', [])\r\n        .controller('ethLocationsFilterController', ethLocationsFilterController)\r\n        .component('ethLocationsFilterComponent', {\r\n            bindings: {afterCtrl: '<'},\r\n            controller: 'ethLocationsFilterController'\r\n        })\r\n","export class slspCollapseRelatedController {\r\n\r\n    constructor($timeout, $scope) {\r\n        this.$timeout = $timeout;\r\n        this.$scope = $scope;\r\n    }\r\n\r\n    $onInit() {\r\n        try {\r\n            this.parentCtrl = this.afterCtrl.parentCtrl;\r\n\r\n            if (angular.isArray(this.parentCtrl.locations) && this.parentCtrl.locations.length > 0) {\r\n\r\n                this.parentCtrl.relatedLocationsListLimit = 0;\r\n\r\n            }\r\n\r\n        } catch (e) {\r\n            console.error(\"***SLSP*** an error occured: slspCollapseRelatedController\\n\\n\");\r\n            console.error(e.message);\r\n        }\r\n    }\r\n}\r\n\r\n\r\nslspCollapseRelatedController.$inject = ['$timeout', '$scope'];","\r\n    import {slspCollapseRelatedController} from './slsp-collapse-related.controller';\r\n    import {slspCollapseRelatedHtml} from './slsp-collapse-related.html';\r\n\r\n    export const slspCollapseRelatedModule = angular\r\n        .module('slspCollapseRelatedModule', [])\r\n            .controller('slspCollapseRelatedController', slspCollapseRelatedController)\r\n            .component('slspCollapseRelatedComponent', {\r\n                bindings: {afterCtrl: '<'},\r\n                controller: 'slspCollapseRelatedController',\r\n                template: slspCollapseRelatedHtml\r\n            })","\r\n\r\n//--------slspIconLabel ---------------------------------------\r\n\r\n\r\nexport class slspIconLabelLocationsController {\r\n\r\n    constructor( $scope, $compile, $timeout ) {\r\n        this.$scope = $scope;\r\n        this.$compile = $compile;\r\n        this.$timeout = $timeout;\r\n        \r\n    }\r\n\r\n    \r\n\r\n    $onInit() {\r\n        try{\r\n            this.$timeout(() => {\r\n                this.parentCtrl = this.afterCtrl.parentCtrl;\r\n                \r\n                if (this.parentCtrl.serviceScrollId === \"getit_link1_0\") {\r\n                    \r\n                        this.iconLabelLocations = iconLabelLocations ;\r\n                        let iconLabelLocations = document.querySelectorAll('#getit_link1_0 > div > prm-full-view-service-container > div.section-body > div > prm-opac md-tab-content md-content > prm-locations > div.padding-left-medium[ng-if=\"!$ctrl.enableLibraryLevelList\"] > md-list:nth-child(1)');\r\n                        let htmlLocations = `<div class=\"icnWrp\"><div class=\"iconDiv\"><svg xmlns=\"http://www.w3.org/2000/svg\" id=\"Ebene_2\" width=\"100%\" height=\"100%\" viewBox=\"0 0 185 185\"><g id=\"System_icons\"><g><rect width=\"185\" height=\"185\" fill=\"none\" opacity=\".2\"/><g><rect x=\"32.65\" y=\"139.75\" width=\"119.7\" height=\"12.6\" fill=\"none\" stroke=\"#000\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"6\"/><rect x=\"38.95\" y=\"70.45\" width=\"107.1\" height=\"69.3\" fill=\"none\" stroke=\"#000\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"6\"/><line x1=\"164.95\" y1=\"152.35\" x2=\"20.05\" y2=\"152.35\" fill=\"none\" stroke=\"#000\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"6\"/><line x1=\"51.55\" y1=\"70.45\" x2=\"51.55\" y2=\"139.75\" fill=\"none\" stroke=\"#000\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"6\"/><line x1=\"83.05\" y1=\"70.45\" x2=\"83.05\" y2=\"139.75\" fill=\"none\" stroke=\"#000\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"6\"/><line x1=\"70.45\" y1=\"70.45\" x2=\"70.45\" y2=\"139.75\" fill=\"none\" stroke=\"#000\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"6\"/><line x1=\"101.95\" y1=\"70.45\" x2=\"101.95\" y2=\"139.75\" fill=\"none\" stroke=\"#000\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"6\"/><line x1=\"114.55\" y1=\"70.45\" x2=\"114.55\" y2=\"139.75\" fill=\"none\" stroke=\"#000\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"6\"/><line x1=\"133.45\" y1=\"70.45\" x2=\"133.45\" y2=\"139.75\" fill=\"none\" stroke=\"#000\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"6\"/><polygon points=\"158.65 70.45 26.35 70.45 92.5 32.65 158.65 70.45\" fill=\"none\" stroke=\"#000\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"6\"/></g></g></g></svg></div><div class=\"iconLabel\" translate=\"customized.fee.physical\"></div></div>`;\r\n                            \r\n                            angular.element(iconLabelLocations).prepend(this.$compile(htmlLocations)(this.$scope)).addClass('icnLblLocations');\r\n                }\r\n                if (this.parentCtrl.serviceScrollId === \"getit_link1_1\") {\r\n                    \r\n                    this.iconLabelLocations3 = iconLabelLocations3 ;\r\n                    let iconLabelLocations3 = document.querySelectorAll('#getit_link1_1 > div > prm-full-view-service-container > div.section-body > div > prm-opac md-tab-content md-content > prm-locations > div.padding-left-medium[ng-if=\"!$ctrl.enableLibraryLevelList\"] > md-list:nth-child(1)');\r\n                    let htmlLocations3 = `<div class=\"icnWrp\"><div class=\"iconDiv\"><svg xmlns=\"http://www.w3.org/2000/svg\" id=\"Ebene_2\" width=\"100%\" height=\"100%\" viewBox=\"0 0 185 185\"><g id=\"System_icons\"><g><rect width=\"185\" height=\"185\" fill=\"none\" opacity=\".2\"/><g><rect x=\"32.65\" y=\"139.75\" width=\"119.7\" height=\"12.6\" fill=\"none\" stroke=\"#000\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"6\"/><rect x=\"38.95\" y=\"70.45\" width=\"107.1\" height=\"69.3\" fill=\"none\" stroke=\"#000\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"6\"/><line x1=\"164.95\" y1=\"152.35\" x2=\"20.05\" y2=\"152.35\" fill=\"none\" stroke=\"#000\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"6\"/><line x1=\"51.55\" y1=\"70.45\" x2=\"51.55\" y2=\"139.75\" fill=\"none\" stroke=\"#000\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"6\"/><line x1=\"83.05\" y1=\"70.45\" x2=\"83.05\" y2=\"139.75\" fill=\"none\" stroke=\"#000\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"6\"/><line x1=\"70.45\" y1=\"70.45\" x2=\"70.45\" y2=\"139.75\" fill=\"none\" stroke=\"#000\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"6\"/><line x1=\"101.95\" y1=\"70.45\" x2=\"101.95\" y2=\"139.75\" fill=\"none\" stroke=\"#000\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"6\"/><line x1=\"114.55\" y1=\"70.45\" x2=\"114.55\" y2=\"139.75\" fill=\"none\" stroke=\"#000\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"6\"/><line x1=\"133.45\" y1=\"70.45\" x2=\"133.45\" y2=\"139.75\" fill=\"none\" stroke=\"#000\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"6\"/><polygon points=\"158.65 70.45 26.35 70.45 92.5 32.65 158.65 70.45\" fill=\"none\" stroke=\"#000\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"6\"/></g></g></g></svg></div><div class=\"iconLabel\" translate=\"customized.fee.physical\"></div></div>`;\r\n                        \r\n                        angular.element(iconLabelLocations3).prepend(this.$compile(htmlLocations3)(this.$scope)).addClass('icnLblLocations3');\r\n            }\r\n\r\n\r\n\r\n\r\n\r\n                if (this.parentCtrl.serviceScrollId === \"alma_other_members\") {\r\n                    \r\n                    this.iconLabelLocations2 = iconLabelLocations2 ;\r\n                    let iconLabelLocations2 = document.querySelectorAll('prm-alma-other-members prm-opac md-tab-content md-content > prm-locations > div.padding-left-medium[ng-if=\"!$ctrl.enableLibraryLevelList\"] > md-list:nth-child(1)');\r\n                    let htmlLocations2 = `<div class=\"icnWrp\"><div class=\"iconDiv\"><svg xmlns=\"http://www.w3.org/2000/svg\" id=\"Ebene_2\" width=\"100%\" height=\"100%\" viewBox=\"0 0 185 185\"><g id=\"System_icons\"><g><rect width=\"185\" height=\"185\" fill=\"none\" opacity=\".2\"/><g><rect x=\"32.65\" y=\"139.75\" width=\"119.7\" height=\"12.6\" fill=\"none\" stroke=\"#000\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"6\"/><rect x=\"38.95\" y=\"70.45\" width=\"107.1\" height=\"69.3\" fill=\"none\" stroke=\"#000\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"6\"/><line x1=\"164.95\" y1=\"152.35\" x2=\"20.05\" y2=\"152.35\" fill=\"none\" stroke=\"#000\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"6\"/><line x1=\"51.55\" y1=\"70.45\" x2=\"51.55\" y2=\"139.75\" fill=\"none\" stroke=\"#000\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"6\"/><line x1=\"83.05\" y1=\"70.45\" x2=\"83.05\" y2=\"139.75\" fill=\"none\" stroke=\"#000\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"6\"/><line x1=\"70.45\" y1=\"70.45\" x2=\"70.45\" y2=\"139.75\" fill=\"none\" stroke=\"#000\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"6\"/><line x1=\"101.95\" y1=\"70.45\" x2=\"101.95\" y2=\"139.75\" fill=\"none\" stroke=\"#000\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"6\"/><line x1=\"114.55\" y1=\"70.45\" x2=\"114.55\" y2=\"139.75\" fill=\"none\" stroke=\"#000\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"6\"/><line x1=\"133.45\" y1=\"70.45\" x2=\"133.45\" y2=\"139.75\" fill=\"none\" stroke=\"#000\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"6\"/><polygon points=\"158.65 70.45 26.35 70.45 92.5 32.65 158.65 70.45\" fill=\"none\" stroke=\"#000\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"6\"/></g></g></g></svg></div><div class=\"iconLabel\" translate=\"customized.fee.physical\"></div></div>`;\r\n                        \r\n                        angular.element(iconLabelLocations2).prepend(this.$compile(htmlLocations2)(this.$scope)).addClass('icnLblLocations2');\r\n            }\r\n               \r\n            \r\n                \r\n            },0);   \r\n        }\r\n        \r\n        catch(e){\r\n            console.error(\"***SLSP*** an error occured: Rapido \\n\\n\");\r\n            console.error(e.message);\r\n        }\r\n    }\r\n    \r\n}\r\n\r\nslspIconLabelLocationsController.$inject =  [ '$scope', '$compile', '$timeout'];\r\n\r\n\r\n\r\n// md-content > prm-locations > div.padding-left-medium > md-list.separate-list-items.margin-bottom-medium.padding-bottom-zero.md-primoExplore-theme\r\n","\r\n    import {slspIconLabelLocationsController} from './slsp-icon-label-locations.controller';\r\n    import {slspIconLabelLocationsHtml} from './slsp-icon-label-locations.html';\r\n\r\n    export const slspIconLabelLocationsModule = angular\r\n        .module('slspIconLabelLocationsModule', [])\r\n            .controller('slspIconLabelLocationsController', slspIconLabelLocationsController)\r\n            .component('slspIconLabelLocationsComponent', {\r\n                bindings: {afterCtrl: '<'},\r\n                controller: 'slspIconLabelLocationsController',\r\n                template: slspIconLabelLocationsHtml\r\n            })","import { slspLoginBoxModule } from './slsp-login-box/slsp-login-box.module';\r\n\r\nexport const prmLoginAfterModule = angular\r\n    .module('prmLoginAfterModule', [])\r\n    .component('prmLoginAfter', {\r\n        bindings: { parentCtrl: '<' },\r\n        template: `\r\n            <slsp-login-box-component after-ctrl=\"$ctrl\"></slsp-login-box-component>\r\n            <slsp-login-after parent-ctrl=\"$parent.$ctrl\"></<slsp-login-after>`\r\n    });\r\n\r\n\r\nprmLoginAfterModule.requires.push(slspLoginBoxModule.name);","//-----------------RapidoHideLibrary------------------------------\r\n\r\nexport class slspLoginBoxController {\r\n\r\n    constructor($scope, $compile, $timeout) {\r\n        this.$scope = $scope;\r\n        this.$compile = $compile;\r\n        this.$timeout = $timeout;\r\n    }\r\n\r\n    $onInit() {\r\n        try {\r\n            this.$timeout(() => {\r\n                this.parentCtrl = this.afterCtrl.parentCtrl;\r\n\r\n                let buttonHelp = '<p class=\"parallelLoginDescription\" translate=\"parallel.login.description1\"><a href=\"https://help.switch.ch/eduid/\" onclick=\"window.open(https://help.switch.ch/eduid/);return false;\" class=\"md-primoExplore-theme\" style=\"text-decoration:underline\"></a></p>';\r\n                let infoLabel = '<p class=\"parallelLoginDescription\" translate=\"parallel.login.description2\"></p>'\r\n\r\n                let authMeth1 = angular.element(document.querySelectorAll(`prm-login div > md-content > md-list > md-list-item:nth-child(1)`));\r\n                angular.element(authMeth1).append(this.$compile(buttonHelp)(this.$scope)).addClass('authMethSaml');\r\n\r\n                let authMeth2 = angular.element(document.querySelectorAll(`prm-login div > md-content > md-list > md-list-item:nth-child(2)`));\r\n                angular.element(authMeth2).append(this.$compile(infoLabel)(this.$scope)).addClass('authMethAlma');\r\n\r\n                console.log('authentication Method', authMeth2);\r\n\r\n                // this.$scope.$watch('this.$ctrl.afterCtrl.parentCtrl.authenticationMethods', (loginMethodArray) => {\r\n                //     if (angular.isArray(loginMethodArray))\r\n                //         angular.forEach(loginMethodArray, (method) => {\r\n                //             if (\r\n                //                 method.authenticationSystem === 'ALMA'\r\n                //             ) {\r\n                //                 return\r\n                //             }\r\n                //         })\r\n                // })\r\n            }, 0);\r\n        } catch (e) {\r\n            console.error(\"***SLSP*** an error occured: Rapido hide Library\\n\\n\");\r\n            console.error(e.message);\r\n        }\r\n    }\r\n}\r\n\r\nslspLoginBoxController.$inject = ['$scope', '$compile', '$timeout'];","import { slspLoginBoxController } from './slsp-login-box.controller';\r\n\r\n\r\nexport const slspLoginBoxModule = angular\r\n    .module('slspLoginBoxModule', [])\r\n    .controller('slspLoginBoxController', slspLoginBoxController)\r\n    .component('slspLoginBoxComponent', {\r\n        bindings: { afterCtrl: '<' },\r\n        controller: 'slspLoginBoxController',\r\n\r\n    })","//-----------------------------------------------\r\n\r\n\r\nexport class slspEditPersonalDetailsController {\r\n\r\n    constructor($scope, $element) {\r\n        this.$scope = $scope;\r\n        this.$element = $element;\r\n\r\n    }\r\n\r\n    $doCheck() {\r\n        try {\r\n            this.parentCtrl = this.afterCtrl.parentCtrl;\r\n\r\n\r\n\r\n            let lang = 'en';\r\n            let sms = this.$scope.$root.$$childHead.$ctrl.userSessionManagerService;\r\n            if (sms) {\r\n                lang = sms.getInterfaceLanguage();\r\n            }\r\n\r\n            this.detailsBaseEdu = \"https:\\/\\/eduid.ch\\/web\\/change-account-data\\/2\\/?lang=\" + lang;\r\n            this.detailsBaseReg = \"https:\\/\\/registration.slsp.ch\\/library-card\\/?lang=\" + lang;\r\n            this.exclude = ['STAFF', '11', '12', '13', '14', '15', '16', '17', '18', '91', '92', '99'];\r\n            this.grpA = ['11', '91', '92'];\r\n            this.grpB = ['12', '13', '14', '15', '16', '17', '18'];\r\n\r\n\r\n            this.getPatronGrp = function() {\r\n                if (this.parentCtrl.personalInfoService.personalInfo !== undefined) {\r\n                    let patron = this.parentCtrl.personalInfoService.personalInfo.patronstatus[0].registration[0].institution[0].patronstatuscode;\r\n                    if (!this.exclude.includes(patron)) {\r\n                        return true;\r\n                    } else {\r\n                        return false;\r\n                    }\r\n                }\r\n                return false;\r\n            }\r\n\r\n            this.grpLabelA = function() {\r\n                if (this.parentCtrl.personalInfoService.personalInfo !== undefined) {\r\n                    let labelA = this.parentCtrl.personalInfoService.personalInfo.patronstatus[0].registration[0].institution[0].patronstatuscode;\r\n                    if (this.grpA.includes(labelA)) {\r\n                        return true;\r\n                    } else {\r\n                        return false;\r\n                    }\r\n                }\r\n                return false;\r\n            }\r\n\r\n\r\n            this.grpLabelB = function() {\r\n                if (this.parentCtrl.personalInfoService.personalInfo !== undefined) {\r\n                    let labelB = this.parentCtrl.personalInfoService.personalInfo.patronstatus[0].registration[0].institution[0].patronstatuscode;\r\n                    if (this.grpB.includes(labelB)) {\r\n                        return true;\r\n                    } else {\r\n                        return false;\r\n                    }\r\n                }\r\n                return false;\r\n            }\r\n\r\n            this.buttonMove = function() {\r\n                let parentElement = angular.element(document.querySelector('md-card > md-card-content > prm-personal-settings > prm-personal-settings-after'));\r\n                let element = angular.element(document.querySelector('#SLSPeditPersonalDetails'));\r\n                parentElement.append(element);\r\n            }\r\n\r\n\r\n        } catch (e) {\r\n            console.error(\"***SLSP*** an error occured: EditPersonalDetailsController\\n\\n\");\r\n            console.error(e.message);\r\n        }\r\n    }\r\n}\r\n\r\nslspEditPersonalDetailsController.$inject = ['$scope'];","import {slspEditPersonalDetailsController} from './slsp-edit-personal-details.controller';\r\nimport {slspEditPersonalDetailsHtml} from './slsp-edit-personal-details.html';\r\n\r\n\r\nexport const slspEditPersonalDetailsModule = angular\r\n    .module('slspEditPersonalDetailsModule', [])\r\n        .controller('slspEditPersonalDetailsController', slspEditPersonalDetailsController)\r\n        .component('slspEditPersonalDetailsComponent', {\r\n            bindings: {afterCtrl: '<'},\r\n            controller: 'slspEditPersonalDetailsController',\r\n            template: slspEditPersonalDetailsHtml\r\n        })","import {slspEditPersonalDetailsModule} from './slsp-edit-personal-details/slsp-edit-personal-details.module';\r\n\r\n\r\nexport const slspPersonalInfoAfterModule = angular\r\n    .module('slspPersonalInfoAfterModule', [])\r\n        .component('prmPersonalInfoAfter',  {\r\n            bindings: {parentCtrl: '<'},\r\n            template: `<slsp-edit-personal-details-component after-ctrl=\"$ctrl\" id=\"SLSPeditPersonalDetails\"></slsp-edit-personal-details-component><slsp-personal-info-after parent-ctrl=\"$parent.$ctrl\"></slsp-personal-info-after>`\r\n        });\r\n\r\n        slspPersonalInfoAfterModule.requires.push(slspEditPersonalDetailsModule.name);\r\n\r\n","export class bcuFeesLinkController {\r\n\r\n    constructor($element) {\r\n        this.$element = $element[0];\r\n        this.form = this.$element.parentElement.parentElement;\r\n        this.display = false;\r\n    }\r\n\r\n    $doCheck() {\r\n      let form = false;\r\n      //console.log('old-module');\r\n            if (this.form.children[0].children[1] !== undefined && this.form.children[0].children[1].children[0] !== undefined) {\r\n                form = this.form.children[0].children[1].children[0];\r\n            }\r\n            else if (this.form.children[0].children[0] !== undefined && this.form.children[0].children[0].children[0] !== undefined) {\r\n                form = this.form.children[0].children[0].children[0];\r\n            }\r\n\r\n            //create and insert info block if not present\r\n\r\n            if (form && form.children.length >= 2 && this.display === false) {\r\n                this.display = true;\r\n                let info = document.createElement('DIV');\r\n                info.className = \"courier-info bar alert-bar\";\r\n                info.innerHTML =\r\n                `<h4>${this.afterCtrl.parentCtrl.$translate.instant('customize.fullview.feesTitle')}</h4>\r\n\t\t<p>${this.afterCtrl.parentCtrl.$translate.instant('customize.fullview.feesInfo')}</p>\r\n\t\t<p><a href=\"${this.afterCtrl.parentCtrl.$translate.instant('customize.fullview.feesUrl')}\"\r\n\t\ttarget=\"_blank\">${this.afterCtrl.parentCtrl.$translate.instant('customize.fullview.feesLinkText')}</a></p>`;\r\n                form.insertBefore(info, form.children[form.children.length -1]);\r\n            }\r\n        }\r\n}\r\n\r\nbcuFeesLinkController.$inject = ['$element'];","\r\n    import {bcuFeesLinkController} from './bcu-fees-link.controller';\r\n\r\n\r\n    export const bcuFeesLinkModule = angular\r\n        .module('bcuFeesLinkModule', [])\r\n            .controller('bcuFeesLinkController', bcuFeesLinkController)\r\n            .component('bcuFeesLinkComponent', {\r\n                bindings: {afterCtrl: '<'},\r\n                controller: 'bcuFeesLinkController',\r\n                \r\n            })","export class slspAlmaRequestController {\r\n\r\n    constructor($scope, $compile, $timeout) {\r\n        this.$scope = $scope;\r\n        this.$compile = $compile;\r\n        this.$timeout = $timeout;\r\n    }\r\n\r\n    $doCheck() {\r\n        try {\r\n            this.parentCtrl = this.afterCtrl.parentCtrl;\r\n\r\n                if (this.parentCtrl.serviceType == 'AlmaRequest' || this.parentCtrl.serviceType == 'AlmaItemRequest' || this.parentCtrl.serviceType == 'AlmaRequestAnyItem' || this.parentCtrl.serviceType == 'AlmaRequestOther') {\r\n\r\n                    this.requestLoan = requestLoan;\r\n                    let requestLoan = document.querySelectorAll('prm-opac form[name=\"requestForm\"]');\r\n                    \r\n                    angular.element(requestLoan).addClass('almaRequestLoan');\r\n\r\n                }\r\n\r\n                else if (this.parentCtrl.serviceType == 'AlmaDigitization' || this.parentCtrl.serviceType == 'AlmaDigitizationOther' || this.parentCtrl.serviceType == 'AlmaGeneralDigitization' || this.parentCtrl.serviceType == 'AlmaItemDigitization' || this.parentCtrl.serviceType == 'AlmaResourceSharing' ) {\r\n                    this.requestDigi = requestDigi;\r\n                    let requestDigi = document.querySelectorAll('prm-opac form[name=\"requestForm\"]');\r\n                    angular.element(requestDigi).removeClass('almaRequestLoan');\r\n                }\r\n\r\n            } catch (e) {\r\n                console.error(\"***SLSP*** an error occured: slspAlmaRequestController \\n\\n\");\r\n                console.error(e.message);\r\n            }\r\n        }\r\n    \r\n    \r\n    }\r\n    \r\n\r\n            \r\n\r\nslspAlmaRequestController.$inject = ['$scope', '$compile', '$timeout'];","\r\n    import {slspAlmaRequestController} from './slsp-alma-request.controller';\r\n\r\n\r\n    export const slspAlmaRequestModule = angular\r\n        .module('slspAlmaRequestModule', [])\r\n            .controller('slspAlmaRequestController', slspAlmaRequestController)\r\n            .component('slspAlmaRequestComponent', {\r\n                bindings: {afterCtrl: '<'},\r\n                controller: 'slspAlmaRequestController',\r\n                \r\n            })\r\n\r\n","import {bcuFeesLinkModule} from './bcu-fees-link/bcu-fees-link.module';\r\nimport {slspAlmaRequestModule} from './slsp-alma-request/slsp-alma-request.module';\r\n\r\n\r\nexport const slspRequestAfterModule = angular\r\n    .module('slspRequestAfterModule', [])\r\n        .component('prmRequestAfter',  {\r\n            bindings: {parentCtrl: '<'},\r\n            template: `<bcu-fees-link-component after-ctrl=\"$ctrl\"></bcu-fees-link-component>\r\n            <slsp-alma-request-component after-ctrl=\"$ctrl\"></slsp-alma-request-component>\r\n            <slsp-request-after parent-ctrl=\"$parent.$ctrl\"></slsp-request-after>`\r\n        });\r\n\r\nslspRequestAfterModule.requires.push(bcuFeesLinkModule.name);\r\nslspRequestAfterModule.requires.push(slspAlmaRequestModule.name);\r\n","//--------RequestCancelButton ---------------------------------------\r\n\r\n\r\nexport class slspRequestCancelButtonController {\r\n\r\n    constructor($scope) {\r\n        this.$scope = $scope;\r\n\r\n    }\r\n\r\n    $onInit() {\r\n        try {\r\n            this.parentCtrl = this.afterCtrl.parentCtrl;\r\n\r\n            this.$scope.$watch('this.$ctrl.parentCtrl.requestsDisplay', (currentRequestArray) => {\r\n\r\n                if (angular.isArray(currentRequestArray) && currentRequestArray.length > 0)\r\n\r\n                    angular.forEach(currentRequestArray, (request) => {\r\n\r\n\r\n                    if (request.requestType === 'ill') {\r\n                        if (request.statusCode === 'DELIVERED' ||\r\n                            request.statusCode === 'LOST_COMMUNICATED' ||\r\n                            request.statusCode === 'RECALLED_BOR' ||\r\n                            request.statusCode === 'RECEIVED_DIGITALLY' ||\r\n                            request.statusCode === 'RECEIVED_NOT_FOR_LOAN' ||\r\n                            request.statusCode === 'RECEIVED_PHYSICALLY' ||\r\n                            request.statusCode === 'RENEWED' ||\r\n                            request.statusCode === 'RENEW_NOT_ACCEPTED' ||\r\n                            request.statusCode === 'RENEW_REQUESTED' ||\r\n                            request.statusCode === 'REQUEST_COMPLETED' ||\r\n                            request.statusCode === 'SHIPPED_DIGITALLY' ||\r\n                            request.statusCode === 'SHIPPED_PHYSICALLY') {\r\n\r\n                            request.isCancelable = false;\r\n\r\n                        } else {\r\n                            request.isCancelable = true;\r\n                        }\r\n                    }\r\n                })\r\n            })\r\n\r\n        } catch (e) {\r\n            console.error(\"***SLSP*** an error occured: RequestCancelButton \\n\\n\");\r\n            console.error(e.message);\r\n        }\r\n    }\r\n\r\n\r\n}\r\n\r\nslspRequestCancelButtonController.$inject = ['$scope'];","\r\n    import {slspRequestCancelButtonController} from './slsp-request-cancel-button.controller';\r\n    \r\n\r\n    export const slspRequestCancelButtonModule = angular\r\n        .module('slspRequestCancelButtonModule', [])\r\n            .controller('slspRequestCancelButtonController', slspRequestCancelButtonController)\r\n            .component('slspRequestCancelButtonComponent', {\r\n                bindings: {afterCtrl: '<'},\r\n                controller: 'slspRequestCancelButtonController',\r\n                \r\n            })","import { slspRequestCancelButtonModule } from './slsp-request-cancel-button/slsp-request-cancel-button.module';\r\n\r\n\r\nexport const slspRequestsAfterModule = angular\r\n    .module('slspRequestsAfterModule', [])\r\n    .component('prmRequestsAfter', {\r\n        bindings: { parentCtrl: '<' },\r\n        template: `\r\n            <slsp-request-cancel-button-component after-ctrl=\"$ctrl\"></slsp-request-cancel-button-component>\r\n            <slsp-requests-after parent-ctrl=\"$parent.$ctrl\"></slsp-requests-after>\r\n            `\r\n    });\r\n\r\n\r\nslspRequestsAfterModule.requires.push(slspRequestCancelButtonModule.name);","import {bcuSearchSlotsModule} from './bcu-search-slots/bcu-search-slots.module';\r\n\r\nexport const bcuSearchBarAfterModule = angular\r\n    .module('bcuSearchBarAfterModule', [])\r\n        .component('prmSearchBarAfter',  {\r\n            bindings: {parentCtrl: '<'},\r\n            template: `<bcu-search-slots-component after-ctrl=\"$ctrl\"></bcu-search-slots-component><slsp-search-bar-after parent-ctrl=\"$parent.$ctrl\"></slsp-search-bar-after>`\r\n        });\r\n\r\nbcuSearchBarAfterModule.requires.push(bcuSearchSlotsModule.name);\r\n","export class bcuSearchSlotsController {\r\n\r\n    $onInit() {\r\n        this.parentCtrl = this.afterCtrl.parentCtrl;\r\n        this.parentCtrl.showTabsAndScopes = true;\r\n    };\r\n\r\n}\r\n","/**\r\n* @ngdoc module\r\n* @name bcuSearchSlotsModule\r\n*\r\n* @description\r\n*\r\n* Customization for the search bar:<br>\r\n* - Tabs and scopes are displayed even if the search has not yet taken place (empty searchfield).\r\n*\r\n* <b>AngularJS Dependencies</b><br>\r\n*\r\n*\r\n* <b>CSS/Image Dependencies</b><br>\r\n*\r\n*\r\n* @example\r\n*\r\n*/\r\nimport {bcuSearchSlotsController} from './bcu-search-slots.controller';\r\n\r\nexport const bcuSearchSlotsModule = angular\r\n    .module('bcuSearchSlotsModule', [])\r\n        .controller('bcuSearchSlotsController', bcuSearchSlotsController)\r\n        .component('bcuSearchSlotsComponent',  {\r\n            bindings: {afterCtrl: '<'},\r\n            controller: 'bcuSearchSlotsController'\r\n        })\r\n","\r\nimport {slspDigitizationButtonLabelModule} from './slsp-digitization-button-label/slsp-digitization-button-label.module';\r\n\r\nexport const prmServiceButtonAfterModule = angular\r\n    .module('prmServiceButtonAfterModule', [])\r\n        .component('prmServiceButtonAfter',  {\r\n            bindings: {parentCtrl: '<'},\r\n            template: `<slsp-digitization-button-label-component after-ctrl=\"$ctrl\"></slsp-digitization-button-label-component><slsp-service-button-after parent-ctrl=\"$parent.$ctrl\"></slsp-service-button-after>`\r\n        });\r\n\r\n        prmServiceButtonAfterModule.requires.push(slspDigitizationButtonLabelModule.name);\r\n","//--------slspDigitizationButtonLabelController ---------------------------------------\r\n\r\n\r\nexport class slspDigitizationButtonLabelController {\r\n\r\n    constructor($scope, $compile, $timeout) {\r\n        this.$scope = $scope;\r\n        this.$compile = $compile;\r\n        this.$timeout = $timeout;\r\n    }\r\n\r\n    $onInit() {\r\n        try {\r\n            this.$timeout(() => {\r\n                this.parentCtrl = this.afterCtrl.parentCtrl;\r\n\r\n                if (this.parentCtrl.service.type !== undefined && this.parentCtrl.service.type === 'AlmaDigitization') {\r\n\r\n                    this.digiButtonLabel = digiButtonLabel;\r\n                    let digiButtonLabel = document.querySelectorAll('prm-full-view-service-container prm-service-button button span[translate=\"AlmaDigitization\"]');\r\n                    let html = `<div class=\"DigiButtonLabel1\">CHF</div>`;\r\n\r\n                    angular.element(digiButtonLabel).after(html).addClass('digiButton');\r\n                }\r\n\r\n\r\n                if (this.parentCtrl.service.type !== undefined && this.parentCtrl.service.type === 'AlmaGeneralDigitization') {\r\n\r\n                    this.digiButtonLabel = digiButtonLabel;\r\n                    let digiButtonLabel = document.querySelectorAll('prm-full-view-service-container prm-service-button button span[translate=\"AlmaGeneralDigitization\"]');\r\n                    let html = `<div class=\"DigiButtonLabel1\">CHF</div>`;\r\n\r\n                    angular.element(digiButtonLabel).after(html).addClass('digiButton');\r\n                }\r\n\r\n\r\n                if (this.parentCtrl.service.type !== undefined && this.parentCtrl.service.type === 'AlmaItemDigitization') {\r\n                    this.digiItemButtonLabel = digiItemButtonLabel;\r\n                    let digiItemButtonLabel = document.querySelectorAll('prm-full-view-service-container prm-service-button button span[translate=\"AlmaItemDigitization\"]');\r\n\r\n                    //let htmlItem = `<div class=\"DigiButtonLabel\" translate=\"customized.fee.digi\"></div>`;\r\n\r\n\r\n                    angular.element(digiItemButtonLabel).append(`<div class=\"DigiButtonLabel\">CHF</div>`).addClass('digiButton');\r\n                } else {\r\n                    return\r\n                }\r\n\r\n\r\n\r\n            }, 20);\r\n        } catch (e) {\r\n            console.error(\"***SLSP*** an error occured: Rapido \\n\\n\");\r\n            console.error(e.message);\r\n        }\r\n    }\r\n\r\n\r\n}\r\n\r\nslspDigitizationButtonLabelController.$inject = ['$scope', '$compile', '$timeout'];","\r\n    import {slspDigitizationButtonLabelController} from './slsp-digitization-button-label.controller';\r\n    import {slspDigitizationButtonLabelHtml} from './slsp-digitization-button-label.html';\r\n\r\n    export const slspDigitizationButtonLabelModule = angular\r\n        .module('slspDigitizationButtonLabelModule', [])\r\n            .controller('slspDigitizationButtonLabelController', slspDigitizationButtonLabelController)\r\n            .component('slspDigitizationButtonLabelComponent', {\r\n                bindings: {afterCtrl: '<'},\r\n                controller: 'slspDigitizationButtonLabelController',\r\n                template: slspDigitizationButtonLabelHtml\r\n            })","export const ethMetagridConfig = function(){\r\n    return {\r\n        // whitelist of providers whose links should be displayed.\r\n        // The array contains the slug of the provider.\r\n        // https://api.metagrid.ch/providers.json\r\n        // if you add a slug, you have also to add the labels (providers.json: 'short_description').\r\n        whitelist:\r\n            [\"hallernet\", \"fotostiftung\", \"sikart\",\"elites-suisses-au-xxe-siecle\",\"bsg\", \"dodis\", \"helveticat\", \"hls-dhs-dss\",\"histoirerurale\",\"lonsea\",\"ssrq\",\"alfred-escher\",\"geschichtedersozialensicherheit\"],\r\n        label: {\r\n            'hallernet': {\r\n                de: 'Editions- und Forschungsplattform hallerNet',\r\n                en: 'Editions- und Forschungsplattform hallerNet',\r\n                fr: 'Editions- und Forschungsplattform hallerNet',\r\n                it: 'Editions- und Forschungsplattform hallerNet'\r\n            },\r\n            'fotostiftung': {\r\n                de: 'Fotostiftung Schweiz',\r\n                en: 'Fotostiftung Schweiz',\r\n                fr: 'Fotostiftung Schweiz',\r\n                it: 'Fotostiftung Schweiz'\r\n            },\r\n            'sikart': {\r\n                de: 'SIKART',\r\n                en: 'SIKART',\r\n                fr: 'SIKART',\r\n                it: 'SIKART'\r\n            },\r\n            'elites-suisses-au-xxe-siecle': {\r\n                de: 'Schweizerische Eliten im 20. Jahrhundert',\r\n                en: 'Swiss elites database',\r\n                fr: 'Elites suisses au XXe siècle',\r\n                it: 'Elites suisses au XXe siècle'\r\n            },\r\n            'bsg': {\r\n                de: 'Bibliographie der Schweizergeschichte',\r\n                en: 'Bibliography on Swiss History',\r\n                fr: 'Bibliographie de l\\'histoire suisse',\r\n                it: 'Bibliografia della storia svizzera'\r\n\r\n            },\r\n            'dodis': {\r\n                de: 'Diplomatische Dokumente der Schweiz',\r\n                en: 'Diplomatic Documents of Switzerland',\r\n                fr: 'Documents diplomatiques suisses',\r\n                it: 'Documenti diplomatici svizzeri'\r\n            },\r\n            'helveticat': {\r\n                de: 'Helveticat',\r\n                en: 'Helveticat',\r\n                fr: 'Helveticat',\r\n                it: 'Helveticat'\r\n            },\r\n            'hls-dhs-dss': {\r\n                de: 'Historisches Lexikon der Schweiz',\r\n                en: 'Historical Dictionary of Switzerland',\r\n                fr: 'Dictionnaire historique de la Suisse',\r\n                it: 'Dizionario storico della Svizzera'\r\n            },\r\n            'histoirerurale': {\r\n                de: 'Archiv für Agrargeschichte',\r\n                en: 'Archives of rural history',\r\n                fr: 'Archives de l\\'histoire rurale',\r\n                it: 'Archivio della storia rurale'\r\n            },\r\n            'lonsea': {\r\n                de: 'Lonsea',\r\n                en: 'Lonsea',\r\n                fr: 'Lonsea',\r\n                it: 'Lonsea'\r\n            },\r\n            'ssrq': {\r\n                de: 'Sammlung Schweizerischer Rechtsquellen',\r\n                en: 'Collection of Swiss Law Sources',\r\n                fr: 'Collection des sources du droit suisse',\r\n                it: 'Collana Fonti del diritto svizzero'\r\n            },\r\n            'alfred-escher': {\r\n                de: 'Alfred Escher-Briefedition',\r\n                en: 'Alfred Escher letters edition',\r\n                fr: 'Edition des lettres Alfred Escher',\r\n                it: 'Edizione lettere Alfred Escher'\r\n            },\r\n            'geschichtedersozialensicherheit': {\r\n                de: 'Geschichte der sozialen Sicherheit',\r\n                en: 'Geschichte der sozialen Sicherheit',\r\n                fr: 'Histoire de la sécurité sociale',\r\n                it: 'Storia della sicurezza sociale'\r\n            }\r\n        }\r\n    }\r\n}\r\n","// Modified ETH Metagrid lookup module\r\n// Added support for IdRef in addition to GND\r\n// T. Guignard for UNIGE - April 2023\r\n\r\nexport class ethMetagridController {\r\n\r\n    constructor( ethConfigService, ethMetagridConfig, ethMetagridService ) {\r\n        this.ethConfigService = ethConfigService;\r\n        this.config = ethMetagridConfig;\r\n        this.ethMetagridService = ethMetagridService;\r\n    }\r\n    \r\n    buildMetalinkLinks(provider,id){\r\n        this.ethMetagridService.getConcordances(provider, id)\r\n        .then((data) => {\r\n            try{\r\n                if (!data)return;\r\n                if (!data.concordances || data.concordances.length === 0 || !data.concordances[0].resources || data.concordances[0].resources.length === 0)return;\r\n                \r\n                // Use Metagrid unique identifiers to avoid duplicates\r\n                let metagridId = data.concordances[0].id;\r\n                if (this.persons.find(x => x.id == metagridId))return;          \r\n                \r\n                let person = {};\r\n                person.id = metagridId;\r\n                let resources = data.concordances[0].resources;\r\n                let whitelistedMetagridLinks = [];\r\n                let whitelistedMetagridLinksSorted = [];\r\n\r\n                person.name = resources[0].metadata.last_name;\r\n                if(resources[0].metadata.first_name){\r\n                    person.name += ', ' + resources[0].metadata.first_name;\r\n                }\r\n\r\n                for(var j = 0; j < resources.length; j++){\r\n                    let resource = resources[j];\r\n                    let slug = resource.provider.slug;\r\n                    let url = resource.link.uri;\r\n\r\n                    // check whitelist for Metagrid links\r\n                    if (this.config.whitelist.indexOf(slug) === -1) {\r\n                        continue;\r\n                    }\r\n\r\n                    let label = this.ethConfigService.getLabel(this.config, slug);\r\n                    whitelistedMetagridLinks.push({'slug': slug,'url': url, 'label': label});\r\n                }\r\n                // Dodis and HLS first\r\n                let dodis = whitelistedMetagridLinks.filter(e => {\r\n                    return e.slug === 'dodis';\r\n                });\r\n                whitelistedMetagridLinksSorted = whitelistedMetagridLinksSorted.concat(dodis);\r\n                let hls = whitelistedMetagridLinks.filter(e => {\r\n                    return e.slug === 'hls-dhs-dss';\r\n                });\r\n                whitelistedMetagridLinksSorted = whitelistedMetagridLinksSorted.concat(hls);\r\n                let rest = whitelistedMetagridLinks.filter(e => {\r\n                    return e.slug !== 'hls-dhs-dss' && e.slug !== 'dodis';\r\n                });\r\n                whitelistedMetagridLinksSorted = whitelistedMetagridLinksSorted.concat(rest);\r\n\r\n                person.metagridLinks = whitelistedMetagridLinksSorted;\r\n                this.persons.push(person);\r\n            }\r\n            catch(e){\r\n                console.error(\"an error occured: ethMetagridController: ethMetagridService.getConcordances callback:\\n\\n\");\r\n                console.error(e.message);\r\n            }\r\n        })\r\n    }\r\n\r\n    $onInit() {\r\n        try{\r\n            this.parentCtrl = this.afterCtrl.parentCtrl;\r\n\r\n            // this.persons = collection for all persons having a GND or IdRef ID\r\n            this.persons = [];\r\n\r\n            // Only run the rest of the code once the local fields have been loaded\r\n            if(!this.parentCtrl.item.pnx.display.lds03 && !this.parentCtrl.item.pnx.display.lds90)return;\r\n            \r\n            // array of all GND IDs\r\n            let gndIds = [];\r\n            \r\n            // array of all IdRef IDs\r\n            let idrefIds = [];\r\n            \r\n            if(angular.isDefined(this.parentCtrl.item.pnx.display.lds03)){\r\n                \r\n                // Look up any GND IDs found (in local field lds03)\r\n                let lds03 = this.parentCtrl.item.pnx.display.lds03;\r\n            \r\n                for(let i = 0; i < lds03.length; i++){\r\n                    // ALMA Ressources: link in value\r\n                    if(lds03[i].indexOf('/gnd/') > -1){\r\n                        let part = lds03[i].substring(lds03[i].indexOf('/gnd/') + 5);\r\n                        part = part.substring(0, part.indexOf('\">'));\r\n                        if(part.indexOf('(DE-588)')>-1){\r\n                            part = part.replace('(DE-588)','')\r\n                        }\r\n                        if(gndIds.indexOf(part)===-1)gndIds.push(part);\r\n                    }\r\n                    // External data: text in value\r\n                    else if (lds03[i].indexOf(': ') > -1) {\r\n                        let part = lds03[i].substring(lds03[i].indexOf(': ') + 2);\r\n                        if(part.indexOf('(DE-588)')>-1){\r\n                            part = part.replace('(DE-588)','')\r\n                        }\r\n                        if(gndIds.indexOf(part)===-1)gndIds.push(part);\r\n                    }\r\n                }\r\n                console.log('Authorités GND:')\r\n                console.log(gndIds);\r\n            }\r\n            \r\n            \r\n            if(this.parentCtrl.item.pnx.display.lds90){\r\n                \r\n                // Look up any IdRef IDs found (in local field lds90)\r\n                let lds90 = this.parentCtrl.item.pnx.display.lds90;\r\n            \r\n                for(let i = 0; i < lds90.length; i++){\r\n                    // Catch IdRef links provided as URLs\r\n                    if(lds90[i].indexOf('idref.fr/') > -1){\r\n                        let part = lds90[i].substring(lds90[i].indexOf('idref.fr/') + 9);\r\n                        part = part.substring(0, part.indexOf('\">'));\r\n                        // Remove any (IdRef) prefix\r\n                        if(part.indexOf('(IdRef)')>-1){\r\n                            part = part.replace('(IdRef)','')\r\n                        }\r\n                        if(idrefIds.indexOf(part)===-1)idrefIds.push(part);\r\n                    }\r\n                    // Catch identifiers provided with (IdRef) prefix\r\n                    else if (lds90[i].indexOf(': ') > -1) {\r\n                        let part = lds90[i].substring(lds90[i].indexOf(': ') + 2);\r\n                        if(part.indexOf('(IdRef)')>-1){\r\n                            part = part.replace('(IdRef)','')\r\n                        }\r\n                        if(idrefIds.indexOf(part)===-1)idrefIds.push(part);\r\n                    }\r\n                }\r\n                console.log('Authorités IdRef:')\r\n                console.log(idrefIds);\r\n            }\r\n            \r\n \r\n                for(var i = 0; i < gndIds.length; i++){\r\n                    let gndId = gndIds[i];\r\n                    if (gndId === \"\")continue;\r\n                    if (gndId.indexOf(')')>-1) {\r\n                        gndId = gndId.substring(gndId.lastIndexOf(')')+1);\r\n                    }\r\n                \r\n                    this.buildMetalinkLinks('gnd', gndId);\r\n                }\r\n            \r\n                for(var i = 0; i < idrefIds.length; i++){\r\n                    let idrefId = idrefIds[i];\r\n                    if (idrefId === \"\")continue;\r\n                    if (idrefId.indexOf(')')>-1) {\r\n                        idrefId = idrefId.substring(idrefId.lastIndexOf(')')+1);\r\n                    }\r\n                \r\n                    this.buildMetalinkLinks('sudoc', idrefId);\r\n                }\r\n            \r\n        }\r\n        catch(e){\r\n            console.error(\"***ETH*** an error occured: ethMetagridController.onInit()\\n\\n\");\r\n            console.error(e.message);\r\n            throw(e);\r\n        }\r\n    }\r\n}\r\n\r\nethMetagridController.$inject = ['ethConfigService', 'ethMetagridConfig', 'ethMetagridService'];\r\n","/**\r\n* @ngdoc module\r\n* @name ethMetagridModule\r\n*\r\n* @description\r\n*\r\n* - checks beacon.findbuch, Metagrid, Entityfacts (DNB), Wikidata for person informations (by GND ID)\r\n*\r\n* <b>AngularJS Dependencies</b><br>\r\n* Service /services {@link ETH.ethConfigService}<br>\r\n*\r\n*\r\n* <b>CSS/Image Dependencies</b><br>\r\n* CSS /css/eth-metagrid.css\r\n*\r\n*\r\n*/\r\nimport {ethConfigService} from './eth-config.service';\r\nimport {ethMetagridConfig} from './eth-metagrid.config';\r\nimport {ethMetagridService} from './eth-metagrid.service';\r\nimport {ethMetagridHtml} from './eth-metagrid.html';\r\nimport {ethMetagridController} from './eth-metagrid.controller';\r\n\r\n\r\nexport const ethMetagridModule = angular\r\n    .module('ethMetagridModule', [])\r\n        .factory('ethConfigService', ethConfigService)\r\n        .factory('ethMetagridConfig', ethMetagridConfig)\r\n        .factory('ethMetagridService', ethMetagridService)\r\n        .controller('ethMetagridController', ethMetagridController)\r\n        .component('ethMetagridComponent',{\r\n            bindings: {afterCtrl: '<'},\r\n            controller: 'ethMetagridController',\r\n            template: ethMetagridHtml\r\n        })\r\n","export const ethMetagridService = ['$http', '$sce', function($http, $sce){\r\n\r\n    let baseurl = 'https://api.metagrid.ch/search?group=1&skip=0&take=50';\r\n\r\n    function getConcordances(metagridService,metagridId){\r\n        let url = baseurl + '&provider=' + metagridService + '&query=' + metagridId;\r\n        $sce.trustAsResourceUrl(url);\r\n\r\n        return $http.get(url)\r\n            .then(\r\n                function(response){\r\n                    return response.data;\r\n                },\r\n                function(httpError){\r\n                    if (httpError.status === 404)return null;\r\n                    let error = \"an error occured: ethMetagridService callback: \" + httpError.status;\r\n                    if (httpError.data && httpError.data.errorMessage) {\r\n                        error += ' - ' + httpError.data.errorMessage;\r\n                    }\r\n                    console.error(error);\r\n                    return null;\r\n                }\r\n            );\r\n    }\r\n    return {\r\n        getConcordances: getConcordances\r\n    };\r\n}]\r\n","import { ethMetagridModule } from './eth-metagrid/eth-metagrid.module';\r\n\r\nexport const prmServiceDetailsAfterModule = angular\r\n    .module('prmServiceDetailsAfterModule', [])\r\n    .component('prmServiceDetailsAfter',  {\r\n            bindings: {parentCtrl: '<'},\r\n            template: `<eth-metagrid-component after-ctrl=\"$ctrl\"></eth-metagrid-component>`\r\n    });\r\n\r\nprmServiceDetailsAfterModule.requires.push(ethMetagridModule.name);\r\n\r\n","export class bcuRapidoNoFurtherOptionsController {\r\n\r\n    constructor($scope) {\r\n        this.$scope = $scope;\r\n    }\r\n\r\n    $doCheck() {\r\n        try {\r\n            this.parentCtrl = this.afterCtrl.parentCtrl;\r\n            let msg = this.parentCtrl.almaRSServiceAvailable;\r\n            let isi = this.parentCtrl.isSignedIn();\r\n\r\n            let rapidoSection = document.getElementById('rapidoOffer');\r\n            let rapidoTOC = document.querySelector('button span[translate=\"brief.results.tabs.Get_it_from_other_locations\"]');\r\n\r\n            //console.log(\"msg:\", this.parentCtrl.almaRSServiceAvailable, \"isi:\", this.parentCtrl.isSignedIn(), rapidoTOC.parentElement, rapidoSection);\r\n\r\n            if (msg == \"false\" && isi == \"true\") {\r\n                angular.element(rapidoSection).addClass('slsp-hide-rapido');\r\n                angular.element(rapidoTOC.parentElement).addClass('slsp-hide-rapido');\r\n            } else {\r\n                if (angular.element(rapidoSection).hasClass('slsp-hide-rapido')) {\r\n                    angular.element(rapidoSection).removeClass('slsp-hide-rapido');\r\n                }\r\n                if (angular.element(rapidoTOC.parentElement).hasClass('slsp-hide-rapido')) {\r\n                    angular.element(rapidoTOC.parentElement).removeClass('slsp-hide-rapido');\r\n                }\r\n            }\r\n        } catch (e) {\r\n            console.error(\"***SLSP*** an error occured: Rapido no Further Options\\n\\n\");\r\n            console.error(e.message);\r\n        }\r\n    }\r\n\r\n}\r\n\r\nbcuRapidoNoFurtherOptionsController.$inject = ['$scope'];","import {bcuRapidoNoFurtherOptionsController} from './bcu-rapido-no-further-options.controller';\r\n//import {slspIllSigninOrderLoggedOutService} from '../../prm-user-area-expandable-after/slsp-ill-signin-order-logged-out/slsp-ill-signin-order-logged-out.service';\r\n\r\nexport const bcuRapidoNoFurtherOptionsModule = angular\r\n    .module('bcuRapidoNoFurtherOptionsModule', [])\r\n        //.factory('slspIllSigninOrderLoggedOutService', slspIllSigninOrderLoggedOutService)\r\n        .controller('bcuRapidoNoFurtherOptionsController', bcuRapidoNoFurtherOptionsController)\r\n        .component('bcuRapidoNoFurtherOptions', {\r\n            bindings: {afterCtrl: '<'},\r\n            controller: 'bcuRapidoNoFurtherOptionsController'\r\n        })","import { slspRapidoFeesLinkModule } from './slsp-rapido-fees-link/slsp-rapido-fees-link.module';\r\nimport { bcuRapidoNoFurtherOptionsModule } from './bcu-rapido-no-further-options/bcu-rapido-no-further-options.module';\r\n\r\n\r\nexport const prmServiceNgrsAfterModule = angular\r\n    .module('prmServiceNgrsAfterModule', [])\r\n    .component('prmServiceNgrsAfter', {\r\n        bindings: { parentCtrl: '<' },\r\n        template: `<slsp-rapido-fees-link-component after-ctrl=\"$ctrl\"></slsp-rapido-fees-link-component>\r\n            <bcu-rapido-no-further-options after-ctrl=\"$ctrl\"></bcu-rapido-no-further-options>\r\n            <slsp-service-ngrs-after parent-ctrl=\"$parent.$ctrl\"></<slsp-service-ngrs-after>`\r\n    });\r\n\r\nprmServiceNgrsAfterModule.requires.push(slspRapidoFeesLinkModule.name);\r\nprmServiceNgrsAfterModule.requires.push(bcuRapidoNoFurtherOptionsModule.name);","\r\n\r\n//--------Rapido Fees Link ---------------------------------------\r\n\r\n\r\nexport class slspRapidoFeesLinkController {\r\n\r\n    constructor( $scope, $compile ) {\r\n        this.$scope = $scope;\r\n        this.$compile = $compile;\r\n        \r\n    }\r\n\r\n      \r\n    $onInit() {\r\n            try{\r\n                this.parentCtrl = this.afterCtrl.parentCtrl;\r\n                this.rapidoFeesLink = rapidoFeesLink;\r\n                \r\n                let rapidoFeesLink = document.querySelector('#rapidoOffer div.full-view-section-content prm-full-view-service-container div.section-head h4');\r\n                let html = `<div class=\"rapidoFeesLink neutralized-button arrow-link-button md-button md-primoExplore-theme md-ink-ripple\"><a href=\"${this.afterCtrl.parentCtrl.$translate.instant('customize.fullview.feesUrl')}\" target=\"_blank\"><span translate=\"customized.rapido.fees\">see fees details via link</span><prm-icon link-arrow=\"\" icon-type=\"svg\" svg-icon-set=\"primo-ui\" icon-definition=\"chevron-right\" [display-mode]=\"::$ctrl.displayMode\"><!----><md-icon ng-if=\"::($ctrl.iconDefinition &amp;&amp; !$ctrl.isCustom &amp;&amp; !$ctrl.isEmailMode())\" md-svg-icon=\"primo-ui:chevron-right\" role=\"presentation\" class=\"md-primoExplore-theme\"><svg id=\"chevron-right_cache76\" width=\"100%\" height=\"100%\" viewBox=\"0 0 24 24\" y=\"384\" xmlns=\"http://www.w3.org/2000/svg\" fit=\"\" preserveAspectRatio=\"xMidYMid meet\" focusable=\"false\">\r\n                <path d=\"M8.59,16.58L13.17,12L8.59,7.41L10,6L16,12L10,18L8.59,16.58Z\"></path>\r\n            </svg></md-icon><!----><!----><prm-icon-after parent-ctrl=\"$ctrl\"></prm-icon-after></prm-icon></a></div>`;\r\n                        \r\n                    angular.element(rapidoFeesLink).after(this.$compile(html)(this.$scope));\r\n            }\r\n                               \r\n            \r\n            catch(e){\r\n                console.error(\"***SLSP*** an error occured: Rapido Fees Link\\n\\n\");\r\n                console.error(e.message);\r\n            }\r\n        }\r\n    }\r\n\r\n    slspRapidoFeesLinkController.$inject = ['$scope', '$compile'];\r\n","\r\n    import {slspRapidoFeesLinkController} from './slsp-rapido-fees-link.controller';\r\n    import {slspRapidoFeesLinkHtml} from './slsp-rapido-fees-link.html';\r\n\r\n    export const slspRapidoFeesLinkModule = angular\r\n        .module('slspRapidoFeesLinkModule', [])\r\n            .controller('slspRapidoFeesLinkController', slspRapidoFeesLinkController)\r\n            .component('slspRapidoFeesLinkComponent', {\r\n                bindings: {afterCtrl: '<'},\r\n                controller: 'slspRapidoFeesLinkController',\r\n                template: slspRapidoFeesLinkHtml\r\n            })","export class ethDisableRequestButtonController {\r\n\r\n    $onInit() {\r\n        try{\r\n            this.parentCtrl = this.afterCtrl.parentCtrl;\r\n            this.processDoCheck = true;\r\n        }\r\n        catch(e){\r\n            console.error(\"***ETH*** an error occured: ethDisableRequestButtonController \\n\\n\");\r\n            console.error(e.message);\r\n        }\r\n    }\r\n\r\n    $doCheck() {\r\n        try{\r\n            if(!this.processDoCheck || !document.querySelector('prm-service-physical-best-offer .offer_details .rota_line > div > span'))return;\r\n            let noAvailableCopies = document.querySelector('[translate=\"rapido.tiles.physical.no_best_offer.line_2\"]');\r\n            if(noAvailableCopies){\r\n                let requestButton = document.querySelector('#get_it_btn_physical');\r\n                angular.element(requestButton).attr('disabled', 'disabled');\r\n            }\r\n            this.processDoCheck = false;\r\n        }\r\n        catch(e){\r\n            console.error(\"***ETH*** an error occured: ethDisableRequestButtonController $doCheck\\n\\n\");\r\n            console.error(e.message);\r\n        }\r\n    }\r\n}\r\n","import {ethDisableRequestButtonController} from './eth-disable-request-button.controller';\r\n\r\nexport const ethDisableRequestButtonModule = angular\r\n    .module('ethDisableRequestButtonModule', [])\r\n        .controller('ethDisableRequestButtonController', ethDisableRequestButtonController)\r\n        .component('ethDisableRequestButtonComponent',  {\r\n            bindings: {afterCtrl: '<'},\r\n            controller: 'ethDisableRequestButtonController',\r\n        })\r\n","import { slspRapidoDigitalOfferModule } from './slsp-rapido-digital-offer/slsp-rapido-digital-offer.module';\r\nimport { slspIconLabelRapidoModule } from './slsp-icon-label-rapido/slsp-icon-label-rapido.module';\r\nimport { ethDisableRequestButtonModule } from './eth-disable-request-button/eth-disable-request-button.module';\r\n\r\nexport const prmServicePhysicalBestOfferAfterModule = angular\r\n    .module('prmServicePhysicalBestOfferAfterModule', [])\r\n    .component('prmServicePhysicalBestOfferAfter', {\r\n        bindings: { parentCtrl: '<' },\r\n        template: `<slsp-rapido-digital-offer-component after-ctrl=\"$ctrl\"></slsp-rapido-digital-offer-component>\r\n            <slsp-icon-label-rapido-component after-ctrl=\"$ctrl\"></slsp-icon-label-rapido-component>\r\n            <eth-disable-request-button-component after-ctrl=\"$ctrl\"></eth-disable-request-button-component>\r\n            <slsp-service-physical-best-offer-after parent-ctrl=\"$parent.$ctrl\"></slsp-service-physical-best-offer-after>`,\r\n    });\r\n\r\nprmServicePhysicalBestOfferAfterModule.requires.push(slspRapidoDigitalOfferModule.name);\r\nprmServicePhysicalBestOfferAfterModule.requires.push(slspIconLabelRapidoModule.name);\r\nprmServicePhysicalBestOfferAfterModule.requires.push(ethDisableRequestButtonModule.name);","//--------slspIconLabel ---------------------------------------\r\n\r\n\r\nexport class slspIconLabelRapidoController {\r\n\r\n    constructor($scope, $compile, $timeout) {\r\n        this.$scope = $scope;\r\n        this.$compile = $compile;\r\n        this.$timeout = $timeout;\r\n    }\r\n\r\n\r\n\r\n    $onInit() {\r\n        try {\r\n            this.$timeout(() => {\r\n                this.parentCtrl = this.afterCtrl.parentCtrl;\r\n\r\n                /*icon label*/\r\n                if (this.parentCtrl.isdigitaloffer === true) {\r\n                    this.iconLabel = iconLabel;\r\n\r\n                    let iconLabel = document.querySelectorAll('#item-ngrs > div > div > div[ng-if=\"$ctrl.digitalTileVisible\"] > prm-service-physical-best-offer > div > div.icon-wrapper');\r\n                    let html1 = `<div class=\"icnWrp\"><div class=\"iconDiv\"><svg xmlns=\"http://www.w3.org/2000/svg\" id=\"Ebene_2\" width=\"100%\" height=\"100%\" viewBox=\"0 0 185 185\"><g id=\"System_icons\"><g><rect width=\"185\" height=\"185\" fill=\"none\" opacity=\".2\"/><g><g><circle cx=\"130\" cy=\"130\" r=\"10.57\" fill=\"none\" stroke=\"#000\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"6\"/><path d=\"M145.26,152.31c-4.34,2.98-9.6,4.69-15.26,4.69-14.91,0-27-12.09-27-27s12.09-27,27-27,27,12.09,27,27v2.35c0,4.54-3.68,8.21-8.21,8.21s-8.22-3.68-8.22-8.21v-2.35\" fill=\"none\" stroke=\"#000\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"6\"/></g><g><path d=\"M88.91,130H37c-4.97,0-9-4.03-9-9V55c0-4.96,4.03-9,9-9h108c4.97,0,9,4.04,9,9v42.32\" fill=\"none\" stroke=\"#000\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"6\"/><polyline points=\"151 49 91 97 31 49\" fill=\"none\" stroke=\"#000\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"6\"/></g></g></g></g></svg></div><div class=\"iconLabel\" translate=\"customized.fee.digi\"></div></div>`;\r\n\r\n\r\n                    angular.element(iconLabel).after(this.$compile(html1)(this.$scope)).addClass('icnLbl');\r\n                }\r\n\r\n                if (this.parentCtrl.isdigitaloffer !== true) {\r\n                    this.iconLabel2 = iconLabel2;\r\n                    let iconLabel2 = document.querySelectorAll('#item-ngrs > div > div > div[ng-if=\"$ctrl.physicalTileVisible\"] > prm-service-physical-best-offer > div > div.icon-wrapper');\r\n                    let html2 = `<div class=\"icnWrp\"><div class=\"iconDiv\"><svg xmlns=\"http://www.w3.org/2000/svg\" id=\"Ebene_2\" width=\"100%\" height=\"100%\" viewBox=\"0 0 185 185\"><g id=\"System_icons\"><g><rect width=\"185\" height=\"185\" fill=\"none\" opacity=\".2\"/><g><line x1=\"6.16\" y1=\"82.58\" x2=\"29.16\" y2=\"82.62\" fill=\"none\" stroke=\"#000\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"6\"/><line x1=\"17.66\" y1=\"97.91\" x2=\"29.16\" y2=\"97.95\" fill=\"none\" stroke=\"#000\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"6\"/><line x1=\"25.33\" y1=\"113.24\" x2=\"29.16\" y2=\"113.28\" fill=\"none\" stroke=\"#000\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"6\"/><g><circle cx=\"151.84\" cy=\"125.5\" r=\"12\" fill=\"none\" stroke=\"#000\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"6\"/><circle cx=\"67.84\" cy=\"125.5\" r=\"12\" fill=\"none\" stroke=\"#000\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"6\"/><polyline points=\"163.84 125.5 178.84 125.5 178.84 98.5 160.47 65.84 124.84 65.84 124.84 47.5 40.84 47.5 40.84 125.5 55.84 125.5\" fill=\"none\" stroke=\"#000\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"6\"/><line x1=\"139.84\" y1=\"125.5\" x2=\"79.84\" y2=\"125.5\" fill=\"none\" stroke=\"#000\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"6\"/><line x1=\"124.84\" y1=\"53.5\" x2=\"124.84\" y2=\"125.5\" fill=\"none\" stroke=\"#000\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"6\"/><line x1=\"178.84\" y1=\"98.5\" x2=\"124.84\" y2=\"98.5\" fill=\"none\" stroke=\"#000\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"6\"/></g></g></g></g></svg></div><div class=\"iconLabel\" translate=\"customized.fee.courier\">Courier</div><div class=\"courierInfo\" translate=\"customized.fee.localcourier\">blabla bla Blaabl bla</div></div>`;\r\n\r\n                    angular.element(iconLabel2).after(this.$compile(html2)(this.$scope)).addClass('icnLbl2');\r\n                }\r\n\r\n\r\n            }, 0);\r\n        } catch (e) {\r\n            console.error(\"***SLSP*** an error occured: Rapido \\n\\n\");\r\n            console.error(e.message);\r\n        }\r\n    }\r\n\r\n}\r\n\r\nslspIconLabelRapidoController.$inject = ['$scope', '$compile', '$timeout'];\r\n\r\n\r\n\r\n// md-content > prm-locations > div.padding-left-medium > md-list.separate-list-items.margin-bottom-medium.padding-bottom-zero.md-primoExplore-theme","\r\n    import {slspIconLabelRapidoController} from './slsp-icon-label-rapido.controller';\r\n    import {slspIconLabelRapidoHtml} from './slsp-icon-label-rapido.html';\r\n\r\n    export const slspIconLabelRapidoModule = angular\r\n        .module('slspIconLabelRapidoModule', [])\r\n            .controller('slspIconLabelRapidoController', slspIconLabelRapidoController)\r\n            .component('slspIconLabelRapidoComponent', {\r\n                bindings: {afterCtrl: '<'},\r\n                controller: 'slspIconLabelRapidoController',\r\n                template: slspIconLabelRapidoHtml\r\n            })","export class slspRapidoDigitalOfferController {\r\n\r\n    constructor($scope, $compile, $timeout) {\r\n        this.$scope = $scope;\r\n        this.$compile = $compile;\r\n        this.$timeout = $timeout;\r\n        this.loaderTemplate = `<div class=\"slsp-rapido-loader\"><prm-spinner class=\"inline-loader dark-on-light\" layout=\"row\" layout-align=\"start center\"></prm-spinner></div>`\r\n    }\r\n\r\n    $onInit() {\r\n        try {\r\n\r\n            this.parentCtrl = this.afterCtrl.parentCtrl;\r\n            this.isDone = false;\r\n\r\n        } catch (e) {\r\n            console.error(\"***SLSP*** an error occured: Rapido onInit \\n\\n\");\r\n            console.error(e.message);\r\n        }\r\n    }\r\n\r\n    $doCheck() {\r\n        try {\r\n\r\n\r\n            // loader\r\n            const loadingText = document.querySelectorAll('span[translate=\"rapido.tiles.placeholder.text\"]')\r\n            if (loadingText) {\r\n                Array.from(loadingText).forEach(text => {\r\n                    if (!text.classList.contains('rapido-loading')) {\r\n                        angular.element(text).after(this.$compile(this.loaderTemplate)(this.$scope)).addClass('rapido-loading')\r\n                    }\r\n                })\r\n            }\r\n\r\n            if (this.isDone) return;\r\n\r\n            // tilesplaceholderactive is true until the tile is loaded, also by reselecting pickupinfo\r\n            if (this.parentCtrl.tilesplaceholderactive == true) return;\r\n\r\n\r\n            /* costs per page */\r\n            if (this.parentCtrl.isdigitaloffer === true) {\r\n\r\n                this.$timeout(() => {\r\n                    let rapidoCosts = document.querySelectorAll('div[ng-if=\"$ctrl.digitalTileVisible\"] .patron_cost.last_line');\r\n                    let htmlRc = `<div class=\"rapidoCosts\" translate=\"customized.rapido.digi\"></div>`;\r\n                    angular.element(rapidoCosts).after(this.$compile(htmlRc)(this.$scope));\r\n                }, 20);\r\n            }\r\n\r\n\r\n            /* reservation button */\r\n            if (this.parentCtrl.isdigitaloffer !== true && this.parentCtrl.bestoffer !== undefined && this.parentCtrl.bestoffer.unavailableInAllMembersPod === true && this.parentCtrl.bestoffer.unavailableResource === true) {\r\n                this.$timeout(() => {\r\n                    let reservation = document.querySelectorAll('prm-service-physical-best-offer .get_it_btn_physical > span');\r\n                    let htmlR1 = `<div class=\"reservationButton\" translate=\"customized.rapido.reservation\"></div>`;\r\n\r\n                    angular.element(reservation).after(this.$compile(htmlR1)(this.$scope)).addClass('noOffer');\r\n                }, 20);\r\n            }\r\n\r\n\r\n            /* reading room POD */\r\n            if (this.parentCtrl.isdigitaloffer !== true && this.parentCtrl.bestoffer !== undefined && this.parentCtrl.bestoffer.podId == '452167832730000041' ||\r\n                this.parentCtrl.isdigitaloffer !== true && this.parentCtrl.bestoffer !== undefined && this.parentCtrl.bestoffer.podId == '452167827350000041' ||\r\n                this.parentCtrl.isdigitaloffer !== true && this.parentCtrl.bestoffer !== undefined && this.parentCtrl.bestoffer.podId == '452497325370000041' ||\r\n                this.parentCtrl.isdigitaloffer !== true && this.parentCtrl.bestoffer !== undefined && this.parentCtrl.bestoffer.podId == '452497929300000041' ||\r\n                this.parentCtrl.isdigitaloffer !== true && this.parentCtrl.bestoffer !== undefined && this.parentCtrl.bestoffer.podId == '452084165700000041') {\r\n\r\n                this.$timeout(() => {\r\n                    let readingRoomPod = document.querySelectorAll('div[ng-if=\"$ctrl.physicalTileVisible\"] prm-service-physical-best-offer .keep_for span');\r\n                    let htmlPD = `<span class=\"reading-Room-Pod\" translate=\"customized.rapido.readingroom\"></span>`;\r\n\r\n                    angular.element(readingRoomPod).after(this.$compile(htmlPD)(this.$scope)).addClass('pod');\r\n                }, 20);\r\n            }\r\n\r\n            this.isDone = true;\r\n\r\n\r\n        } catch (e) {\r\n            console.error(\"***SLSP*** an error occured: Rapido doCheck \\n\\n\");\r\n            console.error(e.message);\r\n        }\r\n    }\r\n}\r\n\r\n\r\n\r\nslspRapidoDigitalOfferController.$inject = ['$scope', '$compile', '$timeout'];","   \r\n\r\n    import {slspRapidoDigitalOfferController} from './slsp-rapido-digital-offer.controller';\r\n   \r\n\r\n    export const slspRapidoDigitalOfferModule = angular\r\n        .module('slspRapidoDigitalOfferModule', [])\r\n            .controller('slspRapidoDigitalOfferController', slspRapidoDigitalOfferController)\r\n            .component('slspRapidoDigitalOfferComponent',  {\r\n                bindings: {afterCtrl: '<'},\r\n                controller: 'slspRapidoDigitalOfferController',\r\n                \r\n            })\r\n    ","export class bcuScopesSelectorController {\r\n    $onInit() {\r\n        setTimeout(function(){\r\n            function activateSearch(){\r\n                setTimeout(function(){\r\n                    document.getElementsByClassName(\"zero-margin button-confirm md-button md-primoExplore-theme\")[0].click()\r\n                }, 100)\r\n            }\r\n            let searchScopes = document.querySelectorAll('[id^=\"select_option_\"]');\r\n            for (let i in searchScopes){\r\n                if( typeof searchScopes[i] === 'object' && searchScopes[i] !== null) {\r\n                    searchScopes[i].onclick = function(){\r\n                        activateSearch();\r\n                    };\r\n                }\r\n            }\r\n        }, 100)\r\n    }\r\n}\r\n","import {bcuScopesSelectorController} from './bcu-scopes-selector.controller';\r\n\r\nexport const bcuScopesSelectorModule = angular\r\n    .module('bcuScopesSelectorModule', [])\r\n        .controller('bcuScopesSelectorController', bcuScopesSelectorController)\r\n        .component('bcuScopesSelector',{\r\n            bindings: {parentCtrl: '<'},\r\n            controller: 'bcuScopesSelectorController',\r\n\r\n        })\r\n","import {bcuScopesSelectorModule} from './bcu-scopes-selector/bcu-scopes-selector.module';\r\n\r\nexport const bcuTabsAndScopesSelectorAfterModule = angular\r\n    .module('bcuTabsAndScopesSelectorAfterModule', [])\r\n        .component('prmTabsAndScopesSelectorAfter',  {\r\n            template: '<bcu-scopes-selector after-ctrl=\"$ctrl\"></bcu-scopes-selector><slsp-tabs-and-scopes-selector-after parent-ctrl=\"$parent.$ctrl\"></slsp-tabs-and-scopes-selector-after>'\r\n        });\r\n\r\nbcuTabsAndScopesSelectorAfterModule.requires.push(bcuScopesSelectorModule.name);","export class bcuLangSwitchController {\r\n\r\n    constructor($element, $window) {\r\n        this.$parent = $element.parent().parent()[0];\r\n        \r\n        this.$window = $window;\r\n    }\r\n\r\n    $onInit() {\r\n        try {\r\n            this.parentCtrl = this.afterCtrl.parentCtrl;\r\n            this.languages = [\"de\",\"fr\",\"it\",\"en\"];\r\n            if (!this.languages.includes(this.parentCtrl.lang)) {\r\n                this.changeLanguage(\"en\");\r\n            }\r\n            \r\n        }\r\n        catch (e) {\r\n            console.error(\"***BCUFR*** bcuLangSwitchControler $onInit\");\r\n            console.error(e.message);\r\n        }\r\n    };\r\n\r\n    changeLanguage(lang) {\r\n        \r\n        this.parentCtrl.changeLangService.addLangParamToUrl(lang);\r\n        let t = this.parentCtrl;\r\n        this.parentCtrl.i18nService.setLanguage(lang).then(function(){\r\n            t.$timeout(function(){return t.$state.go(t.$state.current,{lang:lang},{reload:!0})})\r\n        });\r\n };\r\n\r\n}\r\nbcuLangSwitchController.$inject = ['$element'];","/**\r\n* @ngdoc module\r\n* @name bcuLangSwitchModule\r\n*\r\n* @description\r\n* - Add LangSwitch to user area\r\n* @example\r\n* each view\r\n*\r\n*/\r\nimport {bcuLangSwitchController} from './bcu-lang-switch.controller';\r\n\r\nexport const bcuLangSwitchModule = angular\r\n    .module('bcuLangSwitchModule', [])\r\n        .controller('bcuLangSwitchController', bcuLangSwitchController)\r\n        .component('bcuLangSwitchComponent',  {\r\n            bindings: {afterCtrl: '<'},\r\n            controller: 'bcuLangSwitchController',\r\n//            template: '<button class=\"md-button md-lang-button\" ng-repeat=\"(lang, url) in $ctrl.languages\" ng-class=\"{active: $ctrl.afterCtrl.parentCtrl.lang == lang}\"><a href=\"{{url}}\">{{lang}}</a></button>'\r\n            template: '<button class=\"md-button md-lang-button\" ng-repeat=\"lang in $ctrl.languages\" ng-class=\"{active: $ctrl.afterCtrl.parentCtrl.lang == lang}\" ng-click=\"$ctrl.changeLanguage(lang)\">{{lang}}</button>'\r\n        })\r\n","\r\nexport class slspIllSigninOrderLoggedOutController {\r\n\r\n    constructor(slspIllSigninOrderLoggedOutService, $scope) {\r\n        this.slspIllSigninOrderLoggedOutService = slspIllSigninOrderLoggedOutService;\r\n        this.$scope = $scope;\r\n    }\r\n\r\n    $doCheck() {\r\n        try{\r\n            this.parentCtrl = this.afterCtrl.parentCtrl;\r\n            this.$scope.usrNme = this.slspIllSigninOrderLoggedOutService.isGuest();\r\n\r\n            if (this.$scope.usrNme == true) {\r\n                let myEl = angular.element(document.querySelector('primo-explore'));\r\n                return myEl.addClass('logged-out')\r\n            }\r\n        \r\n            else {\r\n                let myEl = angular.element(document.querySelector('primo-explore'));\r\n                return myEl.removeClass('logged-out');\r\n            }\r\n        }\r\n        catch(e){\r\n            console.error(\"***SLSP*** an error occured: slspIllSigninOrderLoggedOutController\\n\\n\");\r\n            console.error(e.message);\r\n        }\r\n    }\r\n}\r\n\r\nslspIllSigninOrderLoggedOutController.$inject = ['slspIllSigninOrderLoggedOutService', '$scope'];\r\n        \r\n\r\n","\r\n\r\n    //--------ILL Signin Order -  if logged out ---------------------------------------\r\n   \r\n\r\n    import {slspIllSigninOrderLoggedOutController} from './slsp-ill-signin-order-logged-out.controller';\r\n    import {slspIllSigninOrderLoggedOutService} from './slsp-ill-signin-order-logged-out.service';\r\n\r\n    export const slspIllSigninOrderLoggedOutModule = angular\r\n        .module('slspIllSigninOrderLoggedOutModule', [])\r\n            .factory('slspIllSigninOrderLoggedOutService', slspIllSigninOrderLoggedOutService)\r\n            .controller('slspIllSigninOrderLoggedOutController', slspIllSigninOrderLoggedOutController)\r\n            .component('slspIllSigninOrderLoggedOutComponent',  {\r\n                bindings: {afterCtrl: '<'},\r\n                controller: 'slspIllSigninOrderLoggedOutController',\r\n                \r\n            })\r\n    ","\r\n\r\n    export const slspIllSigninOrderLoggedOutService = ['jwtHelper', function( jwtHelper ){\r\n\r\n        function getDecodedToken(){\r\n            try{\r\n                if (!sessionStorage){\r\n                    console.error(\"***SLSP*** no session storage\")\r\n                    return null;\r\n                }\r\n                let jwt = sessionStorage.getItem('primoExploreJwt');\r\n                if (!jwt){\r\n                    return null;\r\n                }\r\n                return jwtHelper.decodeToken(jwt);\r\n            }\r\n            catch(e){\r\n                console.error(\"**SLSP*** an error occured: userService.getDecodedToken:\");\r\n                console.error(e.message);\r\n            }\r\n        }\r\n  \r\n        function isGuest(){\r\n            try{\r\n                let decodedToken = getDecodedToken();\r\n                if (!decodedToken) {\r\n                    return null;\r\n                }\r\n                let userName= decodedToken.userGroup !== 'GUEST'? decodedToken.userName : '';\r\n                if (userName){\r\n                    return false;\r\n                }\r\n                else{\r\n                    return true;\r\n                }\r\n            }\r\n            catch(e){\r\n                console.error(\"***SLSP*** an error occured: userService.isGuest:\");\r\n                console.error(e.message);\r\n            }\r\n        }\r\n    \r\n        return {\r\n            isGuest: isGuest,\r\n            getDecodedToken: getDecodedToken\r\n        };\r\n    }]\r\n    ","import {bcuLangSwitchModule} from './bcu-lang-switch/bcu-lang-switch.module';\r\nimport {slspIllSigninOrderLoggedOutModule} from './slsp-ill-signin-order-logged-out/slsp-ill-signin-order-logged-out.module';\r\n\r\nexport const slspUserAreaExpandableAfterModule = angular\r\n    .module('slspUserAreaExpandableAfterModule', [])\r\n        .component('prmUserAreaExpandableAfter',  {\r\n            bindings: {parentCtrl: '<'},\r\n            template: `<bcu-lang-switch-component after-ctrl=\"$ctrl\"></bcu-lang-switch-component><slsp-ill-signin-order-logged-out-component after-ctrl=\"$ctrl\"></slsp-ill-signin-order-logged-out-component><slsp-user-area-expandable-after parent-ctrl=\"$parent.$ctrl\"></slsp-user-area-expandable-after>`,\r\n        });\r\n\r\nslspUserAreaExpandableAfterModule.requires.push(bcuLangSwitchModule.name);\r\nslspUserAreaExpandableAfterModule.requires.push(slspIllSigninOrderLoggedOutModule.name);","require('./js/slsp-archives-htgi.module.js')\r\nmodule.exports = 'slspArchivesHtgi'\r\n","angular\r\n    .module('slspArchivesHtgi', [])\r\n\r\n    // \"how to get it\" section for resources of archives MFA, TMA (CMI STAR)\r\n\r\n    .controller('ArchivesHtgiController', [function () {\r\n\r\n        this.$onInit = function () {\r\n            try{\r\n                if(!this.parentCtrl.item.pnx.display.source || this.parentCtrl.item.pnx.display.source.length === 0){\r\n                    return;\r\n                }\r\n                this.source = this.parentCtrl.item.pnx.display.source[0];\r\n                // CMI STAR sources\r\n                if(this.source === 'ETH_MaxFrischArchiv' || this.source === 'ETH_ThomasMannArchiv'){\r\n                    // hide content of htgi section\r\n                    let section = document.getElementById('full-view-container');\r\n                    section.classList.add('slsp-archives-hide');\r\n\r\n                    // get guid of CMIStar\r\n                    let sourceid = this.parentCtrl.item.pnx.control.originalsourceid[0];\r\n                    let guid = sourceid.substring(sourceid.lastIndexOf(':') + 1);\r\n\r\n                    // different sources: concat url\r\n                    if(this.source === 'ETH_ThomasMannArchiv'){\r\n                        this.url = 'http://www.online.tma.ethz.ch/home/#/content/' + guid;\r\n                        // only for test\r\n                        //this.label = 'Detailed information in Thomas Mann-Archiv Online (metadata only)';\r\n                    }\r\n                    else if (this.source === 'ETH_MaxFrischArchiv') {\r\n                        this.url = 'http://maxfrischarchiv-online.ethz.ch/home/#/content/' + guid;\r\n                        // only for test\r\n                        //this.label = 'Request via Max Frisch-Archiv Online';\r\n                    }\r\n                }\r\n            }\r\n            catch(e){\r\n                console.error(\"***SLSP*** an error occured: ArchivesHtgiController\\n\\n\");\r\n                console.error(e.message);\r\n            }\r\n        }\r\n    }])\r\n\r\n    .component('almaHtgiSvcAfter', {\r\n        bindings: { parentCtrl: '<' },\r\n        controller: 'ArchivesHtgiController',\r\n        template: `\r\n        <div class=\"slsp-archives\" ng-if=\"$ctrl.url\">\r\n            <md-list layout=\"column\" class=\"separate-list-items md-primoExplore-theme layout-column\" role=\"list\">\r\n                <md-list-item role=\"listitem\" ng-href=\"{{$ctrl.url}}\" target=\"_blank\">\r\n                      <span>{{('customized.archives.' + $ctrl.source + '.linktext' | translate)}}</span>\r\n                    <span>{{$ctrl.label}}</span>\r\n                    <div class=\"md-secondary\">\r\n                        <prm-icon icon-type=\"svg\" svg-icon-set=\"primo-ui\" icon-definition=\"open-in-new\" class=\"layout-margin\"/>\r\n                    </div>\r\n                </md-list-item>\r\n            </md-list>\r\n            <div ng-if=\"$ctrl.source === 'ETH_ThomasMannArchiv'\" class=\"slsp-archives-additional-hint\">\r\n                <div>\r\n                    <span translate=\"customized.archives.ETH_ThomasMannArchiv.text1\">No request possible. The digitized item can be consulted in the Thomas Mann Archives reading room upon advance registration (</span>\r\n                    <a target=\"_blank\" rel=\"noopener\" ng-href=\"https://tma.ethz.ch/utils/kontakt.html\">\r\n                        <span translate=\"customized.archives.ETH_ThomasMannArchiv.linktext2\">Contact</span>\r\n                        <prm-icon external-link icon-type=\"svg\" svg-icon-set=\"primo-ui\" icon-definition=\"open-in-new\"></prm-icon>\r\n                    </a>\r\n                    <span translate=\"customized.archives.ETH_ThomasMannArchiv.text2\">).</span>\r\n                </div>\r\n            </div>\r\n            <div ng-if=\"$ctrl.source === 'ETH_MaxFrischArchiv'\" class=\"slsp-archives-additional-hint\">\r\n                <div>\r\n                    <span translate=\"customized.archives.ETH_MaxFrischArchiv.text1\">Informationen zu Bestellung und Benutzung siehe</span>\r\n                    <a target=\"_blank\" rel=\"noopener\" ng-href=\"http://maxfrischarchiv-online.ethz.ch/home/#/manual\">\r\n                        <span translate=\"customized.archives.ETH_MaxFrischArchiv.linktext2\">Bedienungshinweise</span>\r\n                        <prm-icon external-link icon-type=\"svg\" svg-icon-set=\"primo-ui\" icon-definition=\"open-in-new\"></prm-icon>\r\n                    </a>\r\n                    <span translate=\"customized.archives.ETH_MaxFrischArchiv.text2\">.</span>\r\n                </div>\r\n            </div>\r\n        </div><slsp-htgi-svc-after parent-ctrl=\"$parent.$ctrl\"></slsp-htgi-svc-after>\r\n        `\r\n    });\r\n","require('./js/slsp-archives-viewit.module.js')\r\nmodule.exports = 'slspArchivesViewit'\r\n","angular\r\n.module('slspArchivesViewit', [])\r\n\r\n    .component('prmSearchResultAvailabilityLineAfter', {\r\n        bindings: { parentCtrl: '<' },\r\n        controller: 'ArchivesAvailabilityLineController',\r\n        template:'<slsp-search-result-availability-line-after parent-ctrl=\"$parent.$ctrl\"></slsp-search-result-availability-line-after>'\r\n    })\r\n\r\n    .component('prmAlmaViewitAfter', {\r\n        bindings: { parentCtrl: '<' },\r\n        controller: 'ArchivesViewitController',\r\n        template: `\r\n        <div class=\"slsp-archives\" ng-if=\"$ctrl.url\">\r\n            <md-list layout=\"column\" class=\"separate-list-items md-primoExplore-theme layout-column\" role=\"list\">\r\n                <md-list-item role=\"listitem\" ng-href=\"{{$ctrl.url}}\" target=\"_blank\">\r\n                    <span>{{('customized.archives.' + $ctrl.source + '.linktext' | translate)}}</span>\r\n                    <span>{{$ctrl.label}}</span>\r\n                    <div class=\"md-secondary\">\r\n                        <prm-icon icon-type=\"svg\" svg-icon-set=\"primo-ui\" icon-definition=\"open-in-new\" class=\"layout-margin\"/>\r\n                    </div>\r\n                </md-list-item>\r\n            </md-list>\r\n            <div ng-if=\"$ctrl.source === 'ETH_Hochschularchiv'\" class=\"slsp-archives-additional-hint\">\r\n                <div>\r\n                    <span translate=\"customized.archives.ETH_Hochschularchiv.text1\">Informationen zu Bestellung und Benutzung siehe</span>\r\n                    <a target=\"_blank\" rel=\"noopener\" ng-href=\"http://archivdatenbank-online.ethz.ch/hsa/#/manual\">\r\n                        <span translate=\"customized.archives.ETH_Hochschularchiv.linktext2\">Bedienungshinweise</span>\r\n                        <prm-icon external-link icon-type=\"svg\" svg-icon-set=\"primo-ui\" icon-definition=\"open-in-new\"></prm-icon>\r\n                    </a>\r\n                    <span translate=\"customized.archives.ETH_Hochschularchiv.text2\">.</span>\r\n                </div>\r\n            </div>\r\n        </div><slsp-alma-viewit-after parent-ctrl=\"$parent.$ctrl\"></slsp-alma-viewit-after>\r\n        `\r\n        })\r\n\r\n    // viewit section for archives when there are only partial digitized items, e.g. \"ETH Hochschularchiv\" (CMI STAR)\r\n    .controller('ArchivesViewitController', ['$translate', function ($translate) {\r\n        this.$onInit = function () {\r\n            try{\r\n                if(!this.parentCtrl.item.pnx.display.source || this.parentCtrl.item.pnx.display.source.length === 0){\r\n                    return;\r\n                }\r\n                this.source = this.parentCtrl.item.pnx.display.source[0];\r\n                // CMI STAR sources\r\n                if(this.source === 'ETH_Hochschularchiv'){\r\n                    if(this.parentCtrl.item.delivery.GetIt1 && this.parentCtrl.item.delivery.GetIt1.length > 0 && this.parentCtrl.item.delivery.GetIt1[0].links && this.parentCtrl.item.delivery.GetIt1[0].links.length > 0){\r\n\r\n                        // there is an online resource: return and do nothing\r\n                        let aOnlineLink = this.parentCtrl.item.delivery.GetIt1[0].links.filter( l => {\r\n                            if(l.isLinktoOnline && l.link !== ''){\r\n                                return true;\r\n                            }\r\n                            return false;\r\n                        });\r\n                        if (aOnlineLink.length > 0) {\r\n                            return;\r\n                        }\r\n\r\n                        // there is no online resource\r\n                        // change section heading\r\n                        $translate('nui.getit.service_howtogetit').then((translation) => {\r\n                            let fullView = document.getElementById('fullView');\r\n                            angular.element(fullView.querySelector(\"h4[translate='nui.getit.service_viewit']\")).text(translation);\r\n                            angular.element(fullView.querySelector(\"#services-index span[translate='nui.getit.service_viewit']\")).text(translation);\r\n                        });\r\n\r\n                    }\r\n                    // hide content of viewit section\r\n                    let section = document.getElementById('full-view-container');\r\n                    section.classList.add('slsp-archives-hide');\r\n\r\n                    // get guid of CMIStar\r\n                    let sourceid = this.parentCtrl.item.pnx.control.originalsourceid[0];\r\n                    let guid = sourceid.substring(sourceid.lastIndexOf(':') + 1);\r\n\r\n                    // different sources: concat url\r\n                    if(this.source === 'ETH_Hochschularchiv'){\r\n                        this.url = 'http://archivdatenbank-online.ethz.ch/hsa/#/content/' + guid;\r\n                        // only for test\r\n                        //this.label = 'Bestellen über Hochschularchiv Online';\r\n                    }\r\n                }\r\n            }\r\n            catch(e){\r\n                console.error(\"***SLSP*** an error occured: ArchivesViewitController\\n\\n\");\r\n                console.error(e.message);\r\n            }\r\n        }\r\n    }])\r\n\r\n    // change availability line, if there is no digitization\r\n    .controller('ArchivesAvailabilityLineController', ['$translate', function ($translate) {\r\n        this.$onInit = function () {\r\n            try{\r\n                this.changeButton = false;\r\n                if(!this.parentCtrl.result.pnx.display.source || this.parentCtrl.result.pnx.display.source.length === 0){\r\n                    return;\r\n                }\r\n                this.source = this.parentCtrl.result.pnx.display.source[0];\r\n                if(!(this.source === 'ETH_Hochschularchiv'))return;\r\n                if(!this.parentCtrl.result.delivery.GetIt1 || this.parentCtrl.result.delivery.GetIt1.length == 0 || !this.parentCtrl.result.delivery.GetIt1[0].links || this.parentCtrl.result.delivery.GetIt1[0].links.length == 0)return;\r\n\r\n                let aOnlineLink = this.parentCtrl.result.delivery.GetIt1[0].links.filter( l => {\r\n                    if(l.isLinktoOnline && l.link !== ''){\r\n                        return true;\r\n                    }\r\n                    return false;\r\n                });\r\n                if (aOnlineLink.length === 0) {\r\n                    // there is no online resource\r\n                    $translate('delivery.code.no_inventory').then((translation) => {\r\n                        this.changeButton = true;\r\n                        this.changeButtonText = translation;\r\n                    });\r\n                    let availabilityLine = this.parentCtrl.$element[0];\r\n                    if(availabilityLine) {\r\n                        availabilityLine.classList.add('slsp-hsa-no-online');\r\n                    }\r\n                }\r\n            }\r\n            catch(e){\r\n                console.error(\"***SLSP*** an error occured: ArchivesAvailabilityLineController\\n\\n\");\r\n                console.error(e.message);\r\n            }\r\n        }\r\n\r\n        this.$doCheck = function () {\r\n            try{\r\n                if (this.changeButton){\r\n                    let availabilityLine = this.parentCtrl.$element[0];\r\n                    let button = availabilityLine.querySelector('.availability-status');\r\n                    if(angular.element(button) && angular.element(button).length > 0){\r\n                        angular.element(button).html(this.changeButtonText);\r\n                        this.changeButton = false;\r\n                        this.changeButtonText = '';\r\n                    }\r\n                }\r\n            }\r\n            catch(e){\r\n                console.error(\"***ETH*** an error occured: ArchivesAvailabilityLineController $doCheck\\n\\n\");\r\n                console.error(e.message);\r\n            }\r\n        }\r\n    }])\r\n","require('./js/slsp-http-intercept-pickup-information.module.js')\r\nmodule.exports = 'slspHttpInterceptPickupInformation'","export const slspHttpInterceptPickupInformation = angular.module('slspHttpInterceptPickupInformation', ['ng'])\r\n    .config(['$httpProvider', ($httpProvider) => {\r\n        $httpProvider.interceptors.push(['$q', ($q) => {\r\n            return {\r\n                'request': (request) => {\r\n                    return request\r\n                },\r\n                'requestError': (request) => {\r\n                    return $q.reject(request)\r\n                },\r\n                'responseError': (response) => {\r\n                    return $q.reject(response)\r\n                },\r\n                'response': (response) => {\r\n                    try {                        \r\n                        if (/primaws\\/rest\\/pub\\/ngrs\\/ngrsPickupInformationUrl/.test(response.config.url)) {                            \r\n                            //get userGroup from JWT \r\n                            let userGroup = angular.element(document.querySelector('primo-explore')).controller('primo-explore').userSessionManagerService.jwtUtilService.getDecodedToken().userGroup;\r\n\r\n                            //list of user groups to change delivery for\r\n                            if (['91','92'].includes(userGroup)) {\r\n                                response.data.personalDelivery = 'None';\r\n                            }\r\n                        }\r\n                    } catch (error) {\r\n                        console.log(error)\r\n                    }\r\n                    return response\r\n                }\r\n            }\r\n        }])\r\n    }])\r\n","require('./js/slsp-http-intercept-requests.module.js')\r\nmodule.exports = 'slspHttpInterceptRequests'","export const slspHttpInterceptRequests = angular.module('slspHttpInterceptRequests', ['ng'])\r\n    .config(['$httpProvider', ($httpProvider) => {\r\n        $httpProvider.interceptors.push(['$q', ($q) => {\r\n            return {\r\n                'request': (request) => {\r\n                    return request\r\n                },\r\n                'requestError': (request) => {\r\n                    return $q.reject(request)\r\n                },\r\n                'responseError': (response) => {\r\n                    return $q.reject(response)\r\n                },\r\n                'response': (response) => {\r\n                    try {\r\n                        if (/primaws\\/rest\\/priv\\/myaccount\\/requests/.test(response.config.url)) {\r\n                            if (response.status == 200 && response.data.status == \"ok\") {\r\n                                let interfaceLanguage = angular.element(document.querySelector('primo-explore')).injector().get('$rootScope').$$childHead.$ctrl.userSessionManagerService.getUserLanguage() ||\r\n                                    window.appConfig['primo-view']['attributes-map'].interfaceLanguage\r\n\r\n                                let list_of_hold_states = {\r\n                                    'en': [\"in transit\", \"in process\", \"on hold shelf\"],\r\n                                    'de': [\"transfer\", \"in bearbeitung\", \"bereitgestellt\"],\r\n                                    'fr': [\"en cours de transfert\", \"en cours\", \"sur le rayon des réservations\"],\r\n                                    'it': [\"in transito\", \"in processo\", \"scaffale prenotazioni\"]\r\n                                }\r\n                                let list_of_photocopy_states = {\r\n                                    'en': [\"in transit\", \"in process\"],\r\n                                    'de': [\"transfer\", \"in bearbeitung\"],\r\n                                    'fr': [\"en cours de transfert\", \"en cours\"],\r\n                                    'it': [\"in transito\", \"in processo\"]\r\n                                }\r\n                                if (Object.keys(list_of_hold_states).includes(interfaceLanguage)) {\r\n                                    let list_of_hold_states_regexp = RegExp(list_of_hold_states[interfaceLanguage].map(m => m.toLowerCase()).join('|'))\r\n                                    // rewrite cancellable holds\r\n                                    response.data.data.holds.hold.map((m) => {\r\n                                        if (list_of_hold_states_regexp.test(m.holdstatus.toLowerCase())) {\r\n                                            m.cancel = 'N'\r\n                                        }\r\n                                    })\r\n                                }\r\n                                else {\r\n                                    throw `No mapping found for holds: ${interfaceLanguage}`\r\n                                }\r\n\r\n                                if (Object.keys(list_of_photocopy_states).includes(interfaceLanguage)) {\r\n                                    let list_of_photocopy_states_regexp = RegExp(list_of_photocopy_states[interfaceLanguage].map(m => m.toLowerCase()).join('|'))\r\n                                    // rewrite cancellable photocopies\r\n                                    response.data.data.photocopies.photocopy.map((m) => {\r\n                                        if (list_of_photocopy_states_regexp.test(m.requeststatus.toLowerCase())) {\r\n                                            m.cancel = 'N'\r\n                                        }\r\n                                    })\r\n                                }\r\n                                else {\r\n                                    throw `No mapping found for photocopies: ${interfaceLanguage}`\r\n                                }\r\n                            }\r\n                        }\r\n                    }\r\n                    catch (error) {\r\n                        console.error(error);\r\n                    }\r\n                    return response;\r\n                }\r\n            }\r\n        }])\r\n    }])\r\n","require('./js/slsp-ill-signin-order-alert.module.js')\r\nmodule.exports = 'slspIllSigninOrderAlert'","//--------ILL Signin Order -  if Alert Message ---------------------------------------\r\n\r\nangular\r\n    .module('slspIllSigninOrderAlert', [])\r\n\r\n    .controller('AlertMsgController', ['$scope', function ($scope) {\r\n        var vm = this;\r\n        vm.getAlert = getAlert\r\n\r\n        function getAlert() {\r\n            var ga = vm.parentCtrl.almaHowToGetitService.reqAlert._htmlMsg;\r\n            var myEl2 = angular.element(document.querySelector('primo-explore'));\r\n\r\n            if (ga.length > 0) {\r\n                return myEl2.addClass('alert');\r\n\r\n            }\r\n            else {\r\n\r\n                return myEl2.removeClass('alert');\r\n\r\n            }\r\n        }\r\n\r\n    }])\r\n\r\n    .component('almaHowovpAfter', {\r\n        bindings: { parentCtrl: '<' },\r\n        controller: 'AlertMsgController',\r\n        template: '<div style=\"display:none\">{{$ctrl.getAlert()}}</div><slsp-howovp-after parent-ctrl=\"$parent.$ctrl\"></slsp-howovp-after>'\r\n    });\r\n","export const unigeBibNewsConfig = function(){\n    return {\n        label: {\n            heading: {\n                de: 'Aktuelles',\n                en: 'Library News',\n                fr: 'Actus de la Bibliothèque UNIGE',\n                it: 'Notizie dalla biblioteca'\n            },\n            more:{\n                de: 'Weitere Informationen',\n                en: 'More information',\n                fr: 'Voir plus',\n                it: 'Più informazioni'\n            },\n            all:{\n                de: 'Alle Meldungen ansehen',\n                en: 'All news',\n                fr: 'Toutes les actualités',\n                it: 'Tutte le notizie'\n            }\n        }\n    }\n}\n","export class unigeBibNewsController {\n\n    constructor( $sce, unigeConfigService, unigeBibNewsConfig, unigeBibNewsService ) {\n        this.$sce = $sce;\n        this.unigeConfigService = unigeConfigService;\n        this.config = unigeBibNewsConfig;\n        this.unigeBibNewsService = unigeBibNewsService;\n        this.lang = this.unigeConfigService.getLanguage();\n    }\n\n    $onInit() {\n        try{\n            this.unigeBibNewsService.getNews(this.lang)\n                .then((data) => {\n                    try{\n                        this.allNewsUrl = 'https://www.unige.ch/biblio/fr/actus/';\n                        this.news = data.entries;\n                    }\n                    catch(e){\n                        console.error(\"***UNIGE*** an error occured: unigeBibNewsController unigeBibNewsService.getNews(): \\n\\n\");\n                        console.error(e.message);\n                    }\n                });\n        }\n        catch(e){\n            console.error(\"***UNIGE*** an error occured: unigeBibNewsController.onInit()\\n\\n\");\n            console.error(e.message);\n        }\n    }\n    decodeHtmlEntities(text) {\n        var div = document.createElement('div');\n        div.innerHTML = text;\n        return this.$sce.trustAsHtml(div.textContent);\n \t\t//return  text ? String(text).replace(/&nbsp;/gm, ' ') : '';\n    };\n}\n\nunigeBibNewsController.$inject = ['$sce', 'unigeConfigService', 'unigeBibNewsConfig', 'unigeBibNewsService' ];\n","/**\n* @ngdoc service\n* @name unigeBibNewsService\n*\n* @description\n* Service to get UNIGE Library News\n*\n*\n* <b>Used by</b><br>\n** Module {@link UNIGE.unigeBibNewsModule}<br>\n*\n*\n */\n\nexport const unigeBibNewsService = ['$http', '$sce', function($http, $sce){\n\n    function getNews(lang){\n        if(!lang){\n            lang = 'en';\n        }\n        if(lang == 'fr' || lang == 'it'){\n            lang = 'en';\n        }\n\n        let url = 'https://dis.unige.ch/slsp/unige_bib_news.php';\n        $sce.trustAsResourceUrl(url);\n\n        return $http.get(url,{headers:{ \"X-From-ExL-API-Gateway\": undefined }})\n            .then(\n                function(response){\n                    console.log('lang = ' + lang);\n                    return response.data;\n                },\n                function(httpError){\n                    let error = \"***UNIGE*** an error occured: unigeBibNewsService.get(): \" + httpError.status;\n                    if (httpError.data && httpError.data.errorMessage) {\n                        error += ' - ' + httpError.data.errorMessage;\n                        \n                    }\n                    console.error(error);\n                    return null;\n                }\n            );\n    }\n\n\n    return {\n        getNews: getNews\n    };\n}];\n","/**\n* @ngdoc service\n* @key unigeConfigService\n*\n* @description\n*\n* Service to get and handle informations from a module config:\n* - getLabel()\n* - getUrl()\n* - getLanguage()\n*\n */\nexport const unigeConfigService = ['$rootScope', function( $rootScope ){\n\n    function getLanguage(){\n        try{\n            let sms = $rootScope.$$childHead.$ctrl.userSessionManagerService;\n            if (!sms) {\n                console.error(\"***UNIGE*** unigeConfigService: userSessionManagerService not available\");\n                return 'en';\n            }\n            else{\n                return sms.getUserLanguage() || $window.appConfig['primo-view']['attributes-map'].interfaceLanguage;\n            }\n        }\n        catch(e){\n            console.error(\"***UNIGE*** an error occured: unigeConfigService.getLanguage():\");\n            console.error(e.message);\n            return 'en';\n        }\n    }\n\n\n    function getLabel(config, key) {\n        try{\n            let lang = this.getLanguage();\n            if (!config.label[key]) {\n                console.error(\"***UNIGE*** unigeConfigService.getLabel: '\" + key + \"' not in config\");\n                return key;\n            }\n            if(config.label[key][lang]){\n                return config.label[key][lang];\n            }\n            else{\n                return config.label[key]['en'];\n            }\n        }\n        catch(e){\n            console.error(\"***UNIGE*** an error occured: unigeConfigService.getLabel():\");\n            console.error(e.message);\n            return '';\n        }\n    }\n\n    function getUrl(config, key) {\n        try{\n            let lang = this.getLanguage();\n            if (!config.url[key]) {\n                console.error(\"***UNIGE*** unigeConfigService.getUrl: '\" + key + \"' not in config\");\n                return '';\n            }\n            if(config.url[key][lang]){\n                return config.url[key][lang];\n            }\n            else{\n                return config.url[key]['en'];\n            }\n        }\n        catch(e){\n            console.error(\"***UNIGE*** an error occured: unigeConfigService.getUrl():\");\n            console.error(e.message);\n            return '';\n        }\n    }\n\n    return {\n        getLanguage: getLanguage,\n        getLabel: getLabel,\n        getUrl: getUrl\n    };\n}]\n","import {unigeConfigService} from './module/unige-config.service';\nimport {unigeBibNewsConfig} from './module/unige-bib-news.config';\nimport {unigeBibNewsController} from './module/unige-bib-news.controller';\nimport {unigeBibNewsHtml} from './module/unige-bib-news.html';\nimport {unigeBibNewsService} from './module/unige-bib-news.service';\n\nexport const unigeBibNewsModule = angular\n    .module('unigeBibNewsModule', [])\n        .factory('unigeConfigService', unigeConfigService)\n        .factory('unigeBibNewsConfig', unigeBibNewsConfig)\n        .factory('unigeBibNewsService', unigeBibNewsService)\n        .controller('unigeBibNewsController', unigeBibNewsController)\n        .component('unigeBibNewsComponent',{\n            bindings: {afterCtrl: '<'},\n            controller: 'unigeBibNewsController',\n            template: unigeBibNewsHtml\n        })\n\nunigeBibNewsModule.requires.push(unigeBibNewsModule.name);\n","require('./js/unige-ill-open-url.module.js')\r\nmodule.exports = 'unigeIllOpenUrl'","angular\r\n    .module('unigeIllOpenUrl', [])\r\n    .controller('unigeIllOpenUrlController', ['$scope', '$location', function ($scope,$location) {\r\n        var vm = this;\r\n        this.$onInit = function() {\r\n            \r\n            // For blankIll page only\r\n            if ($location.path().toLowerCase() == '/blankill') {\r\n                // Store OpenURL parameters in this controller\r\n                vm.search = $location.search();\r\n                \r\n                // Proceed only when the request service contains the form fields\r\n                var request_service = vm.parentCtrl.requestService;\r\n                $scope.$watch(\r\n                    function () {\r\n                        if (angular.isDefined(request_service.formFields)) {\r\n                        return request_service.formFields.length;\r\n                      }\r\n                      return 0;\r\n                    },\r\n                    function (newValue, oldValue) {\r\n                      if (newValue > 0) {\r\n                        var fields = request_service.formFields;\r\n                        // Print all form fields in the console for Thomas to work through\r\n                        console.log(fields);\r\n                        // Print URL parameters in the console for Thomas to compare to\r\n                        console.log(vm.search);\r\n                        // Map field keys to OpenURL parameters\r\n                        const param_map = {\r\n                            'title': 'rft.title',\r\n                            'articleTitle': 'rft.atitle',\r\n                            'journalTitle': 'rft.jtitle',\r\n                            'title' : 'rft.btitle',\r\n                            'author': 'rft.au',\r\n                            'publisher': 'rft.publisher',\r\n                            'publicationDate': 'rft.pubdate',\r\n                            'issn' : 'rft.issn',\r\n                            'isbn' : 'rft.isbn',\r\n                            'doi' : 'rft.doi',\r\n                            'startPage' : 'rft.spage',\r\n                            'endPage' : 'rft.epage',\r\n                            'edition' : 'rft.edition',\r\n                            'volume' : 'rft.volume',\r\n                            'issue' : 'rft.issue',\r\n                            'pmid' : 'rft.pmid'\r\n                        }\r\n                        \r\n                        // Switch form type if the reference is for journal, a journal article or a book chapter\r\n                        if (angular.isDefined(vm.search['rft.genre']) && \r\n                           (vm.search['rft.genre'] == 'article' || vm.search['rft.genre'] == 'journal' || (vm.search['rft.genre'] == 'book' && vm.search['rft.atitle'] != '')) ){\r\n                            request_service.formData['citationType'] = 'CR';\r\n                            request_service.formFields[2].events.onClick();\r\n                        }\r\n                        \r\n                        // Set each field value in formData\r\n                        console.log(request_service.formData);\r\n                        var openurl_param;\r\n                        angular.forEach(fields, function(field) {\r\n                          if (angular.isDefined(param_map[field.key])) {\r\n                            openurl_param = param_map[field.key];\r\n                            request_service.formData[field.name] = vm.search[openurl_param];\r\n                          }\r\n                        });\r\n                        \r\n                        // Deal with special cases\r\n                        \r\n                        // Use rft.date if rft.pubdate is empty\r\n                        if (angular.isDefined(vm.search['rft.date']) && vm.search['rft.date'] != '' && request_service.formData['publicationDate'] == '') {\r\n                            request_service.formData['publicationDate'] = vm.search['rft.date'];\r\n                        }\r\n                        \r\n                        // Build page range from start and end page\r\n                        var pages_range = vm.search['rft.spage'];\r\n                        if (angular.isDefined(vm.search['rft.epage']) && vm.search['rft.epage'] != '') {\r\n                            pages_range = pages_range + '-' + vm.search['rft.epage'];\r\n                        }\r\n                        request_service.formData['pagesToPhotocopy'] = pages_range;\r\n                        \r\n                        // Set journal volume if the reference is of type article\r\n                        if (vm.search['rft.genre'] == 'article'){\r\n                            request_service.formData['journalVolume'] = vm.search['rft.volume'];\r\n                        }\r\n                        \r\n                        // If rft.au is empty, try building author field from rft.aufirst and rft.aulast\r\n                        if (!angular.isDefined(vm.search['rft.au']) || vm.search['rft.au'] == '') {\r\n                            var author = '';\r\n                            if (angular.isDefined(vm.search['rft.aulast']) && vm.search['rft.aulast'] != '') {\r\n                                author = vm.search['rft.aulast'];\r\n                            }\r\n                            if (angular.isDefined(vm.search['rft.aufirst']) && vm.search['rft.aufirst'] != '') {\r\n                                author = author + ', ' + vm.search['rft.aufirst'];\r\n                            }\r\n                            else if (angular.isDefined(vm.search['rft.auinit']) && vm.search['rft.auinit'] != '') {\r\n                                author = author + ', ' + vm.search['rft.auinit'];\r\n                            }\r\n                            if (author != '') {\r\n                                request_service.formData['author'] = author;\r\n                            }\r\n                        }\r\n                        \r\n                        // If it is a book add additional details to the comment field\r\n                        if (angular.isDefined(vm.search['rft.genre']) && (vm.search['rft.genre'] == 'book') ){\r\n                            var comment = '';\r\n                            if (angular.isDefined(vm.search['rft.volume']) && vm.search['rft.volume'] != '') {\r\n                                comment = 'Vol: ' + vm.search['rft.volume'];\r\n                            }\r\n                            if (angular.isDefined(vm.search['rft.issue']) && vm.search['rft.issue'] != '') {\r\n                                comment = comment + ' N°: ' + vm.search['rft.issue'];\r\n                            }\r\n                            if (angular.isDefined(vm.search['rft.part']) && vm.search['rft.part'] != '') {\r\n                                comment = comment + ' Part: ' + vm.search['rft.part'];\r\n                            }\r\n                            if (angular.isDefined(vm.search['rft.doi']) && vm.search['rft.doi'] != '') {\r\n                                comment = comment + ' DOI: ' + vm.search['rft.doi'];\r\n                            }\r\n                            if (comment != '') {\r\n                                request_service.formData['comment'] = comment;\r\n                            }\r\n                        }\r\n                        \r\n                        // Add place to publisher field if present\r\n                        if (angular.isDefined(vm.search['rft.place']) && vm.search['rft.place'] != '' &&\r\n                            angular.isDefined(vm.search['rft.publisher']) && vm.search['rft.publisher'] != '') {\r\n                                request_service.formData['publisher'] = vm.search['rft.place'] + ': ' + vm.search['rft.publisher'];\r\n                        }\r\n                        \r\n                        // If the reference is for a journal, take only some fields for article request.\r\n                        if (angular.isDefined(vm.search['rft.genre']) && vm.search['rft.genre'] == 'journal'){\r\n                            request_service.formData['publicationDate'] = '';\r\n                            // if (angular.isDefined(vm.search['rft.jtitle']) && vm.search['rft.jtitle'] != ''){\r\n                                // request_service.formData['title'] = vm.search['rft.jtitle'];\r\n                            // }\r\n                            // For whole isues, it's OK if no author is provided\r\n                            // if (request_service.formData['author'] == ''){\r\n                                // request_service.formData['author'] = \"N/A\";\r\n                            // }\r\n                            // For journal issues, put the ISSN in the ISBN field\r\n                            // if (angular.isDefined(vm.search['rft.issn']) && vm.search['rft.issn'] != ''){\r\n                                // request_service.formData['isbn'] = vm.search['rft.issn'] + ' (ISSN)';\r\n                            // }\r\n                        }\r\n                        \r\n                      }\r\n                    }\r\n                  );\r\n                }\r\n              }\r\n        \r\n    }])\r\n    .component('prmBlankIllAfter', {\r\n        bindings: {parentCtrl: `<`},\r\n        controller: 'unigeIllOpenUrlController',\r\n        template: ''  \r\n    });\r\n","require('./js/unige-non-circulating-label.module.js')\r\nmodule.exports = 'unigeNonCirculatingLabel'","angular\r\n    .module('unigeNonCirculatingLabel', [])\r\n    .controller('unigeNonCirculatingLabelController', ['$scope', function ($scope) {\r\n        var vm = this;\r\n        this.$onInit = function() {\r\n            \r\n            $scope.$watch(\r\n                function () {\r\n                    if (angular.isDefined(vm.parentCtrl.loc) && angular.isDefined(vm.parentCtrl.loc.items)) {\r\n                        // As soon as there are location details, watch for changes in the list of location items\r\n                        return vm.parentCtrl.loc.items;\r\n                    }\r\n                    return 0;\r\n                },\r\n                function () {\r\n                    // This listener function is called both during initial run and whenever the watched variable changes.\r\n                    if (angular.isDefined(vm.parentCtrl.loc)){\r\n                        // Prevent the listener from running when the locations list hasn't been defined yet (initial run)\r\n\r\n                             // If a user is connected, the loanable status display is correct\r\n                             if (vm.parentCtrl.isLoggedIn()){\r\n                                 // Do nothing for now. Could possibly edit \r\n                                 console.log('User is logged in, loanable status display correct.');\r\n                             }\r\n                             else {\r\n                                 // If no user is logged in, Primo displays a \"not loanable\" status even if this may not be the case.\r\n                                 // Replace that status with a note asking users to log in to get more info.\r\n                             \r\n                                 console.log('Found some holdings to correct');\r\n                             \r\n                                 var itemLocations = vm.parentCtrl.loc.items;\r\n                             \r\n                                  for(var i = 0; i < itemLocations.length; i++){\r\n                                      itemLocations[i].itemFields[1] = '<b>Veuillez vous connecter <br/> pour savoir si le document <br/> est empruntable</b>';\r\n                                  }\r\n                             }\r\n                         }\r\n                    }\r\n            );\r\n        }\r\n    }])\r\n    .component('slspLocationItemsAfter', {\r\n        bindings: {parentCtrl: `<`},\r\n        controller: 'unigeNonCirculatingLabelController',\r\n        template: ''  \r\n    });"],"sourceRoot":"/source/"}