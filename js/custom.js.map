{"version":3,"sources":["node_modules/browser-pack/_prelude.js","primo-explore/custom/41SLSP_UGE-VU2/js/main.js","primo-explore/custom/41SLSP_UGE-VU2/js/prm-alma-other-members-after/prm-alma-other-members-after.module.js","primo-explore/custom/41SLSP_UGE-VU2/js/prm-alma-other-members-after/slsp-collapse-other-inst/slsp-collapse-other-inst.controller.js","primo-explore/custom/41SLSP_UGE-VU2/js/prm-alma-other-members-after/slsp-collapse-other-inst/slsp-collapse-other-inst.module.js","primo-explore/custom/41SLSP_UGE-VU2/js/prm-alma-other-members-after/slsp-icon-label-other-members/slsp-icon-label-other-members.controller.js","primo-explore/custom/41SLSP_UGE-VU2/js/prm-alma-other-members-after/slsp-icon-label-other-members/slsp-icon-label-other-members.module.js","primo-explore/custom/41SLSP_UGE-VU2/js/prm-alma-other-units-after/prm-alma-other-units-after.module.js","primo-explore/custom/41SLSP_UGE-VU2/js/prm-alma-other-units-after/slsp-icon-label-other-units/slsp-icon-label-other-units.controller.js","primo-explore/custom/41SLSP_UGE-VU2/js/prm-alma-other-units-after/slsp-icon-label-other-units/slsp-icon-label-other-units.module.js","primo-explore/custom/41SLSP_UGE-VU2/js/prm-alma-viewit-items-after/prm-alma-viewit-items-after.module.js","primo-explore/custom/41SLSP_UGE-VU2/js/prm-alma-viewit-items-after/slsp-collapse-related-e-resources/slsp-collapse-related-e-resources.controller.js","primo-explore/custom/41SLSP_UGE-VU2/js/prm-alma-viewit-items-after/slsp-collapse-related-e-resources/slsp-collapse-related-e-resources.module.js","primo-explore/custom/41SLSP_UGE-VU2/js/prm-alma-viewit-items-after/slsp-icon-label-viewit-items/slsp-icon-label-viewit-items.controller.js","primo-explore/custom/41SLSP_UGE-VU2/js/prm-alma-viewit-items-after/slsp-icon-label-viewit-items/slsp-icon-label-viewit-items.module.js","primo-explore/custom/41SLSP_UGE-VU2/js/prm-blank-ill-after/index.js","primo-explore/custom/41SLSP_UGE-VU2/js/prm-blank-ill-after/unige-ill-open-url/unige-ill-open-url.module.js","primo-explore/custom/41SLSP_UGE-VU2/js/prm-databases-categorize-after/index.js","primo-explore/custom/41SLSP_UGE-VU2/js/prm-databases-categorize-after/unige-db-categories/unige-db-categories.config.js","primo-explore/custom/41SLSP_UGE-VU2/js/prm-databases-categorize-after/unige-db-categories/unige-db-categories.module.js","primo-explore/custom/41SLSP_UGE-VU2/js/prm-fines-after/prm-fines-after.module.js","primo-explore/custom/41SLSP_UGE-VU2/js/prm-fines-after/slsp-closed-fines-bar/slsp-closed-fines-bar.controller.js","primo-explore/custom/41SLSP_UGE-VU2/js/prm-fines-after/slsp-closed-fines-bar/slsp-closed-fines-bar.module.js","primo-explore/custom/41SLSP_UGE-VU2/js/prm-full-view-after/prm-full-view-after.module.js","primo-explore/custom/41SLSP_UGE-VU2/js/prm-full-view-after/slsp-icon-label/slsp-icon-label.controller.js","primo-explore/custom/41SLSP_UGE-VU2/js/prm-full-view-after/slsp-icon-label/slsp-icon-label.module.js","primo-explore/custom/41SLSP_UGE-VU2/js/prm-loan-after/slsp-hide-rapido-loan-link/slsp-hide-rapido-loan-link.controller.js","primo-explore/custom/41SLSP_UGE-VU2/js/prm-loan-after/slsp-hide-rapido-loan-link/slsp-hide-rapido-loan-link.module.js","primo-explore/custom/41SLSP_UGE-VU2/js/prm-loan-after/slsp-loan-after.module.js","primo-explore/custom/41SLSP_UGE-VU2/js/prm-loan-after/slsp-renew-item-text/slsp-renew-item-text.controller.js","primo-explore/custom/41SLSP_UGE-VU2/js/prm-loan-after/slsp-renew-item-text/slsp-renew-item-text.module.js","primo-explore/custom/41SLSP_UGE-VU2/js/prm-location-holdings-after/prm-location-holdings-after.module.js","primo-explore/custom/41SLSP_UGE-VU2/js/prm-location-holdings-after/slsp-i-button/slsp-i-button.controller.js","primo-explore/custom/41SLSP_UGE-VU2/js/prm-location-holdings-after/slsp-i-button/slsp-i-button.module.js","primo-explore/custom/41SLSP_UGE-VU2/js/prm-location-holdings-after/usi-location-open-close/usi-location-open-close.config.js","primo-explore/custom/41SLSP_UGE-VU2/js/prm-location-holdings-after/usi-location-open-close/usi-location-open-close.controller.js","primo-explore/custom/41SLSP_UGE-VU2/js/prm-location-holdings-after/usi-location-open-close/usi-location-open-close.module.js","primo-explore/custom/41SLSP_UGE-VU2/js/prm-location-items-after/eth-location-items-after.module.js","primo-explore/custom/41SLSP_UGE-VU2/js/prm-location-items-after/eth-mapongo/eth-config.service.js","primo-explore/custom/41SLSP_UGE-VU2/js/prm-location-items-after/eth-mapongo/eth-mapongo-check.controller.js","primo-explore/custom/41SLSP_UGE-VU2/js/prm-location-items-after/eth-mapongo/eth-mapongo-check.module.js","primo-explore/custom/41SLSP_UGE-VU2/js/prm-location-items-after/eth-mapongo/eth-mapongo-libraries.service.js","primo-explore/custom/41SLSP_UGE-VU2/js/prm-location-items-after/eth-mapongo/eth-mapongo.config.js","primo-explore/custom/41SLSP_UGE-VU2/js/prm-location-items-after/eth-mapongo/eth-mapongo.controller.js","primo-explore/custom/41SLSP_UGE-VU2/js/prm-location-items-after/eth-mapongo/eth-mapongo.module.js","primo-explore/custom/41SLSP_UGE-VU2/js/prm-location-items-after/slsp-icon-label-location-items/slsp-icon-label-location-items.controller.js","primo-explore/custom/41SLSP_UGE-VU2/js/prm-location-items-after/slsp-icon-label-location-items/slsp-icon-label-location-items.module.js","primo-explore/custom/41SLSP_UGE-VU2/js/prm-locations-after/eth-locations-after.module.js","primo-explore/custom/41SLSP_UGE-VU2/js/prm-locations-after/eth-locations-filter/eth-locations-filter.controller.js","primo-explore/custom/41SLSP_UGE-VU2/js/prm-locations-after/eth-locations-filter/eth-locations-filter.module.js","primo-explore/custom/41SLSP_UGE-VU2/js/prm-locations-after/slsp-collapse-related/slsp-collapse-related.controller.js","primo-explore/custom/41SLSP_UGE-VU2/js/prm-locations-after/slsp-collapse-related/slsp-collapse-related.module.js","primo-explore/custom/41SLSP_UGE-VU2/js/prm-locations-after/slsp-icon-label-locations/slsp-icon-label-locations.controller.js","primo-explore/custom/41SLSP_UGE-VU2/js/prm-locations-after/slsp-icon-label-locations/slsp-icon-label-locations.module.js","primo-explore/custom/41SLSP_UGE-VU2/js/prm-login-after/prm-login-after.module.js","primo-explore/custom/41SLSP_UGE-VU2/js/prm-login-after/slsp-login-box/slsp-login-box.controller.js","primo-explore/custom/41SLSP_UGE-VU2/js/prm-login-after/slsp-login-box/slsp-login-box.module.js","primo-explore/custom/41SLSP_UGE-VU2/js/prm-offer-details-tile-after/prm-offer-details-tile-after.module.js","primo-explore/custom/41SLSP_UGE-VU2/js/prm-offer-details-tile-after/slsp-multivolume-request/slsp-multivolume-request.controller.js","primo-explore/custom/41SLSP_UGE-VU2/js/prm-offer-details-tile-after/slsp-multivolume-request/slsp-multivolume-request.module.js","primo-explore/custom/41SLSP_UGE-VU2/js/prm-personal-info-after/slsp-edit-personal-details/slsp-edit-personal-details.controller.js","primo-explore/custom/41SLSP_UGE-VU2/js/prm-personal-info-after/slsp-edit-personal-details/slsp-edit-personal-details.module.js","primo-explore/custom/41SLSP_UGE-VU2/js/prm-personal-info-after/slsp-personal-info-after.module.js","primo-explore/custom/41SLSP_UGE-VU2/js/prm-request-after/bcu-fees-link/bcu-fees-link.controller.js","primo-explore/custom/41SLSP_UGE-VU2/js/prm-request-after/bcu-fees-link/bcu-fees-link.module.js","primo-explore/custom/41SLSP_UGE-VU2/js/prm-request-after/slsp-alma-request/slsp-alma-request.controller.js","primo-explore/custom/41SLSP_UGE-VU2/js/prm-request-after/slsp-alma-request/slsp-alma-request.module.js","primo-explore/custom/41SLSP_UGE-VU2/js/prm-request-after/slsp-request-after.module.js","primo-explore/custom/41SLSP_UGE-VU2/js/prm-requests-after/slsp-request-cancel-button/slsp-request-cancel-button.controller.js","primo-explore/custom/41SLSP_UGE-VU2/js/prm-requests-after/slsp-request-cancel-button/slsp-request-cancel-button.module.js","primo-explore/custom/41SLSP_UGE-VU2/js/prm-requests-after/slsp-requests-after.module.js","primo-explore/custom/41SLSP_UGE-VU2/js/prm-search-bar-after/bcu-search-bar-after.module.js","primo-explore/custom/41SLSP_UGE-VU2/js/prm-search-bar-after/bcu-search-slots/bcu-search-slots.controller.js","primo-explore/custom/41SLSP_UGE-VU2/js/prm-search-bar-after/bcu-search-slots/bcu-search-slots.module.js","primo-explore/custom/41SLSP_UGE-VU2/js/prm-service-button-after/prm-service-button-after.module.js","primo-explore/custom/41SLSP_UGE-VU2/js/prm-service-button-after/slsp-digitization-button-label/slsp-digitization-button-label.controller.js","primo-explore/custom/41SLSP_UGE-VU2/js/prm-service-button-after/slsp-digitization-button-label/slsp-digitization-button-label.module.js","primo-explore/custom/41SLSP_UGE-VU2/js/prm-service-details-after/eth-metagrid/eth-metagrid.config.js","primo-explore/custom/41SLSP_UGE-VU2/js/prm-service-details-after/eth-metagrid/eth-metagrid.controller.js","primo-explore/custom/41SLSP_UGE-VU2/js/prm-service-details-after/eth-metagrid/eth-metagrid.module.js","primo-explore/custom/41SLSP_UGE-VU2/js/prm-service-details-after/eth-metagrid/eth-metagrid.service.js","primo-explore/custom/41SLSP_UGE-VU2/js/prm-service-details-after/prm-service-details-after.module.js","primo-explore/custom/41SLSP_UGE-VU2/js/prm-service-details-after/slsp-collapse-details/hsg-translator.service.js","primo-explore/custom/41SLSP_UGE-VU2/js/prm-service-details-after/slsp-collapse-details/slsp-collapse-details.config.js","primo-explore/custom/41SLSP_UGE-VU2/js/prm-service-details-after/slsp-collapse-details/slsp-collapse-details.controller.js","primo-explore/custom/41SLSP_UGE-VU2/js/prm-service-details-after/slsp-collapse-details/slsp-collapse-details.module.js","primo-explore/custom/41SLSP_UGE-VU2/js/prm-service-ngrs-after/bcu-rapido-no-further-options/bcu-rapido-no-further-options.controller.js","primo-explore/custom/41SLSP_UGE-VU2/js/prm-service-ngrs-after/bcu-rapido-no-further-options/bcu-rapido-no-further-options.module.js","primo-explore/custom/41SLSP_UGE-VU2/js/prm-service-ngrs-after/prm-service-ngrs-after.module.js","primo-explore/custom/41SLSP_UGE-VU2/js/prm-service-ngrs-after/slsp-rapido-fees-link/slsp-rapido-fees-link.controller.js","primo-explore/custom/41SLSP_UGE-VU2/js/prm-service-ngrs-after/slsp-rapido-fees-link/slsp-rapido-fees-link.module.js","primo-explore/custom/41SLSP_UGE-VU2/js/prm-service-physical-best-offer-after/eth-disable-request-button/eth-disable-request-button.controller.js","primo-explore/custom/41SLSP_UGE-VU2/js/prm-service-physical-best-offer-after/eth-disable-request-button/eth-disable-request-button.module.js","primo-explore/custom/41SLSP_UGE-VU2/js/prm-service-physical-best-offer-after/prm-service-physical-best-offer-after.module.js","primo-explore/custom/41SLSP_UGE-VU2/js/prm-service-physical-best-offer-after/slsp-icon-label-rapido/slsp-icon-label-rapido.controller.js","primo-explore/custom/41SLSP_UGE-VU2/js/prm-service-physical-best-offer-after/slsp-icon-label-rapido/slsp-icon-label-rapido.module.js","primo-explore/custom/41SLSP_UGE-VU2/js/prm-service-physical-best-offer-after/slsp-rapido-digital-offer/slsp-rapido-digital-offer.controller.js","primo-explore/custom/41SLSP_UGE-VU2/js/prm-service-physical-best-offer-after/slsp-rapido-digital-offer/slsp-rapido-digital-offer.module.js","primo-explore/custom/41SLSP_UGE-VU2/js/prm-service-physical-best-offer-after/unige-local-pod-disable/unige-local-pod-disable.module.js","primo-explore/custom/41SLSP_UGE-VU2/js/prm-tabs-and-scopes-selector-after/bcu-scopes-selector/bcu-scopes-selector.controller.js","primo-explore/custom/41SLSP_UGE-VU2/js/prm-tabs-and-scopes-selector-after/bcu-scopes-selector/bcu-scopes-selector.module.js","primo-explore/custom/41SLSP_UGE-VU2/js/prm-tabs-and-scopes-selector-after/bcu-tabs-and-scopes-selector-after.module.js","primo-explore/custom/41SLSP_UGE-VU2/js/prm-top-nav-bar-links-after/index.js","primo-explore/custom/41SLSP_UGE-VU2/js/prm-top-nav-bar-links-after/unige-target-blank-fix/unige-target-blank-fix.module.js","primo-explore/custom/41SLSP_UGE-VU2/js/prm-user-area-expandable-after/bcu-lang-switch/bcu-lang-switch.controller.js","primo-explore/custom/41SLSP_UGE-VU2/js/prm-user-area-expandable-after/bcu-lang-switch/bcu-lang-switch.module.js","primo-explore/custom/41SLSP_UGE-VU2/js/prm-user-area-expandable-after/slsp-ill-signin-order-logged-out/slsp-ill-signin-order-logged-out.controller.js","primo-explore/custom/41SLSP_UGE-VU2/js/prm-user-area-expandable-after/slsp-ill-signin-order-logged-out/slsp-ill-signin-order-logged-out.module.js","primo-explore/custom/41SLSP_UGE-VU2/js/prm-user-area-expandable-after/slsp-ill-signin-order-logged-out/slsp-ill-signin-order-logged-out.service.js","primo-explore/custom/41SLSP_UGE-VU2/js/prm-user-area-expandable-after/slsp-user-area-expandable-after.module.js","primo-explore/custom/41SLSP_UGE-VU2/js/slsp-archives-htgi/index.js","primo-explore/custom/41SLSP_UGE-VU2/js/slsp-archives-htgi/js/slsp-archives-htgi.module.js","primo-explore/custom/41SLSP_UGE-VU2/js/slsp-archives-viewit/index.js","primo-explore/custom/41SLSP_UGE-VU2/js/slsp-archives-viewit/js/slsp-archives-viewit.module.js","primo-explore/custom/41SLSP_UGE-VU2/js/slsp-http-intercept-pickup-information/index.js","primo-explore/custom/41SLSP_UGE-VU2/js/slsp-http-intercept-pickup-information/js/slsp-http-intercept-pickup-information.module.js","primo-explore/custom/41SLSP_UGE-VU2/js/slsp-http-intercept-requests/index.js","primo-explore/custom/41SLSP_UGE-VU2/js/slsp-http-intercept-requests/js/slsp-http-intercept-requests.module.js","primo-explore/custom/41SLSP_UGE-VU2/js/slsp-ill-signin-order-alert/index.js","primo-explore/custom/41SLSP_UGE-VU2/js/slsp-ill-signin-order-alert/js/slsp-ill-signin-order-alert.module.js","primo-explore/custom/41SLSP_UGE-VU2/js/slsp-location-items-after/index.js","primo-explore/custom/41SLSP_UGE-VU2/js/slsp-location-items-after/unige-non-circulating-label/unige-non-circulating-label.module.js","primo-explore/custom/41SLSP_UGE-VU2/js/unige-bib-news/module/unige-bib-news.config.js","primo-explore/custom/41SLSP_UGE-VU2/js/unige-bib-news/module/unige-bib-news.controller.js","primo-explore/custom/41SLSP_UGE-VU2/js/unige-bib-news/module/unige-bib-news.service.js","primo-explore/custom/41SLSP_UGE-VU2/js/unige-bib-news/module/unige-config.service.js","primo-explore/custom/41SLSP_UGE-VU2/js/unige-bib-news/unige-bib-news.module.js"],"names":["r","e","n","t","o","i","f","c","require","u","a","Error","code","p","exports","call","length","1","module","angular","_slspCollapseOtherInst","_slspIconLabelOtherMembers","prmAlmaOtherMembersAfterModule","component","bindings","parentCtrl","template","requires","push","slspCollapseOtherInstModule","name","slspIconLabelOtherMembersModule","slspCollapseOtherInstController","$scope","$compile","_classCallCheck","this","noItemAtPickupLocation","afterCtrl","serviceMode","isCollapsed","availabilityType","document","querySelectorAll","element","prepend","addClass","console","error","message","$inject","controller","slspIconLabelOtherMembersController","$timeout","_this","iconLabelOtherMembersE","iconLabelOtherMembersP2","_slspIconLabelOtherUnits","prmAlmaOtherUnitsAfterModule","slspIconLabelOtherUnitsModule","slspIconLabelOtherUnitsController","iconLabelOtherUnitsE","_slspIconLabelViewitItems","_slspCollapseRelatedEResources","prmAlmaViewitItemsAfterModule","slspIconLabelViewitItemsModule","slspCollapseRelatedEResourcesModule","slspCollapseRelatedEResourcesController","list2Element","buttonElement","titleParentElement","serviceType","querySelector","classList","add","createElement","innerHTML","addEventListener","toggle","parentNode","replaceChild","slspIconLabelViewitItemsController","iconLabelRidOff","iconLabelViewitItemsDigital","iconLabelRidOffDigital","iconLabelViewitItems","detach","$location","vm","$onInit","request_service","path","toLowerCase","search","requestService","$watch","isDefined","formFields","newValue","oldValue","param_map","openurl_param","pages_range","comment","fields","_defineProperty","_param_map","title","articleTitle","journalTitle","formData","events","onClick","forEach","field","key","author","unigeDbCategoriesConfig","baseurl","refcode","Anthropologie","enc","Biologie","Français","ore","Médecine et santé","Sciences économiques","Sciences sociales","_unigeDbCategoriesConfig","factory","$translate","encSearchLabel","oreSearchLabel","then","translation","dbCategories","dbcategory","dbRefCodes","dbRefSearchUrl","currentViewId","baseUrl","currentSelection","$stateParams","vid","dbOverrideCategories","$$absUrl","replace","dbParamArray","originalCategory","newMenuEntry","Object","link","displayValue","term","selected","subcategories","refWorksLinks","dbcategories","subCategory","newSubMenuEntry","getElementById","remove","_slspClosedFinesBar","prmFinesAfterModule","slspClosedFinesBarModule","slspClosedFinesBarController","showClosedFines","currentFinesArray","hasClosedFines","finesTypeDropDownSelection","totalNumOfFines","isArray","fine","fineType","_slspIconLabel","prmFullViewAfterModule","slspIconLabelModule","slspIconLabelController","slspHideRapidoLoanLinkController","$element","itemType","itemBarcode","hideTitle","item","itembarcode","loansService","requestParams","type","includes","setTitle","parent","_slspHideRapidoLoanLink","slspHideRapidoLoanLinkModule","_slspRenewItemText","slspLoanAfterModule","slspRenewItemTextModule","slspRenewItemTextController","getRenewText","undefined","renewstatuses","renewstatus","_slspIButton","_usiLocationOpenClose","prmLocationHoldingsAfterModule","slspIButtonModule","usiLocationOpenCloseModule","slspIButtonController","$rootScope","biblinkBase","getLibrary","bind","getLibraryCode","getLanguage","currLoc","location","librarycodeTranslation","libraryCode","sms","$$childHead","$ctrl","userSessionManagerService","getUserLanguage","$window","appConfig","interfaceLanguage","addSpecialInfoClass","usiLocationOpenCloseConfig","closedLocations","libraryId","usiLocationOpenCloseController","ethConfigService","usilocation","config","isopen","subLocationCode","isuge","organization","_usiLocationOpenClose2","_ethConfig","_ethMapongoCheck","_ethMapongo","_slspIconLabelLocationItems","ethLocationItemsAfterModule","ethMapongoCheckModule","ethMapongoModule","slspIconLabelLocationItemsModule","getLabel","lang","label","getUrl","url","ethMapongoCheckController","ethMapongoLibrariesService","isMapongoLibrary","noLocationItemAfter","locationItemAfter","parentElement","getElementsByTagName","loc","aPrmLocationItemAfter","slice","recordid","pnx","control","sourcerecordid","items","addCallnumberEntry","barcodeEntry","prmLocationItemAfter","isMapongoSubLocation","_additionalData","secondarylocationname","isAvailable","itemstatusname","getSubLocationCode","callnumber","fullItemFields","filter","indexOf","addCallnumber","barcode","append","_ethMapongoLibraries","libraries","shortname","locationCodeWhiteList","locationWhiteList","availabilityStatus","l","subLocation","getBaseUrl","lib","filterLibraries","s","ethMapongoConfig","qrc","de","en","fr","ethMapongoController","src","encodeURIComponent","sublocation","_ethMapongo2","slspIconLabelLocationItemsController","iconLabelLocationItems","iconLabelLocationItems3","iconLabelLocationItems2","serviceScrollId","_ethLocationsFilter","_slspIconLabelLocations","_slspCollapseRelated","ethLocationsAfterModule","ethLocationsFilterModule","slspIconLabelLocationsModule","slspCollapseRelatedModule","ethLocationsFilterController","scope","isLocationsFilterVisible","slspCollapseRelatedController","locations","relatedLocationsListLimit","slspIconLabelLocationsController","iconLabelLocations","iconLabelLocations3","iconLabelLocations2","_slspLoginBox","prmLoginAfterModule","slspLoginBoxModule","slspLoginBoxController","authMeth1","authMeth2","log","_slspMultivolumeRequest","prmOfferDetailsTileAfterModule","slspMultivolumeRequestModule","slspMultivolumeRequestController","previousUnavailableResource","currentUnavailableResource","bestoffer","unavailableResource","disableRequestButton","enableRequestButton","requestButton","disabled","slspEditPersonalDetailsController","$root","getInterfaceLanguage","detailsBaseEdu","detailsBaseReg","exclude","grpA","grpB","getPatronGrp","personalInfoService","personalInfo","patron","patronstatus","registration","institution","patronstatuscode","grpLabelA","labelA","grpLabelB","labelB","buttonMove","_slspEditPersonalDetails","slspEditPersonalDetailsModule","slspPersonalInfoAfterModule","bcuFeesLinkController","form","display","info","children","className","instant","insertBefore","_bcuFeesLink","bcuFeesLinkModule","slspAlmaRequestController","requestLoan","requestDigi","removeClass","_slspAlmaRequest","slspAlmaRequestModule","slspRequestAfterModule","slspRequestCancelButtonController","currentRequestArray","request","requestType","statusCode","isCancelable","_slspRequestCancelButton","slspRequestCancelButtonModule","slspRequestsAfterModule","_bcuSearchSlots","bcuSearchBarAfterModule","bcuSearchSlotsModule","bcuSearchSlotsController","showTabsAndScopes","_slspDigitizationButtonLabel","prmServiceButtonAfterModule","slspDigitizationButtonLabelModule","slspDigitizationButtonLabelController","digiButtonLabel","_digiButtonLabel","digiItemButtonLabel","service","after","ethMetagridConfig","blacklist","hallernet","it","fotostiftung","sikart","elites-suisses-au-xxe-siecle","bsg","dodis","helveticat","hls-dhs-dss","histoirerurale","lonsea","ssrq","alfred-escher","geschichtedersozialensicherheit","ethMetagridController","ethMetagridService","provider","id","getConcordances","data","concordances","resources","metagridId","persons","find","x","person","whitelistedMetagridLinks","whitelistedMetagridLinksSorted","metadata","last_name","first_name","j","resource","slug","uri","whitelist","concat","hls","rest","metagridLinks","lds03","lds90","gndIds","idrefIds","part","_part","_i","substring","_part2","_part3","_i2","gndId","lastIndexOf","buildMetalinkLinks","idrefId","_ethMetagrid","_ethMetagrid2","_ethMetagrid3","ethMetagridModule","$http","$sce","metagridService","trustAsResourceUrl","get","response","httpError","status","errorMessage","_slspCollapseDetails","prmServiceDetailsAfterModule","slspCollapseDetailsModule","hsgTranslatorService","$log","defaultLang","getLang","labels","labelSet","slspCollapseDetailsConfig","ignore","charCount","itemCount","icons","expand","collapse","slspCollapseDetailsController","translator","waiting","iconExpand","iconCollapse","expandButtonLabel","collapseButtonLabel","NUMBER_OF_DETAILS_TO_SHOW","rootEl","query","that","deregister","makeFoldable","details","_details","values","textLength","configItem","detail","_typeof","lowerBound","addMarkup","getItemContainer","itemContainer","count","longtext","listitems","listitem","style","appendChild","msg","trustAsHtml","_hsgTranslator","_slspCollapseDetails2","constant","bcuRapidoNoFurtherOptionsController","almaRSServiceAvailable","isi","isSignedIn","rapidoSection","rapidoTOC","hasClass","_bcuRapidoNoFurtherOptions","bcuRapidoNoFurtherOptionsModule","_slspRapidoFeesLink","prmServiceNgrsAfterModule","slspRapidoFeesLinkModule","slspRapidoFeesLinkController","rapidoFeesLink","html","ethDisableRequestButtonController","processDoCheck","attr","_ethDisableRequestButton","ethDisableRequestButtonModule","_slspRapidoDigitalOffer","_slspIconLabelRapido","_unigeLocalPodDisable","prmServicePhysicalBestOfferAfterModule","slspRapidoDigitalOfferModule","slspIconLabelRapidoModule","unigeLocalPodDisableModule","slspIconLabelRapidoController","iconLabel","iconLabel2","isdigitaloffer","slspRapidoDigitalOfferController","loaderTemplate","isDone","loadingText","Array","from","text","contains","tilesplaceholderactive","rapidoCosts","unavailableInAllMembersPod","reservation","podId","readingRoomPod","podInfoMsg","supplyTime","insertAdjacentHTML","bcuScopesSelectorController","setTimeout","searchScopes","onclick","getElementsByClassName","click","_bcuScopesSelector","bcuScopesSelectorModule","bcuTabsAndScopesSelectorAfterModule","mainView","menuItem","target","overlayLinks","firstElementChild","bcuLangSwitchController","$parent","languages","changeLanguage","changeLangService","addLangParamToUrl","i18nService","setLanguage","$state","go","current","reload","_bcuLangSwitch","bcuLangSwitchModule","slspIllSigninOrderLoggedOutController","slspIllSigninOrderLoggedOutService","usrNme","isGuest","_slspIllSigninOrderLoggedOut","_slspIllSigninOrderLoggedOut2","slspIllSigninOrderLoggedOutModule","jwtHelper","getDecodedToken","sessionStorage","jwt","getItem","decodeToken","decodedToken","userGroup","userName","slspUserAreaExpandableAfterModule","source","sourceid","guid","originalsourceid","delivery","GetIt1","links","isLinktoOnline","fullView","availabilityLine","changeButton","result","changeButtonText","$doCheck","button","slspHttpInterceptPickupInformation","$httpProvider","interceptors","$q","_request","requestError","reject","responseError","_response","test","jwtUtilService","personalDelivery","slspHttpInterceptRequests","injector","window","list_of_hold_states","list_of_photocopy_states","keys","list_of_hold_states_regexp","RegExp","map","m","join","holds","hold","holdstatus","cancel","list_of_photocopy_states_regexp","photocopies","photocopy","requeststatus","getAlert","ga","almaHowToGetitService","reqAlert","_htmlMsg","myEl2","displayMessage","displayNotLoanable","isLoggedIn","itemLocations","itemFields","unigeBibNewsConfig","heading","more","all","unigeBibNewsController","unigeConfigService","unigeBibNewsService","getNews","allNewsUrl","news","entries","div","textContent","headers","X-From-ExL-API-Gateway","_unigeConfig","_unigeBibNews","_unigeBibNews2","_unigeBibNews3","unigeBibNewsModule"],"mappings":"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","file":"custom.js","sourcesContent":["(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c=\"function\"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error(\"Cannot find module '\"+i+\"'\");throw a.code=\"MODULE_NOT_FOUND\",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u=\"function\"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()","//import './slsp-courier-info';\nimport './slsp-ill-signin-order-alert';\nimport './prm-locations-after';\nimport './prm-location-items-after';\nimport './slsp-archives-htgi';\nimport './slsp-archives-viewit';\nimport './slsp-http-intercept-requests';\nimport './prm-user-area-expandable-after';\nimport './prm-loan-after';\nimport './prm-personal-info-after';\nimport './prm-alma-other-members-after';\nimport './prm-service-ngrs-after';\nimport './prm-service-physical-best-offer-after';\nimport './slsp-http-intercept-pickup-information';\nimport './prm-search-bar-after';\nimport './prm-tabs-and-scopes-selector-after';\nimport './prm-service-button-after';\nimport './prm-full-view-after';\nimport './prm-request-after';\nimport './prm-requests-after';\nimport './prm-alma-viewit-items-after';\nimport './prm-alma-other-units-after';\nimport './prm-login-after';\nimport './prm-location-holdings-after';\nimport './prm-offer-details-tile-after';\nimport './prm-fines-after';\nimport './prm-service-details-after';\n// added by UNIGE\nimport './unige-bib-news';\nimport './prm-blank-ill-after';\nimport './slsp-location-items-after';\nimport './prm-top-nav-bar-links-after';\n// UNIGE VU2 PROD, VU2 PSB & VU3 PSB only\nimport './prm-databases-categorize-after';\n\n// UNIGE VU1 PROD & PSB\n// var app = angular.module('viewCustom', ['angularLoad', 'slspIllSigninOrderAlert', 'ethLocationsAfterModule', 'ethLocationItemsAfterModule', 'slspArchivesHtgi', 'slspArchivesViewit', 'slspHttpInterceptRequests', 'slspUserAreaExpandableAfterModule', 'slspLoanAfterModule', 'slspPersonalInfoAfterModule', 'prmAlmaOtherMembersAfterModule', 'prmServiceNgrsAfterModule', 'prmServicePhysicalBestOfferAfterModule', 'slspHttpInterceptPickupInformation', 'bcuSearchBarAfterModule', 'bcuTabsAndScopesSelectorAfterModule', 'prmServiceButtonAfterModule', 'prmFullViewAfterModule', 'slspRequestAfterModule', 'slspRequestsAfterModule', 'prmAlmaViewitItemsAfterModule', 'prmAlmaOtherUnitsAfterModule', 'prmLoginAfterModule', 'prmLocationHoldingsAfterModule', 'prmOfferDetailsTileAfterModule', 'prmFinesAfterModule', 'prmServiceDetailsAfterModule', 'unigeBibNewsModule', 'unigeIllOpenUrl', 'unigeNonCirculatingLabel', 'unigeTargetBlankFix']);\n\n// UNIGE VU2 PROD\nvar app = angular.module('viewCustom', ['angularLoad', 'slspIllSigninOrderAlert', 'ethLocationsAfterModule', 'ethLocationItemsAfterModule', 'slspArchivesHtgi', 'slspArchivesViewit', 'slspHttpInterceptRequests', 'slspUserAreaExpandableAfterModule', 'slspLoanAfterModule', 'slspPersonalInfoAfterModule', 'prmAlmaOtherMembersAfterModule', 'prmServiceNgrsAfterModule', 'prmServicePhysicalBestOfferAfterModule', 'slspHttpInterceptPickupInformation', 'bcuSearchBarAfterModule', 'bcuTabsAndScopesSelectorAfterModule', 'prmServiceButtonAfterModule', 'prmFullViewAfterModule', 'slspRequestAfterModule', 'slspRequestsAfterModule', 'prmAlmaViewitItemsAfterModule', 'prmAlmaOtherUnitsAfterModule', 'prmLoginAfterModule', 'prmLocationHoldingsAfterModule', 'prmOfferDetailsTileAfterModule', 'prmFinesAfterModule', 'prmServiceDetailsAfterModule', 'unigeBibNewsModule', 'unigeIllOpenUrl', 'unigeNonCirculatingLabel', 'unigeDbCategories', 'unigeTargetBlankFix']);\n\n// UNIGE VU2 PSB & VU3 PSB\n// var app = angular.module('viewCustom', ['angularLoad', 'slspIllSigninOrderAlert', 'ethLocationsAfterModule', 'ethLocationItemsAfterModule', 'slspArchivesHtgi', 'slspArchivesViewit', 'slspHttpInterceptRequests', 'slspUserAreaExpandableAfterModule', 'slspLoanAfterModule', 'slspPersonalInfoAfterModule', 'prmAlmaOtherMembersAfterModule', 'prmServiceNgrsAfterModule', 'prmServicePhysicalBestOfferAfterModule', 'slspHttpInterceptPickupInformation', 'bcuSearchBarAfterModule', 'bcuTabsAndScopesSelectorAfterModule', 'prmServiceButtonAfterModule', 'prmFullViewAfterModule', 'slspRequestAfterModule', 'slspRequestsAfterModule', 'prmAlmaViewitItemsAfterModule', 'prmAlmaOtherUnitsAfterModule', 'prmLoginAfterModule', 'prmLocationHoldingsAfterModule', 'prmOfferDetailsTileAfterModule', 'prmFinesAfterModule', 'prmServiceDetailsAfterModule', 'unigeBibNewsModule', 'unigeIllOpenUrl', 'unigeLoanPolicyLabelFix', 'unigeDbCategories', 'unigeTargetBlankFix']);","\nimport {slspCollapseOtherInstModule} from './slsp-collapse-other-inst/slsp-collapse-other-inst.module';\nimport {slspIconLabelOtherMembersModule} from './slsp-icon-label-other-members/slsp-icon-label-other-members.module';\n\nexport const prmAlmaOtherMembersAfterModule = angular\n    .module('prmAlmaOtherMembersAfterModule', [])\n        .component('prmAlmaOtherMembersAfter',  {\n            bindings: {parentCtrl: '<'},\n            template: `<slsp-collapse-other-inst-component after-ctrl=\"$ctrl\"></slsp-collapse-other-inst-component><slsp-icon-label-other-members-component after-ctrl=\"$ctrl\"></slsp-icon-label-other-members-component><slsp-alma-other-members-after parent-ctrl=\"$parent.$ctrl\"></slsp-alma-other-members-after>`\n        });\n\nprmAlmaOtherMembersAfterModule.requires.push(slspCollapseOtherInstModule.name);\nprmAlmaOtherMembersAfterModule.requires.push(slspIconLabelOtherMembersModule.name);","\n\n//--------CollapseOtherInst ---------------------------------------\n\n\nexport class slspCollapseOtherInstController {\n\n    constructor( $scope, $compile) {\n        this.$scope = $scope;\n        this.$compile = $compile;\n    }\n\n    $onInit() {\n        try {\n            this.parentCtrl = this.afterCtrl.parentCtrl;\n\n            if (this.parentCtrl.serviceMode !== 'howovp') {\n           \n                this.parentCtrl.isCollapsed = true;\n            }\n            else {\n                this.parentCtrl.isCollapsed = false;\n\n                if (this.parentCtrl.availabilityType == 'P') {\n                        this.noItemAtPickupLocation = noItemAtPickupLocation ;\n                        let noItemAtPickupLocation = document.querySelectorAll(`prm-alma-other-members[ng-if=\"$ctrl.ifShowOther('P')\"]`);\n                        let htmlnoItemAtPickupLocation = `<div class=\"bar alert-bar zero-margin-bottom layout-align-center-center layout-row\"><span class=\"center\" translate=\"customized.alert.nolocations\">​</span></div>`;\n                            \n                            angular.element(noItemAtPickupLocation).prepend(this.$compile(htmlnoItemAtPickupLocation)(this.$scope)).addClass('noItemAtPickupLocation');\n                }\n            }\n        }\n            \n            \n       \n        catch (e) {\n            console.error(\"***SLSP*** an error occured: slspCollapseOtherInstController\\n\\n\");\n            console.error(e.message);\n        }\n    }\n }\n\n\nslspCollapseOtherInstController.$inject =  ['$scope', '$compile'];\n\n","\n    import {slspCollapseOtherInstController} from './slsp-collapse-other-inst.controller';\n    import {slspCollapseOtherInstHtml} from './slsp-collapse-other-inst.html';\n\n    export const slspCollapseOtherInstModule = angular\n        .module('slspCollapseOtherInstModule', [])\n            .controller('slspCollapseOtherInstController', slspCollapseOtherInstController)\n            .component('slspCollapseOtherInstComponent', {\n                bindings: {afterCtrl: '<'},\n                controller: 'slspCollapseOtherInstController',\n                template: slspCollapseOtherInstHtml\n            })","\n\n//--------slspIconLabel ---------------------------------------\n\n\nexport class slspIconLabelOtherMembersController {\n\n    constructor( $scope, $compile, $timeout ) {\n        this.$scope = $scope;\n        this.$compile = $compile;\n        this.$timeout = $timeout;\n    }\n\n    \n\n    $onInit() {\n        try{\n            this.$timeout(() => {\n                this.parentCtrl = this.afterCtrl.parentCtrl;\n                \n                if (this.parentCtrl.availabilityType == \"E\") {\n                    \n                        this.iconLabelOtherMembersE = iconLabelOtherMembersE ;\n                        let iconLabelOtherMembersE = document.querySelectorAll(`prm-alma-other-members[ng-if=\"$ctrl.ifShowOther('E')\"] md-tab-content._md.md-active.md-no-scroll div md-content._md.md-primoExplore-theme md-list.md-primoExplore-theme`);\n                        let htmlOtherMembersE = `<div class=\"icnWrp\"><div class=\"iconDiv\"><svg xmlns=\"http://www.w3.org/2000/svg\" id=\"Ebene_2\" width=\"100%\" height=\"100%\" viewBox=\"0 0 185 185\"><g id=\"System_icons\"><g><rect width=\"185\" height=\"185\" fill=\"none\" opacity=\".2\"/><g id=\"Outline_Icons\"><g><path d=\"M155.98,92.26c0,35.19-28.5,63.72-63.66,63.72-35.16,0-63.3-29.68-63.3-64.87S55.9,30.44,89.77,29.08c.92-.04,1.83-.06,2.76-.06,35.16,0,63.45,28.05,63.45,63.24Z\" fill=\"none\" stroke=\"#000\" stroke-linejoin=\"round\" stroke-width=\"6\"/><path d=\"M89.77,29.08c-33.12,35.88-33.12,82.69,0,126.85\" fill=\"none\" stroke=\"#000\" stroke-linejoin=\"round\" stroke-width=\"6\"/><path d=\"M95.29,29.08c33.12,35.88,33.12,82.67,0,126.83\" fill=\"none\" stroke=\"#000\" stroke-linejoin=\"round\" stroke-width=\"6\"/><line x1=\"39.43\" y1=\"56.62\" x2=\"145.06\" y2=\"56.62\" fill=\"none\" stroke=\"#000\" stroke-linejoin=\"round\" stroke-width=\"6\"/><line x1=\"29.04\" y1=\"89.74\" x2=\"155.98\" y2=\"89.74\" fill=\"none\" stroke=\"#000\" stroke-linejoin=\"round\" stroke-width=\"6\"/><line x1=\"37.22\" y1=\"122.86\" x2=\"148.17\" y2=\"122.86\" fill=\"none\" stroke=\"#000\" stroke-linejoin=\"round\" stroke-width=\"6\"/></g></g></g></g></svg></div><div class=\"iconLabel\" translate=\"customized.fee.online\"></div></div>`;\n                            \n                            angular.element(iconLabelOtherMembersE).prepend(this.$compile(htmlOtherMembersE)(this.$scope)).addClass('icnLblOtherMembersE');\n                }\n\n                if (this.parentCtrl.availabilityType == \"P\") {\n                    \n                                        \n                    this.iconLabelOtherMembersP2 = iconLabelOtherMembersP2 ;\n                    let iconLabelOtherMembersP2 = document.querySelectorAll(`prm-alma-other-members[ng-if=\"$ctrl.ifShowOther('P')\"] md-tab-content._md.md-active.md-no-scroll div md-content._md.md-primoExplore-theme md-list.md-primoExplore-theme`);\n                    let htmlOtherMembersP2 = `<div class=\"icnWrp\"><div class=\"iconDiv\"><svg xmlns=\"http://www.w3.org/2000/svg\" id=\"Ebene_4\" width=\"100%\" height=\"100%\" viewBox=\"0 0 185 185\"><g id=\"System_icons\"><g><rect width=\"185\" height=\"185\" fill=\"none\" opacity=\".2\"/><g><rect x=\"32.65\" y=\"139.75\" width=\"119.7\" height=\"12.6\" fill=\"none\" stroke=\"#000\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"6\"/><rect x=\"38.95\" y=\"70.45\" width=\"107.1\" height=\"69.3\" fill=\"none\" stroke=\"#000\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"6\"/><line x1=\"164.95\" y1=\"152.35\" x2=\"20.05\" y2=\"152.35\" fill=\"none\" stroke=\"#000\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"6\"/><line x1=\"51.55\" y1=\"70.45\" x2=\"51.55\" y2=\"139.75\" fill=\"none\" stroke=\"#000\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"6\"/><line x1=\"83.05\" y1=\"70.45\" x2=\"83.05\" y2=\"139.75\" fill=\"none\" stroke=\"#000\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"6\"/><line x1=\"70.45\" y1=\"70.45\" x2=\"70.45\" y2=\"139.75\" fill=\"none\" stroke=\"#000\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"6\"/><line x1=\"101.95\" y1=\"70.45\" x2=\"101.95\" y2=\"139.75\" fill=\"none\" stroke=\"#000\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"6\"/><line x1=\"114.55\" y1=\"70.45\" x2=\"114.55\" y2=\"139.75\" fill=\"none\" stroke=\"#000\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"6\"/><line x1=\"133.45\" y1=\"70.45\" x2=\"133.45\" y2=\"139.75\" fill=\"none\" stroke=\"#000\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"6\"/><polygon points=\"158.65 70.45 26.35 70.45 92.5 32.65 158.65 70.45\" fill=\"none\" stroke=\"#000\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"6\"/></g></g></g></svg></div><div class=\"iconLabel\" translate=\"customized.fee.physical\"></div></div>`;\n                        \n                        angular.element(iconLabelOtherMembersP2).prepend(this.$compile(htmlOtherMembersP2)(this.$scope)).addClass('icnLblOtherMembersP2');\n                }\n\n\n          \n                \n            },0);   \n        }\n        \n        catch(e){\n            console.error(\"***SLSP*** an error occured: Rapido \\n\\n\");\n            console.error(e.message);\n        }\n    }\n    \n}\n\nslspIconLabelOtherMembersController.$inject =  [ '$scope', '$compile', '$timeout'];\n\n","\n    import {slspIconLabelOtherMembersController} from './slsp-icon-label-other-members.controller';\n    import {slspIconLabelOtherMembersHtml} from './slsp-icon-label-other-members.html';\n\n    export const slspIconLabelOtherMembersModule = angular\n        .module('slspIconLabelOtherMembersModule', [])\n            .controller('slspIconLabelOtherMembersController', slspIconLabelOtherMembersController)\n            .component('slspIconLabelOtherMembersComponent', {\n                bindings: {afterCtrl: '<'},\n                controller: 'slspIconLabelOtherMembersController',\n                template: slspIconLabelOtherMembersHtml\n            })","import { slspIconLabelOtherUnitsModule } from './slsp-icon-label-other-units/slsp-icon-label-other-units.module';\n\nexport const prmAlmaOtherUnitsAfterModule = angular\n    .module('prmAlmaOtherUnitsAfterModule', [])\n    .component('prmAlmaOtherUnitsAfter', {\n        bindings: { parentCtrl: '<' },\n        template: `<slsp-icon-label-other-units-component after-ctrl=\"$ctrl\"></slsp-icon-label-other-units-component><slsp-alma-other-units-after parent-ctrl=\"$parent.$ctrl\"></slsp-alma-other-units-after>`\n    });\n\n\nprmAlmaOtherUnitsAfterModule.requires.push(slspIconLabelOtherUnitsModule.name);","//--------slspIconLabel ---------------------------------------\n\n\nexport class slspIconLabelOtherUnitsController {\n\n    constructor($scope, $compile, $timeout) {\n        this.$scope = $scope;\n        this.$compile = $compile;\n        this.$timeout = $timeout;\n    }\n\n\n\n    $onInit() {\n        try {\n            this.$timeout(() => {\n                this.parentCtrl = this.afterCtrl.parentCtrl;\n\n                let iconLabelOtherUnitsE = document.querySelectorAll(`prm-alma-other-units md-content md-list.md-primoExplore-theme`);\n                let htmlOtherUnitsE = `<div class=\"icnWrp\"><div class=\"iconDiv\"><svg xmlns=\"http://www.w3.org/2000/svg\" id=\"Ebene_2\" width=\"100%\" height=\"100%\" viewBox=\"0 0 185 185\"><g id=\"System_icons\"><g><rect width=\"185\" height=\"185\" fill=\"none\" opacity=\".2\"/><g id=\"Outline_Icons\"><g><path d=\"M155.98,92.26c0,35.19-28.5,63.72-63.66,63.72-35.16,0-63.3-29.68-63.3-64.87S55.9,30.44,89.77,29.08c.92-.04,1.83-.06,2.76-.06,35.16,0,63.45,28.05,63.45,63.24Z\" fill=\"none\" stroke=\"#000\" stroke-linejoin=\"round\" stroke-width=\"6\"/><path d=\"M89.77,29.08c-33.12,35.88-33.12,82.69,0,126.85\" fill=\"none\" stroke=\"#000\" stroke-linejoin=\"round\" stroke-width=\"6\"/><path d=\"M95.29,29.08c33.12,35.88,33.12,82.67,0,126.83\" fill=\"none\" stroke=\"#000\" stroke-linejoin=\"round\" stroke-width=\"6\"/><line x1=\"39.43\" y1=\"56.62\" x2=\"145.06\" y2=\"56.62\" fill=\"none\" stroke=\"#000\" stroke-linejoin=\"round\" stroke-width=\"6\"/><line x1=\"29.04\" y1=\"89.74\" x2=\"155.98\" y2=\"89.74\" fill=\"none\" stroke=\"#000\" stroke-linejoin=\"round\" stroke-width=\"6\"/><line x1=\"37.22\" y1=\"122.86\" x2=\"148.17\" y2=\"122.86\" fill=\"none\" stroke=\"#000\" stroke-linejoin=\"round\" stroke-width=\"6\"/></g></g></g></g></svg></div><div class=\"iconLabel\" translate=\"customized.fee.online\"></div></div>`;\n\n                angular.element(iconLabelOtherUnitsE).prepend(this.$compile(htmlOtherUnitsE)(this.$scope)).addClass('icnLblOtherUnitsE');\n\n                //not collapsed by default\n                this.parentCtrl.isCollapsed = false;\n\n\n            }, 0);\n        } catch (e) {\n            console.error(\"***SLSP*** an error occured:  \\n\\n\");\n            console.error(e.message);\n        }\n    }\n\n}\n\nslspIconLabelOtherUnitsController.$inject = ['$scope', '$compile', '$timeout'];","import { slspIconLabelOtherUnitsController } from './slsp-icon-label-other-units.controller';\nimport { slspIconLabelOtherUnitsHtml } from './slsp-icon-label-other-units.html';\n\nexport const slspIconLabelOtherUnitsModule = angular\n    .module('slspIconLabelOtherUnitsModule', [])\n    .controller('slspIconLabelOtherUnitsController', slspIconLabelOtherUnitsController)\n    .component('slspIconLabelOtherUnitsComponent', {\n        bindings: { afterCtrl: '<' },\n        controller: 'slspIconLabelOtherUnitsController',\n        template: slspIconLabelOtherUnitsHtml\n    })","import { slspIconLabelViewitItemsModule } from './slsp-icon-label-viewit-items/slsp-icon-label-viewit-items.module';\nimport { slspCollapseRelatedEResourcesModule } from './slsp-collapse-related-e-resources/slsp-collapse-related-e-resources.module';\n\nexport const prmAlmaViewitItemsAfterModule = angular\n    .module('prmAlmaViewitItemsAfterModule', [])\n    .component('prmAlmaViewitItemsAfter', {\n        bindings: { parentCtrl: '<' },\n        template: `<slsp-icon-label-viewit-items-component after-ctrl=\"$ctrl\"></slsp-icon-label-viewit-items-component>\n                    <slsp-collapse-related-e-resources-component after-ctrl=\"$ctrl\"></slsp-collapse-related-e-resources-component>\n                    <slsp-alma-viewit-items-after parent-ctrl=\"$parent.$ctrl\"></slsp-alma-viewit-items-after>`\n    });\n\n\nprmAlmaViewitItemsAfterModule.requires.push(slspIconLabelViewitItemsModule.name);\nprmAlmaViewitItemsAfterModule.requires.push(slspCollapseRelatedEResourcesModule.name);","//-------- ---------------------------------------\n\n\nexport class slspCollapseRelatedEResourcesController {\n    constructor($scope, $compile, $timeout) {\n        this.$scope = $scope;\n        this.$compile = $compile;\n        this.$timeout = $timeout;\n    }\n\n    $onInit() {\n        try {\n            this.$timeout(() => {\n                this.parentCtrl = this.afterCtrl.parentCtrl;\n\n                if (this.parentCtrl.serviceType === 'ELECTRONIC_RELATED') {\n                    const list2Element = document.querySelector('#getit_link1_0 > div > prm-full-view-service-container > div.section-body > div > prm-alma-viewit > prm-alma-viewit-items:nth-child(2) > md-list');\n                    list2Element.classList.add('collapsed');\n\n                    const buttonElement = document.createElement('button');\n                    buttonElement.classList.add('section-title', 'md-button', 'md-primoExplore-theme', 'md-ink-ripple', 'collapse-related', 'collapsed');\n                    buttonElement.innerHTML = `<div layout=\"row\" layout-align=\"start center\" class=\"layout-align-start-center layout-row\"><h3 class=\"medium-uppercase-bold\" aria-expanded=\"false\"><br><span translate=\"c.uresolverServicesForRelatedTitles\" class=\"bold-text\"></span><prm-icon icon-type=\"svg\" svg-icon-set=\"primo-ui\" icon-definition=\"chevron-right\" class=\"arrow-icon\" style=\"\"><md-icon ng-if=\"($ctrl.iconDefinition &amp;&amp; !$ctrl.isCustom &amp;&amp; !$ctrl.isEmailMode())\" md-svg-icon=\"primo-ui:chevron-right\" role=\"presentation\" class=\"md-primoExplore-theme\"><svg width=\"100%\" height=\"100%\" viewBox=\"0 0 24 24\" y=\"384\" xmlns=\"http://www.w3.org/2000/svg\" fit=\"\" preserveAspectRatio=\"xMidYMid meet\" focusable=\"false\"><path d=\"M8.59,16.58L13.17,12L8.59,7.41L10,6L16,12L10,18L8.59,16.58Z\"></path></svg></md-icon></prm-icon></h3></div>`;\n\n                    buttonElement.addEventListener('click', function() {\n                        list2Element.classList.toggle('collapsed');\n                        buttonElement.querySelector('.arrow-icon').classList.toggle('rotate-90');\n                    });\n\n                    const titleElement = document.querySelector('#getit_link1_0 span[translate=\"c.uresolverServicesForRelatedTitles\"]');\n                    const titleParentElement = titleElement.parentNode;\n                    const titleGrandParentElement = titleParentElement.parentNode;\n                    titleGrandParentElement.replaceChild(buttonElement, titleParentElement);\n\n                    // Add a timeout to ensure that the element is compiled after the DOM has fully rendered\n                    this.$timeout(() => {\n                        this.$compile(buttonElement)(this.$scope);\n                    });\n\n                    //console.log(buttonElement);\n\n                } else {\n                    return;\n                }\n            }, 50);\n        } catch (e) {\n            console.error('***SLSP*** an error occured: Rapido \\n\\n');\n            console.error(e.message);\n        }\n    }\n\n\n}\n\nslspCollapseRelatedEResourcesController.$inject = ['$scope', '$compile', '$timeout'];","import { slspCollapseRelatedEResourcesController } from './slsp-collapse-related-e-resources.controller';\n\nexport const slspCollapseRelatedEResourcesModule = angular\n    .module('slspCollapseRelatedEResourcesModule', [])\n    .controller('slspCollapseRelatedEResourcesController', slspCollapseRelatedEResourcesController)\n    .component('slspCollapseRelatedEResourcesComponent', {\n        bindings: { afterCtrl: '<' },\n        controller: 'slspCollapseRelatedEResourcesController',\n\n    })","\n\n//--------slspIconLabel ---------------------------------------\n\n\nexport class slspIconLabelViewitItemsController {\n\n    constructor($scope, $compile, $timeout) {\n        this.$scope = $scope;\n        this.$compile = $compile;\n        this.$timeout = $timeout;\n    }\n\n\n\n    $onInit() {\n        try {\n            this.$timeout(() => {\n                this.parentCtrl = this.afterCtrl.parentCtrl;\n\n                if (this.parentCtrl.serviceType == \"ELECTRONIC\") {\n\n                    this.iconLabelViewitItems = iconLabelViewitItems;\n                    let iconLabelViewitItems = document.querySelectorAll(\"#getit_link1_0 > div > prm-full-view-service-container > div.section-body > div > prm-alma-viewit > prm-alma-viewit-items:nth-child(1) > md-list\");\n                    let htmlViewitItems = `<div class=\"icnWrp\"><div class=\"iconDiv\"><svg xmlns=\"http://www.w3.org/2000/svg\" id=\"Ebene_2\" width=\"100%\" height=\"100%\" viewBox=\"0 0 185 185\"><g id=\"System_icons\"><g><rect width=\"185\" height=\"185\" fill=\"none\" opacity=\".2\"/><g id=\"Outline_Icons\"><g><path d=\"M155.98,92.26c0,35.19-28.5,63.72-63.66,63.72-35.16,0-63.3-29.68-63.3-64.87S55.9,30.44,89.77,29.08c.92-.04,1.83-.06,2.76-.06,35.16,0,63.45,28.05,63.45,63.24Z\" fill=\"none\" stroke=\"#000\" stroke-linejoin=\"round\" stroke-width=\"6\"/><path d=\"M89.77,29.08c-33.12,35.88-33.12,82.69,0,126.85\" fill=\"none\" stroke=\"#000\" stroke-linejoin=\"round\" stroke-width=\"6\"/><path d=\"M95.29,29.08c33.12,35.88,33.12,82.67,0,126.83\" fill=\"none\" stroke=\"#000\" stroke-linejoin=\"round\" stroke-width=\"6\"/><line x1=\"39.43\" y1=\"56.62\" x2=\"145.06\" y2=\"56.62\" fill=\"none\" stroke=\"#000\" stroke-linejoin=\"round\" stroke-width=\"6\"/><line x1=\"29.04\" y1=\"89.74\" x2=\"155.98\" y2=\"89.74\" fill=\"none\" stroke=\"#000\" stroke-linejoin=\"round\" stroke-width=\"6\"/><line x1=\"37.22\" y1=\"122.86\" x2=\"148.17\" y2=\"122.86\" fill=\"none\" stroke=\"#000\" stroke-linejoin=\"round\" stroke-width=\"6\"/></g></g></g></g></svg></div><div class=\"iconLabel\" translate=\"customized.fee.online\"></div></div>`;\n                    let iconLabelRidOff = document.querySelectorAll(\".icnWrp:nth-child(2)\")\n                    angular.element(iconLabelRidOff).detach();\n                    angular.element(iconLabelViewitItems).prepend(this.$compile(htmlViewitItems)(this.$scope)).addClass('icnLblViewitItems');\n\n\n                }\n                else if (this.parentCtrl.serviceType == \"DIGITAL\") {\n\n                    this.iconLabelViewitItemsDigital = iconLabelViewitItemsDigital;\n                    let iconLabelViewitItemsDigital = document.querySelectorAll(\"#getit_link1_0>div>prm-full-view-service-container>div.section-body>div>prm-alma-viewit>prm-alma-viewit-items:nth-child(2)>md-list\");\n                    let htmlViewitItemsDigital = `<div class=\"icnWrp\"><div class=\"iconDiv\"><svg xmlns=\"http://www.w3.org/2000/svg\" id=\"Ebene_2\" width=\"100%\" height=\"100%\" viewBox=\"0 0 185 185\"><g id=\"System_icons\"><g><rect width=\"185\" height=\"185\" fill=\"none\" opacity=\".2\"/><g id=\"Outline_Icons\"><g><path d=\"M155.98,92.26c0,35.19-28.5,63.72-63.66,63.72-35.16,0-63.3-29.68-63.3-64.87S55.9,30.44,89.77,29.08c.92-.04,1.83-.06,2.76-.06,35.16,0,63.45,28.05,63.45,63.24Z\" fill=\"none\" stroke=\"#000\" stroke-linejoin=\"round\" stroke-width=\"6\"/><path d=\"M89.77,29.08c-33.12,35.88-33.12,82.69,0,126.85\" fill=\"none\" stroke=\"#000\" stroke-linejoin=\"round\" stroke-width=\"6\"/><path d=\"M95.29,29.08c33.12,35.88,33.12,82.67,0,126.83\" fill=\"none\" stroke=\"#000\" stroke-linejoin=\"round\" stroke-width=\"6\"/><line x1=\"39.43\" y1=\"56.62\" x2=\"145.06\" y2=\"56.62\" fill=\"none\" stroke=\"#000\" stroke-linejoin=\"round\" stroke-width=\"6\"/><line x1=\"29.04\" y1=\"89.74\" x2=\"155.98\" y2=\"89.74\" fill=\"none\" stroke=\"#000\" stroke-linejoin=\"round\" stroke-width=\"6\"/><line x1=\"37.22\" y1=\"122.86\" x2=\"148.17\" y2=\"122.86\" fill=\"none\" stroke=\"#000\" stroke-linejoin=\"round\" stroke-width=\"6\"/></g></g></g></g></svg></div><div class=\"iconLabel\" translate=\"customized.fee.online\"></div></div>`;\n                    let iconLabelRidOffDigital = document.querySelectorAll(\".icnWrp:nth-child(2)\")    \n                        angular.element(iconLabelRidOffDigital).detach();\n                    angular.element(iconLabelViewitItemsDigital).prepend(this.$compile(htmlViewitItemsDigital)(this.$scope)).addClass('icnLblViewitItemsDigital');\n\n\n                }\n                else {\n                    return\n                }\n\n                //console.log(this.parentCtrl.serviceType);\n\n            }, 0);\n        }\n\n        catch (e) {\n            console.error(\"***SLSP*** an error occured: Rapido \\n\\n\");\n            console.error(e.message);\n        }\n    }\n\n}\n\nslspIconLabelViewitItemsController.$inject = ['$scope', '$compile', '$timeout'];\n\n","\n    import {slspIconLabelViewitItemsController} from './slsp-icon-label-viewit-items.controller';\n    import {slspIconLabelViewitItemsHtml} from './slsp-icon-label-viewit-items.html';\n\n    export const slspIconLabelViewitItemsModule = angular\n        .module('slspIconLabelViewitItemsModule', [])\n            .controller('slspIconLabelViewitItemsController', slspIconLabelViewitItemsController)\n            .component('slspIconLabelViewitItemsComponent', {\n                bindings: {afterCtrl: '<'},\n                controller: 'slspIconLabelViewitItemsController',\n                template: slspIconLabelViewitItemsHtml\n            })","require('./unige-ill-open-url/unige-ill-open-url.module.js')\nmodule.exports = 'unigeIllOpenUrl'","angular\n    .module('unigeIllOpenUrl', [])\n    .controller('unigeIllOpenUrlController', ['$scope', '$location', function ($scope,$location) {\n        var vm = this;\n        this.$onInit = function() {\n            \n            // For blankIll page only\n            if ($location.path().toLowerCase() == '/blankill') {\n                // Store OpenURL parameters in this controller\n                vm.search = $location.search();\n                \n                // Proceed only when the request service contains the form fields\n                var request_service = vm.parentCtrl.requestService;\n                $scope.$watch(\n                    function () {\n                        if (angular.isDefined(request_service.formFields)) {\n                        return request_service.formFields.length;\n                      }\n                      return 0;\n                    },\n                    function (newValue, oldValue) {\n                      if (newValue > 0) {\n                        var fields = request_service.formFields;\n                        // Print all form fields in the console for Thomas to work through\n                        //console.log(fields);\n                        // Print URL parameters in the console for Thomas to compare to\n                        //console.log(vm.search);\n                        // Map field keys to OpenURL parameters\n                        const param_map = {\n                            'title': 'rft.title',\n                            'articleTitle': 'rft.atitle',\n                            'journalTitle': 'rft.jtitle',\n                            'title' : 'rft.btitle',\n                            'author': 'rft.au',\n                            'publisher': 'rft.publisher',\n                            'publicationDate': 'rft.pubdate',\n                            'issn' : 'rft.issn',\n                            'isbn' : 'rft.isbn',\n                            'doi' : 'rft.doi',\n                            'startPage' : 'rft.spage',\n                            'endPage' : 'rft.epage',\n                            'edition' : 'rft.edition',\n                            'volume' : 'rft.volume',\n                            'issue' : 'rft.issue',\n                            'pmid' : 'rft.pmid'\n                        }\n                        \n                        // Switch form type if the reference is for a journal article or a book chapter\n                        if (angular.isDefined(vm.search['rft.genre']) && \n                           (vm.search['rft.genre'] == 'article' || (vm.search['rft.genre'] == 'book' && vm.search['rft.atitle'] != '')) ){\n                            request_service.formData['citationType'] = 'CR';\n                            request_service.formData['format'] = 'DIGITAL';\n                            request_service.formFields[2].events.onClick();\n                        }\n                        \n                        // Set each field value in formData\n                        //console.log(request_service.formData);\n                        var openurl_param;\n                        angular.forEach(fields, function(field) {\n                          if (angular.isDefined(param_map[field.key])) {\n                            openurl_param = param_map[field.key];\n                            request_service.formData[field.name] = vm.search[openurl_param];\n                          }\n                        });\n                        \n                        // Deal with special cases\n                        \n                        // Use rft.date if rft.pubdate is empty\n                        if (angular.isDefined(vm.search['rft.date']) && vm.search['rft.date'] != '' && request_service.formData['publicationDate'] == '') {\n                            request_service.formData['publicationDate'] = vm.search['rft.date'];\n                        }\n                        \n                        // Build page range from start and end page\n                        var pages_range = vm.search['rft.spage'];\n                        if (angular.isDefined(vm.search['rft.epage']) && vm.search['rft.epage'] != '') {\n                            pages_range = pages_range + '-' + vm.search['rft.epage'];\n                        }\n                        request_service.formData['pagesToPhotocopy'] = pages_range;\n                        \n                        // Set journal volume if the reference is of type article\n                        if (vm.search['rft.genre'] == 'article'){\n                            request_service.formData['journalVolume'] = vm.search['rft.volume'];\n                        }\n                        \n                        // If rft.au is empty, try building author field from rft.aufirst and rft.aulast\n                        if (!angular.isDefined(vm.search['rft.au']) || vm.search['rft.au'] == '') {\n                            var author = '';\n                            if (angular.isDefined(vm.search['rft.aulast']) && vm.search['rft.aulast'] != '') {\n                                author = vm.search['rft.aulast'];\n                            }\n                            if (angular.isDefined(vm.search['rft.aufirst']) && vm.search['rft.aufirst'] != '') {\n                                author = author + ', ' + vm.search['rft.aufirst'];\n                            }\n                            else if (angular.isDefined(vm.search['rft.auinit']) && vm.search['rft.auinit'] != '') {\n                                author = author + ', ' + vm.search['rft.auinit'];\n                            }\n                            if (author != '') {\n                                request_service.formData['author'] = author;\n                            }\n                        }\n                        \n                        // If it is a book or journal issue add additional details to the comment field\n                        if (angular.isDefined(vm.search['rft.genre']) && (vm.search['rft.genre'] == 'book' || vm.search['rft.genre'] == 'journal') ){\n                            var comment = '';\n                            if (angular.isDefined(vm.search['rft.volume']) && vm.search['rft.volume'] != '') {\n                                comment = 'Vol: ' + vm.search['rft.volume'];\n                            }\n                            if (angular.isDefined(vm.search['rft.issue']) && vm.search['rft.issue'] != '') {\n                                comment = comment + ' N°: ' + vm.search['rft.issue'];\n                            }\n                            if (angular.isDefined(vm.search['rft.part']) && vm.search['rft.part'] != '') {\n                                comment = comment + ' Part: ' + vm.search['rft.part'];\n                            }\n                            if (angular.isDefined(vm.search['rft.doi']) && vm.search['rft.doi'] != '') {\n                                comment = comment + ' DOI: ' + vm.search['rft.doi'];\n                            }\n                            if (comment != '') {\n                                request_service.formData['comment'] = comment;\n                            }\n                        }\n                        \n                        // Add place to publisher field if present\n                        if (angular.isDefined(vm.search['rft.place']) && vm.search['rft.place'] != '' &&\n                            angular.isDefined(vm.search['rft.publisher']) && vm.search['rft.publisher'] != '') {\n                                request_service.formData['publisher'] = vm.search['rft.place'] + ': ' + vm.search['rft.publisher'];\n                        }\n                        \n                        // If the reference is for a whole journal issue, tweak fields to be able to pass on the required information.\n                        if (angular.isDefined(vm.search['rft.genre']) && vm.search['rft.genre'] == 'journal'){\n                            if (angular.isDefined(vm.search['rft.jtitle']) && vm.search['rft.jtitle'] != ''){\n                                request_service.formData['title'] = vm.search['rft.jtitle'];\n                            }\n                            // For whole isues, it's OK if no author is provided\n                            if (request_service.formData['author'] == ''){\n                                request_service.formData['author'] = \"N/A\";\n                            }\n                            // For journal issues, put the ISSN in the ISBN field\n                            if (angular.isDefined(vm.search['rft.issn']) && vm.search['rft.issn'] != ''){\n                                request_service.formData['isbn'] = vm.search['rft.issn'] + ' (ISSN)';\n                            }\n                        }\n                        \n                      }\n                    }\n                  );\n                }\n              }\n        \n    }])\n    .component('prmBlankIllAfter', {\n        bindings: {parentCtrl: `<`},\n        controller: 'unigeIllOpenUrlController',\n        template: ''  \n    });\n","require('./unige-db-categories/unige-db-categories.module.js')\r\nmodule.exports = 'unigeDbCategories'","export const unigeDbCategoriesConfig = {\r\n    // List of subject codes present in 960$$a for online encyclopedias (enc) and reference works (ore).\r\n        // Codes are associated with a term in the databases subject domains. Only codes explicitely defined\r\n        // here will be displayed.\r\n        baseurl : 'search?pfilter=rtype,exact,books,AND&tab=41SLSP_UGE_MyInst_CI&search_scope=MyInst_and_CI&mode=advanced&offset=0&query=any,contains,',\r\n        refcode: {\r\n            'Anthropologie': {\r\n                enc: 'ENC_ANT'\r\n            },\r\n            'Biologie': {\r\n                enc: 'ENC_BIO'\r\n            },\r\n            'Français': {\r\n                enc: 'ENC_FRA',\r\n                ore: 'ORE_FRA'\r\n            },\r\n            'Médecine et santé': {\r\n                ore: 'ORE_MED'\r\n            },\r\n            'Sciences économiques': {\r\n                enc: 'ENC_ECO'\r\n            },\r\n            'Sciences sociales': {\r\n                enc: 'ENC_SOC'\r\n            }\r\n        }\r\n}\r\n","import {unigeDbCategoriesHtml} from './unige-db-categories.template.html';\r\nimport {unigeDbCategoriesConfig} from './unige-db-categories.config.js';\r\n\r\nangular\r\n    .module('unigeDbCategories', [])\r\n    .factory('unigeDbCategoriesConfig', unigeDbCategoriesConfig)\r\n    .controller('unigeDbCategoriesController', ['$scope', '$location', '$translate', function ($scope, $location, $translate) {\r\n        var vm = this;\r\n        this.$onInit = function() {\r\n            \r\n            // Only run on dbsearch page\r\n            if ($location.path().toLowerCase() == '/dbsearch') {\r\n                \r\n                // Fetch display label translations\r\n                var encSearchLabel, oreSearchLabel;\r\n                $translate('unige.databasesearch.enc').then((translation) => {if (angular.isDefined(translation)){encSearchLabel = translation}});\r\n                $translate('unige.databasesearch.ore').then((translation) => {if (angular.isDefined(translation)){oreSearchLabel = translation}});\r\n                \r\n                $scope.$watch(\r\n                    function () {\r\n                        if (angular.isDefined(vm.parentCtrl.dbCategories) && angular.isDefined(vm.parentCtrl.dbCategories.dbcategory[0].path)){\r\n                            // Wait until the dbCategories array has been fully created before going further\r\n                            return vm.parentCtrl.dbCategories.dbcategory;\r\n                        }\r\n                        return 0;\r\n                    },\r\n                    function () {\r\n                        // This listener function is called both during initial run and whenever the watched variable changes.\r\n                        if (angular.isDefined(vm.parentCtrl.dbCategories)){\r\n                            // Load list of reference work codes\r\n                            let dbRefCodes = unigeDbCategoriesConfig.refcode;\r\n                            let dbRefSearchUrl = unigeDbCategoriesConfig.baseurl;\r\n                            let currentViewId = vm.parentCtrl.$stateParams.vid;\r\n                            vm.parentCtrl.dbOverrideCategories = [];                   \r\n                            let baseUrl = $location.$$absUrl.replace(/^(.*)query=[^&]*(\\&.*databases=).*/, \"$1query=contains,dbcategory$2\");\r\n                            let currentSelection = vm.parentCtrl.dbParamArray;\r\n                            vm.parentCtrl.dbCategories.dbcategory.forEach( (originalCategory) => {\r\n                                \r\n                                    let newMenuEntry = new Object();\r\n                                    newMenuEntry.link = baseUrl + 'category,' + originalCategory.path;\r\n                                    if (angular.isDefined(originalCategory.displayValue)){\r\n                                        newMenuEntry.term = originalCategory.displayValue;\r\n                                    }\r\n                                    else {\r\n                                        newMenuEntry.term = originalCategory.name;\r\n                                    }\r\n                                    if (originalCategory.name === currentSelection[0]){\r\n                                        newMenuEntry.selected = 'selected';\r\n                                    }\r\n                                    newMenuEntry.subcategories = [];\r\n                                    \r\n                                    // Check if reference works codes were defined for this topic. If yes, display them.\r\n                                    let refWorksLinks = dbRefCodes[originalCategory.name];\r\n                                    if(angular.isDefined(refWorksLinks)){\r\n                                        if(angular.isDefined(refWorksLinks.enc)){\r\n                                            newMenuEntry.subcategories.push({\r\n                                                term:encSearchLabel,link:dbRefSearchUrl + refWorksLinks.enc + ',AND&vid=' + currentViewId\r\n                                            });\r\n                                        }\r\n                                        if(angular.isDefined(refWorksLinks.ore)){\r\n                                            newMenuEntry.subcategories.push({\r\n                                                term:oreSearchLabel,link:dbRefSearchUrl + refWorksLinks.ore + ',AND&vid=' + currentViewId\r\n                                            });\r\n                                        }\r\n                                    }\r\n                                \r\n                                    // Add any subcategories if present\r\n                                    if (originalCategory.dbcategories[0].dbcategory.length > 0){\r\n                                        originalCategory.dbcategories[0].dbcategory.forEach( (subCategory) => {\r\n                                            let newSubMenuEntry = new Object();\r\n                                            if (angular.isDefined(subCategory.path)){\r\n                                                newSubMenuEntry.link = baseUrl + 'category,' + subCategory.path;\r\n                                            }\r\n                                            else {\r\n                                                newSubMenuEntry.link = baseUrl + 'category,' + originalCategory.name + '─' + subCategory.name;\r\n                                            }\r\n                                            if (angular.isDefined(subCategory.displayValue)){\r\n                                                newSubMenuEntry.term = subCategory.displayValue;\r\n                                            }\r\n                                            else {\r\n                                                newSubMenuEntry.term = subCategory.name;\r\n                                            }\r\n                                            if (subCategory.name === currentSelection[1]){\r\n                                                newSubMenuEntry.selected = 'selected';\r\n                                            }\r\n                                            newMenuEntry.subcategories.push(newSubMenuEntry);\r\n                                        })\r\n                                    }\r\n                                    vm.parentCtrl.dbOverrideCategories.push(newMenuEntry);\r\n                                    \r\n                            });\r\n                            // Remove original categories menu\r\n                            document.getElementById('stickyDB').remove();\r\n                        }\r\n                    }\r\n                );\r\n            }\r\n        }\r\n    }])\r\n    .component('prmDatabasesCategorizeAfter', {\r\n        bindings: {parentCtrl: `<`},\r\n        controller: 'unigeDbCategoriesController',\r\n        template: unigeDbCategoriesHtml\r\n    });","import { slspClosedFinesBarModule } from './slsp-closed-fines-bar/slsp-closed-fines-bar.module';\n\nexport const prmFinesAfterModule = angular\n    .module('prmFinesAfterModule', [])\n    .component('prmFinesAfter', {\n        bindings: { parentCtrl: '<' },\n        template: `\n            <slsp-closed-fines-bar-component after-ctrl=\"$ctrl\"></slsp-closed-fines-bar-component>\n            <slsp-fines-after parent-ctrl=\"$parent.$ctrl\"></<slsp-fines-after>`\n    });\n\n\nprmFinesAfterModule.requires.push(slspClosedFinesBarModule.name);","//-----------------RapidoHideLibrary------------------------------\n\nexport class slspClosedFinesBarController {\n    constructor($scope) {\n        this.$scope = $scope;\n        this.showClosedFines = false; // Variable für Anzeige-Status hinzufügen\n    }\n\n    $onInit() {\n        try {\n            this.parentCtrl = this.afterCtrl.parentCtrl;\n            //console.log(this.parentCtrl);\n        } catch (e) {\n            console.error(\"***SLSP*** an error occurred: RequestCancelButton \\n\\n\");\n            console.error(e.message);\n        }\n    }\n\n    $doCheck() {\n        if (this.parentCtrl.finesTypeDropDownSelection === 'closed' || this.parentCtrl.finesTypeDropDownSelection === 'all') {\n            const currentFinesArray = this.parentCtrl.totalNumOfFines;\n            if (angular.isArray(currentFinesArray) && currentFinesArray.length > 0) {\n                let hasClosedFines = false; // Variable für geschlossene Fines hinzufügen\n                angular.forEach(currentFinesArray, (fine) => {\n                    if (fine.fineType === 'CLOSED') {\n                        hasClosedFines = true; // Geschlossene Fines vorhanden\n                    }\n                });\n                this.showClosedFines = hasClosedFines; // Anzeige-Status aktualisieren\n            } else {\n                this.showClosedFines = false; // Keine Fines vorhanden\n            }\n        } else {\n            this.showClosedFines = false; // Dropdown-Auswahl entspricht nicht 'closed' oder 'all'\n        }\n    }\n}\n\nslspClosedFinesBarController.$inject = ['$scope'];\n\n// ng-if=\"$ctrl.isFinesFeatureFlagEnabled && $ctrl.finesTypeDropDownSelection === 'active' && $ctrl.numOfTransferredFines && !$ctrl.isLoadingFines\" ","import { slspClosedFinesBarController } from './slsp-closed-fines-bar.controller';\nimport { slspClosedFinesBarHtml } from './slsp-closed-fines-bar.html';\n\n\nexport const slspClosedFinesBarModule = angular\n    .module('slspClosedFinesBarModule', [])\n    .controller('slspClosedFinesBarController', slspClosedFinesBarController)\n    .component('slspClosedFinesBarComponent', {\n        bindings: { afterCtrl: '<' },\n        controller: 'slspClosedFinesBarController',\n        template: slspClosedFinesBarHtml\n    })","\nimport {slspIconLabelModule} from './slsp-icon-label/slsp-icon-label.module';\n\nexport const prmFullViewAfterModule = angular\n    .module('prmFullViewAfterModule', [])\n        .component('prmFullViewAfter',  {\n            bindings: {parentCtrl: '<'},\n            template: `<slsp-icon-label-component after-ctrl=\"$ctrl\"></slsp-icon-label-component><slsp-full-view-after parent-ctrl=\"$parent.$ctrl\"></slsp-full-view-after>`\n        });\n\n        prmFullViewAfterModule.requires.push(slspIconLabelModule.name);\n","//--------slspIconLabel ---------------------------------------\n\n\nexport class slspIconLabelController {\n\n    constructor($scope, $compile, $timeout) {\n        this.$scope = $scope;\n        this.$compile = $compile;\n        this.$timeout = $timeout;\n    }\n\n\n\n    $onInit() {\n        try {\n            this.$timeout(() => {\n                this.parentCtrl = this.afterCtrl.parentCtrl;\n\n                //console.log(this.parentCtrl.$scope.$ctrl.fullViewService)\n\n                // this.iconLabel3 = iconLabel3 ;\n                // let iconLabel3 = document.querySelectorAll('#getit_link1_0 > div > prm-full-view-service-container > div.section-body > div > prm-alma-viewit > prm-alma-viewit-items > md-list');\n                // let html3 = `<div class=\"icnWrp\"><div class=\"iconDiv\"><svg xmlns=\"http://www.w3.org/2000/svg\" id=\"Ebene_2\" width=\"100%\" height=\"100%\" viewBox=\"0 0 185 185\"><g id=\"System_icons\"><g><rect width=\"185\" height=\"185\" fill=\"none\" opacity=\".2\"/><g id=\"Outline_Icons\"><g><path d=\"M155.98,92.26c0,35.19-28.5,63.72-63.66,63.72-35.16,0-63.3-29.68-63.3-64.87S55.9,30.44,89.77,29.08c.92-.04,1.83-.06,2.76-.06,35.16,0,63.45,28.05,63.45,63.24Z\" fill=\"none\" stroke=\"#000\" stroke-linejoin=\"round\" stroke-width=\"6\"/><path d=\"M89.77,29.08c-33.12,35.88-33.12,82.69,0,126.85\" fill=\"none\" stroke=\"#000\" stroke-linejoin=\"round\" stroke-width=\"6\"/><path d=\"M95.29,29.08c33.12,35.88,33.12,82.67,0,126.83\" fill=\"none\" stroke=\"#000\" stroke-linejoin=\"round\" stroke-width=\"6\"/><line x1=\"39.43\" y1=\"56.62\" x2=\"145.06\" y2=\"56.62\" fill=\"none\" stroke=\"#000\" stroke-linejoin=\"round\" stroke-width=\"6\"/><line x1=\"29.04\" y1=\"89.74\" x2=\"155.98\" y2=\"89.74\" fill=\"none\" stroke=\"#000\" stroke-linejoin=\"round\" stroke-width=\"6\"/><line x1=\"37.22\" y1=\"122.86\" x2=\"148.17\" y2=\"122.86\" fill=\"none\" stroke=\"#000\" stroke-linejoin=\"round\" stroke-width=\"6\"/></g></g></g></g></svg></div><div class=\"iconLabel\">online</div></div>`;\n\n                //     angular.element(iconLabel3).prepend(this.$compile(html3)(this.$scope)).addClass('icnLbl3');\n\n\n                //     this.iconLabel4 = iconLabel4 ;\n                //     let iconLabel4 = document.querySelectorAll('md-content > prm-location-items > md-list');\n\n                //     let html4 = `<div class=\"icnWrp><div class=\"iconDiv4\"></div><div class=\"iconLabel\">pickup</div></div>`;\n\n                //         angular.element(iconLabel4).prepend(this.$compile(html4)(this.$scope)).addClass('icnLbl3');\n\n                // this.iconLabel5 = iconLabel5 ;\n                // let iconLabel5 = document.querySelectorAll('md-content > prm-locations > div.padding-left-medium > md-list:nth-child(1)');\n\n                // let html5 = `<div class=\"icnWrp\"><div class=\"iconDiv5\"></div><div class=\"iconLabel\">pickup2</div></div>`;\n\n                //     angular.element(iconLabel5).prepend(this.$compile(html5)(this.$scope)).addClass('icnLbl3');\n\n\n            }, 1000);\n        } catch (e) {\n            console.error(\"***SLSP*** an error occured: Rapido \\n\\n\");\n            console.error(e.message);\n        }\n    }\n\n}\n\nslspIconLabelController.$inject = ['$scope', '$compile', '$timeout'];","\n    import {slspIconLabelController} from './slsp-icon-label.controller';\n    import {slspIconLabelHtml} from './slsp-icon-label.html';\n\n    export const slspIconLabelModule = angular\n        .module('slspIconLabelModule', [])\n            .controller('slspIconLabelController', slspIconLabelController)\n            .component('slspIconLabelComponent', {\n                bindings: {afterCtrl: '<'},\n                controller: 'slspIconLabelController',\n                template: slspIconLabelHtml\n            })","export class slspHideRapidoLoanLinkController {\n    constructor($element) {\n        this.itemType = null;\n        this.itemBarcode = null;\n        this.hideTitle = false;\n        this.$element = $element;\n    }\n\n    $onInit() {\n        try {\n            this.parentCtrl = this.afterCtrl.parentCtrl;\n            this.itemBarcode = this.parentCtrl.item.itembarcode;\n            this.itemType = this.parentCtrl.loansService.requestParams.type;\n\n            if (this.itemType !== 'active' && (this.itemBarcode.includes(\"RAPIDO\") || this.itemBarcode.includes(\"41SLSP\"))) {\n                this.setTitle = setTitle;\n\n                function setTitle() {\n                    return this.parentCtrl.item.title;\n                }\n\n                this.hideTitle = true;\n\n                // Hinzufügen der hide-title Klasse zum Großelternelement prm-loan\n                this.$element.parent().parent().addClass('hide-title');\n\n                //console.log(this.$element.parent().parent())\n            }\n        } catch (e) {\n            console.error(\"***SLSP*** an error occured: slspHideRapidoLoanLinkController\\n\\n\");\n            console.error(e.message);\n        }\n    }\n}\nslspHideRapidoLoanLinkController.$inject = ['$element'];","import { slspHideRapidoLoanLinkController } from './slsp-hide-rapido-loan-link.controller';\nimport { slspHideRapidoLoanLinkHtml } from './slsp-hide-rapido-loan-link.html';\n\nexport const slspHideRapidoLoanLinkModule = angular\n    .module('slspHideRapidoLoanLinkModule', [])\n    .controller('slspHideRapidoLoanLinkController', slspHideRapidoLoanLinkController)\n    .component('slspHideRapidoLoanLinkComponent', {\n        bindings: { afterCtrl: '<' },\n        controller: 'slspHideRapidoLoanLinkController',\n        template: slspHideRapidoLoanLinkHtml\n    })","import { slspRenewItemTextModule } from './slsp-renew-item-text/slsp-renew-item-text.module';\nimport { slspHideRapidoLoanLinkModule } from './slsp-hide-rapido-loan-link/slsp-hide-rapido-loan-link.module';\n\n\nexport const slspLoanAfterModule = angular\n    .module('slspLoanAfterModule', [])\n    .component('prmLoanAfter', {\n        bindings: { parentCtrl: '<' },\n        template: `\n            <slsp-renew-item-text-component after-ctrl=\"$ctrl\"></slsp-renew-item-text-component>\n            <slsp-hide-rapido-loan-link-component after-ctrl=\"$ctrl\"></slsp-hide-rapido-loan-link-component>\n            <slsp-loan-after parent-ctrl=\"$parent.$ctrl\"></slsp-loan-after>`\n    });\n\nslspLoanAfterModule.requires.push(slspRenewItemTextModule.name);\nslspLoanAfterModule.requires.push(slspHideRapidoLoanLinkModule.name);","//--------Renewstatus display of loan items ---------------------------------------\n\nexport class slspRenewItemTextController {\n\n    constructor() {\n\n    }\n\n    $onInit() {\n        try {\n            this.parentCtrl = this.afterCtrl.parentCtrl;\n            this.getRenewText = getRenewText;\n\n            function getRenewText() {\n                if (this.parentCtrl.item.renewstatuses !== undefined && this.parentCtrl.item.renewstatuses.renewstatus[0] !== undefined) {\n                    return this.parentCtrl.item.renewstatuses.renewstatus[0];\n                } else {\n                    return\n                }\n\n            }\n\n            \n        } catch (e) {\n            console.error(\"***SLSP*** an error occured: slspRenewItemTextController\\n\\n\");\n            console.error(e.message);\n        }\n    }\n}\n\nslspRenewItemTextController.$inject = [];","\n\n\n\n\n    import {slspRenewItemTextController} from './slsp-renew-item-text.controller';\n    import {slspRenewItemTextHtml} from './slsp-renew-item-text.html';\n\n    export const slspRenewItemTextModule = angular\n        .module('slspRenewItemTextModule', [])\n            .controller('slspRenewItemTextController', slspRenewItemTextController)\n            .component('slspRenewItemTextComponent', {\n                bindings: {afterCtrl: '<'},\n                controller: 'slspRenewItemTextController',\n                template: slspRenewItemTextHtml\n            })","import { slspIButtonModule } from './slsp-i-button/slsp-i-button.module';\nimport {usiLocationOpenCloseModule} from './usi-location-open-close/usi-location-open-close.module';\n\n\nexport const prmLocationHoldingsAfterModule = angular\n    .module('prmLocationHoldingsAfterModule', [])\n    .component('prmLocationHoldingsAfter', {\n        bindings: { parentCtrl: '<' },\n        template: `\n\t\t\n        <slsp-i-button-component after-ctrl=\"$ctrl\"></slsp-i-button-component>\n        <usi-location-open-close-component after-ctrl=\"$ctrl\"></usi-location-open-close-component>\n        <slsp-location-holdings-after parent-ctrl=\"$parent.$ctrl\"></slsp-location-holdings-after>\n        \n\t\t`\n    });\n\n\nprmLocationHoldingsAfterModule.requires.push(slspIButtonModule.name);\nprmLocationHoldingsAfterModule.requires.push(usiLocationOpenCloseModule.name);","export class slspIButtonController {\n\n    constructor($scope, $rootScope) {\n        this.$scope = $scope;\n\n        this.$rootScope = $rootScope;\n\n        this.biblinkBase = \"https:\\/\\/registration.slsp.ch\\/libraries\\/\\?library\\=\";\n    }\n\n    $onInit() {\n        this.parentCtrl = this.afterCtrl.parentCtrl;\n        this.getLibrary = this.getLibrary.bind(this);\n        this.getLibraryCode = this.getLibraryCode.bind(this);\n        this.getLanguage = this.getLanguage.bind(this);\n    }\n\n    getLibrary() {\n        if (this.parentCtrl.currLoc !== undefined && this.parentCtrl.currLoc.location !== undefined) {\n            return this.parentCtrl.currLoc.location.librarycodeTranslation;\n        } else {\n            return;\n        }\n    }\n\n    getLibraryCode() {\n        if (this.parentCtrl.currLoc !== undefined && this.parentCtrl.currLoc.location !== undefined) {\n            return this.parentCtrl.currLoc.location.libraryCode;\n        } else {\n            return;\n        }\n    }\n\n    getLanguage() {\n\n        let sms = this.$rootScope.$$childHead.$ctrl.userSessionManagerService;\n        if (!sms) {\n            return 'en';\n        } else {\n            return sms.getUserLanguage() || $window.appConfig['primo-view']['attributes-map'].interfaceLanguage;\n        }\n    }\n\n    specialInfoBox() {\n        let addSpecialInfoClass = document.querySelectorAll(\"prm-location-items\");\n        angular.element(addSpecialInfoClass).addClass('special-library-info');\n    }\n\n}\n\nslspIButtonController.$inject = ['$scope', '$rootScope'];","    import { slspIButtonController } from './slsp-i-button.controller';\n    import { slspIButtonHtml } from './slsp-i-button.html';\n\n\n    export const slspIButtonModule = angular\n        .module('slspIButtonModule', [])\n        .controller('slspIButtonController', slspIButtonController)\n        .component('slspIButtonComponent', {\n            bindings: { afterCtrl: '<' },\n            controller: 'slspIButtonController',\n            template: slspIButtonHtml\n        })","export const usiLocationOpenCloseConfig = function(){\n    return {\n        closedLocations: ['610110000', '610110004', '610110006', '610130000', '610130005', '610130006', '610130007', '610130008', '610130009', '610130011', '610130013', '610130014', '610130015', '610150000', '610150003', '610150007', '610150008', '610150009', '610200000', '610200002', '610200007', '610200014', '610200019', '610200021', '610300000', '610300001', '610300002', '610300004', '610300005', '610300006', '610300007', '610300010', '610300011', '610300012', '610310003', '610310005', '610320002', '610330002', '610340001', '610360003', '610390014', '610390023', '610390026', '610390028', '610390029', '610400000', '610400002', '610400003', '610400010', '610430004', '610440007', '610700000', '610760001', '610760002', '610760003', '610760004', '610760005', '610760006', '610760007', '610760008', '610760009', '610760010', '610760011', '610770003', '610770004', '610800000', '610800001', '610800002', '610800003', '610800004', '610800005', '610800010', '610800011', '610800012', '610800013', '610800014', '610800015', '610800016', '610800017', '610800020', '610800021', '610800022', '610800023', '610800024', '610800025', '610800026', '610800027'],\n        libraryId: '41SLSP_UGE'\n    }\n}","export class usiLocationOpenCloseController {\n\n    constructor( ethConfigService, usiLocationOpenCloseConfig, $scope) {\n        //console.log(\"***USI*** usiLocationOpenCloseController.constructor\\n\\n\");\n        this.usilocation = {};\n        this.ethConfigService = ethConfigService;\n        this.config = usiLocationOpenCloseConfig;\n        this.$scope = $scope;\n    }\n    \n    $onInit(){\n        \n        //console.log(\"***USI*** usiLocationOpenCloseController.$onInit\\n\\n\");\n        var vm = this;\n        \n        this.$scope.$watch(\n            function () {\n                if (angular.isDefined(vm.afterCtrl) && angular.isDefined(vm.afterCtrl.parentCtrl.currLoc)) {\n                    // As soon as there are location details, watch for changes in the list of location items\n                    \n                    return vm.afterCtrl.parentCtrl.currLoc;\n                }\n                return 0;\n            },\n            function () {\n                // This listener function is called both during initial run and whenever the watched variable changes.\n\n                if (angular.isDefined(vm.afterCtrl.parentCtrl.currLoc)){\n                    // Prevent the listener from running when the locations list hasn't been defined yet (initial run)\n\n                    \n                    if ( typeof vm.afterCtrl.parentCtrl.currLoc === \"undefined\" ) {\n                        return;\n                    }\n                    try {\n                        vm.usilocation.isopen = (vm.config.closedLocations.includes( vm.afterCtrl.parentCtrl.currLoc.location.subLocationCode ) ) ? false : true;\n                        vm.usilocation.isuge = ( vm.afterCtrl.parentCtrl.currLoc.location.organization == vm.config.libraryId ) ? true : false;\n                    }\n                    catch (e) {\n                        console.error(\"***USI*** an error occured: usiLocationOpenCloseController.$onInit\\n\\n\");\n                        console.error(e.message);\n                        throw(e)\n                    }\n                }\n             }   \n        );\n    }\n}\n\nusiLocationOpenCloseController.$inject = [ 'ethConfigService', 'usiLocationOpenCloseConfig', '$scope'];","import {usiLocationOpenCloseConfig} from './usi-location-open-close.config';\nimport {usiLocationOpenCloseController} from './usi-location-open-close.controller';\nimport {usiLocationOpenCloseHtml} from './usi-location-open-close.html';\nimport {ethConfigService} from '../../services/eth-config.service';\n\nexport const usiLocationOpenCloseModule = angular\n    .module('usiLocationOpenCloseModule', [])\n        .factory('ethConfigService', ethConfigService)\n        .factory('usiLocationOpenCloseConfig', usiLocationOpenCloseConfig)\n        .controller('usiLocationOpenCloseController', usiLocationOpenCloseController)\n        .component('usiLocationOpenCloseComponent',{\n            controller: 'usiLocationOpenCloseController',\n            bindings: {afterCtrl: '<'},\n            template: usiLocationOpenCloseHtml\n        })\n\n","import { ethMapongoCheckModule } from './eth-mapongo/eth-mapongo-check.module';\nimport { ethMapongoModule } from './eth-mapongo/eth-mapongo.module';\nimport { slspIconLabelLocationItemsModule } from './slsp-icon-label-location-items/slsp-icon-label-location-items.module';\n\n\nexport const ethLocationItemsAfterModule = angular\n    .module('ethLocationItemsAfterModule', [])\n    .component('prmLocationItemsAfter', {\n        bindings: { parentCtrl: '<' },\n        template: `\n\t\t<eth-mapongo-check after-ctrl=\"$ctrl\"></eth-mapongo-check>\n        <slsp-icon-label-location-items-component after-ctrl=\"$ctrl\"></slsp-icon-label-location-items-component>\n        <slsp-location-items-after parent-ctrl=\"$parent.$ctrl\"></slsp-location-items-after>\n        \n\t\t`\n    });\n\nethLocationItemsAfterModule.requires.push(ethMapongoCheckModule.name);\nethLocationItemsAfterModule.requires.push(ethMapongoModule.name);\nethLocationItemsAfterModule.requires.push(slspIconLabelLocationItemsModule.name);","/**\n* @ngdoc service\n* @key ethConfigService\n*\n* @description\n*\n* Service to get and handle informations from a module config:\n* - getLabel()\n* - getUrl()\n* - getLanguage()\n*\n */\nexport const ethConfigService = ['$rootScope', function( $rootScope ){\n\n    function getLanguage(){\n        try{\n            let sms = $rootScope.$$childHead.$ctrl.userSessionManagerService;\n            if (!sms) {\n                console.error(\"***ETH*** ethConfigService: userSessionManagerService not available\");\n                return 'en';\n            }\n            else{\n                return sms.getUserLanguage() || $window.appConfig['primo-view']['attributes-map'].interfaceLanguage;\n            }\n        }\n        catch(e){\n            console.error(\"***ETH*** an error occured: ethConfigService.getLanguage():\");\n            console.error(e.message);\n            return 'en';\n        }\n    }\n\n\n    function getLabel(config, key) {\n        try{\n            let lang = this.getLanguage();\n            if (!config.label[key]) {\n                console.error(\"***ETH*** ethConfigService.getLabel: '\" + key + \"' not in config\");\n                return key;\n            }\n            if(config.label[key][lang]){\n                return config.label[key][lang];\n            }\n            else{\n                return config.label[key]['en'];\n            }\n        }\n        catch(e){\n            console.error(\"***ETH*** an error occured: ethConfigService.getLabel():\");\n            console.error(e.message);\n            return '';\n        }\n    }\n\n    function getUrl(config, key) {\n        try{\n            let lang = this.getLanguage();\n            if (!config.url[key]) {\n                console.error(\"***ETH*** ethConfigService.getUrl: '\" + key + \"' not in config\");\n                return '';\n            }\n            if(config.url[key][lang]){\n                return config.url[key][lang];\n            }\n            else{\n                return config.url[key]['en'];\n            }\n        }\n        catch(e){\n            console.error(\"***ETH*** an error occured: ethConfigService.getUrl():\");\n            console.error(e.message);\n            return '';\n        }\n    }\n\n    return {\n        getLanguage: getLanguage,\n        getLabel: getLabel,\n        getUrl: getUrl\n    };\n}]\n","export class ethMapongoCheckController {\n\n    constructor( $scope, $compile, $element, ethMapongoLibrariesService ) {\n        this.$scope = $scope;\n        this.$compile = $compile;\n        this.$element = $element;\n        this.ethMapongoLibrariesService = ethMapongoLibrariesService;\n        this.isMapongoLibrary = true;\n        this.noLocationItemAfter = 0;\n     }\n\n    $onInit() {\n        this.parentCtrl = this.afterCtrl.parentCtrl;\n    }\n\n    $doCheck() {\n        try{\n            // are location item elements loaded and rendered? Or \"show more items\" pushed?\n            let locationItemAfter = this.$element[0].parentElement.parentElement.getElementsByTagName('prm-location-item-after');\n            let noLocationItemAfter = locationItemAfter.length;\n            if(noLocationItemAfter <= this.noLocationItemAfter){\n                return;\n            }\n            this.noLocationItemAfter = noLocationItemAfter;\n\n            // mapongo library?\n            if(!this.isMapongoLibrary)return;\n            if (!this.ethMapongoLibrariesService.isMapongoLibrary(this.parentCtrl.loc.location.libraryCode)) {\n                this.isMapongoLibrary = false;\n                return;\n            }\n\n            // array of html collection prm-location-item-after\n            let aPrmLocationItemAfter = [].slice.call(locationItemAfter);\n            this.recordid = this.parentCtrl.item.pnx.control.sourcerecordid[0];\n\n            // iterate items of a location (Exemplare), get reference to after directive of location-item and inject eth-mapongo-directive\n            for(let i = 0; i < this.parentCtrl.loc.items.length; i++){\n                if(i >= aPrmLocationItemAfter.length){\n                    // more items than initially rendered\n                    return;\n                }\n\n                let item = this.parentCtrl.loc.items[i];\n                let prmLocationItemAfter = aPrmLocationItemAfter[i];\n\n                // is mapongo directive already injected?\n                let ethMapongo = prmLocationItemAfter.querySelector('eth-mapongo');\n                if(!!ethMapongo){\n                    continue;\n                }\n\n                if (!this.ethMapongoLibrariesService.isMapongoSubLocation(this.parentCtrl.loc.location.libraryCode, item._additionalData.secondarylocationname)) {\n                    continue;\n                }\n\t\t\t\t\n                if(!this.ethMapongoLibrariesService.isAvailable(item._additionalData.itemstatusname)){\n                    continue;\n                }\n\t\t\t\t\n\n                this.subLocationCode = this.ethMapongoLibrariesService.getSubLocationCode(this.parentCtrl.loc.location.libraryCode, item._additionalData.secondarylocationname);\n                this.callnumber = item._additionalData.callnumber;\n                let addCallnumberEntry = item.fullItemFields.filter(function(e) {return e.indexOf(\"Zusätzliche Signatur:\") > -1 || e.indexOf(\"Additional call number:\") > -1;} );\n                this.addCallnumber = \"\";\n                if (addCallnumberEntry.length > 0) {\n                    this.addCallnumber = addCallnumberEntry[0].replace(\"Zusätzliche Signatur: \",\"\").replace(\"Additional call number: \",\"\");\n                }\n                if(this.addCallnumber != \"\"){\n                    // todo: is it always correct to use 'Additional call number' if it exists?\n                    this.callnumber = this.addCallnumber;\n                }\n\n                let barcodeEntry = item.fullItemFields.filter(function(e) {return e.indexOf(\"Barcode:\") > -1 || e.indexOf(\"Strichcode:\") > -1;} );\n                this.barcode = \"\";\n                if (barcodeEntry.length > 0) {\n                    this.barcode = barcodeEntry[0].replace(\"Barcode: \",\"\").replace(\"Strichcode: \",\"\");\n                }\n\t\t\t\t\n                // inject eth-mapongo element (handled by eth-mapongo.module)\n                angular.element(prmLocationItemAfter).append(this.$compile('<eth-mapongo after-ctrl=\"$ctrl\" class=\"eth-mapongo-container\" recordid=\"' + this.recordid + '\" barcode=\"' + this.barcode + '\" callnumber=\"' + this.callnumber + '\" sublocation=\"' + this.subLocationCode + '\"parent-ctrl=\"$ctrl.parentCtrl\"></eth-mapongo>')(this.$scope));\n            }\n        }\n        catch(e){\n            console.error(\"***ETH*** ethMapongoCheckController.$doCheck:\");\n            console.error(e.message);\n        }\n\n    }\n}\n\nethMapongoCheckController.$inject = [ '$scope', '$compile', '$element', 'ethMapongoLibrariesService'];\n","/**\n* @ngdoc module\n* @name ethMapongoCheckModule\n*\n* @description\n* checks if mapongo should be injected\n* - checks if the current library and location (Standort) are registered for Mapongo\n* - checks the item status\n* - may inject an eth-mapongo directive and specific attributes for it in prm-location-item-after (handled by eth-mapongo.module.js)\n*\n* A prm controller works only for prmLocationItems. There is no prmLocationItem controller\n* $ctrl in prmLocationItemAfter is a reference to prmLocationItems Controller\n*\n* If there is 1 location: prmLocationItemsAfter\n*\n* If there are multiple locations: prmLocationAfter;\n* after all locations: prmLocationsAfter;\n* after choosing a location: prmLocationItemsAfter\n*\n*\n* <b>AngularJS Dependencies</b><br>\n* Service {@link ETH.ethMapongoLibrariesService}<br>\n*\n*\n* <b>CSS/Image Dependencies</b><br>\n*\n*\n* @example\n* ZHAW MMS IDs: 991128155109705501, 990013732410205503; 2 Exemplare: 990058665580205503; 5 Exemplare: 991129451879705501\n*\n*/\nimport {ethMapongoLibrariesService} from './eth-mapongo-libraries.service';\nimport {ethMapongoCheckController} from './eth-mapongo-check.controller';\n\nexport const ethMapongoCheckModule = angular\n    .module('ethMapongoCheckModule', [])\n        .factory('ethMapongoLibrariesService', ethMapongoLibrariesService)\n        .controller('ethMapongoCheckController', ethMapongoCheckController)\n        .component('ethMapongoCheck', {\n            bindings: {afterCtrl: '<'},\n            controller: 'ethMapongoCheckController'\n        })\n","/**\n* @ngdoc service\n* @name ethMapongoLibrariesService\n*\n* @description\n*\n* Holds informations about the libraries which use mapongo\n*\n*\n* <b>Used by</b><br>\n*\n* Module {@link ETH.ethMapongoModule}<br>\n*\n*\n */\nexport const ethMapongoLibrariesService = [function(){\n    // todo: are the locations correct and complete?\n    const libraries = [\n            {\n                    \"shortname\": \"ZHdK-MIZ\",\n                    \"name\": \"ZHdK-MIZ\",\n                    \"libraryCode\": \"E65\",\n                    \"baseUrl\": \"https://zhdk.mapongo.de\",\n                    \"locationCodeWhiteList\": [\"E65G1\",\"E65G2\",\"E65E1\",\"E65U1\",\"E65U4\"],\n                    \"locationWhiteList\": [\"Galeriegeschoss\",\"Galeriegeschoss\",\"Eingangsgeschoss\",\"Untergeschoss\",\"Untergeschoss Curating Degree Zero Archive\"]\n            },\n            {\n                    \"shortname\": \"ZHAW-HSB-ZH\",\n                    \"name\": \"ZHAW Hochschulbibliothek Zürich\",\n                    \"libraryCode\": \"E97\",\n                    \"baseUrl\": \"https://zhdk.mapongo.de\",\n                    \"locationCodeWhiteList\": [\"E97E1\"],\n                    \"locationWhiteList\": [\"Eingangsgeschoss\"]\n            },\n            {\n                    \"shortname\": \"ZHAW-HSB-WIN\",\n                    \"name\": \"ZHAW Hochschulbibliothek Winterthur\",\n                    \"libraryCode\": \"E51\",\n                    \"baseUrl\": \"https://zhaw.mapongo.de\",\n                    \"locationCodeWhiteList\": [\"E51BA\",\"E51B0\",\"E51B9\",\"E51B2\",\"E51B8\",\"E51BN\",\"E51BL\",\"E51BG\",\"E51BT\",\"E51BB\",\"E51BW\",\"E51BA\",\"E51BK\",\"E51BR\"],\n                    \"locationWhiteList\": [\"Architektur und Bau - 1. ZG\",\"Neuerwerbungen - EG\",\"Handapparate - EG\",\"Compactus, offen - EG\",\"Zeitschriften - EG\",\"Allgemeines und Nachschlagewerke - EG\",\"Angewandte Linguistik - EG\",\"Gesundheit und Medizin - EG\",\"Technik und Naturwissenschaften - 1. ZG\",\"Wissenschaft und Bildung - EG\",\"Wirtschaft und Management - 1. ZG\",\"Architektur und Bau - 1. ZG\",\"Kunst und Unterhaltung - EG\",\"Recht und Politik - 2. ZG\"]\n            },\n            {\n                    \"shortname\": \"PHZH\",\n                    \"name\": \"PH Zürich, Bibliothek\",\n                    \"libraryCode\": \"UPHZH\",\n                    \"baseUrl\": \"https://phzh.mapongo.de\",\n                    \"locationCodeWhiteList\": [\"ULFHF\",\"ULFHG\",\"ULFHN\",\"ULFHS\"],\n                    \"locationWhiteList\": [\"Stockwerk F - frei zugänglich\",\"Stockwerk G - frei zugänglich\", \"Stockwerk H Nord - frei zugänglich\",\"Stockwerk H Süd - frei zugänglich\"]\n            },\n            {\n                    \"shortname\": \"HGK-MED\",\n                    \"name\": \"FHNW HGK-Mediathek Basel\",\n                    \"libraryCode\": \"E75\",\n                    \"baseUrl\":\"https://mediathek.hgk.fhnw.ch/nebis\",\n                    \"locationCodeWhiteList\": [\"HAP\",\"E75BI\",\"E75AC\",\"E75MA\",\"E75VS\"],\n\t\t            \"locationWhiteList\":[\"Handapparat\",\"Mediathek\",\"Archiv\",\"Magazin\",\"Verschiedene Standorte\"]\n            },\n            {\n                    \"shortname\": \"HGK-MED\",\n                    \"name\": \"FHNW Campus Muttenz Bibliothek\",\n                    \"libraryCode\": \"E44\",\n                    \"baseUrl\":\"https://fhnw-cmu.mapongo.de\",\n                    \"locationCodeWhiteList\": [\"E44TE\",\"E44BI\",\"E44MG\",\"E44VS\"],\n                    \"locationWhiteList\":[\"Ausleihe auf Anfrage, bitte Bibliothek kontaktieren\",\"Bibliothek\",\"Magazin: Nicht frei zugänglich, zur Abholung bestellen\",\"Verschiedene Standorte\"]\n            }\n    ];\n\n    // todo: are the statuses correct and complete?\n    const availabilityStatus = ['Exemplar ist vorhanden', 'Item in place', 'Exemplaire en rayon', 'Copia in posizione'];\n\n    function getMapongoLibrary(libraryCode){\n      let filterLibraries = libraries.filter( l => {return l.libraryCode === libraryCode;} );\n      if (filterLibraries.length > 0)\n          return filterLibraries[0];\n      else\n          return null;\n    }\n\n    function isMapongoLibrary(libraryCode){\n      let filterLibraries = libraries.filter( l => {return l.libraryCode === libraryCode} );\n      if (filterLibraries.length > 0)return true;\n      else return false;\n    }\n\n    function isMapongoSubLocation(libraryCode, subLocation){\n      let filterLibraries = libraries.filter( l => {return l.libraryCode === libraryCode && l.locationWhiteList.indexOf(subLocation)>-1;} );\n      if (filterLibraries.length > 0)return true;\n      else return false;\n    }\n\n    function getSubLocationCode(libraryCode, subLocation){\n        let filterLibraries = libraries.filter( l => {return l.libraryCode === libraryCode} );\n        if (filterLibraries.length === 0)return null;\n        let i = filterLibraries[0].locationWhiteList.indexOf(subLocation);\n        return filterLibraries[0].locationCodeWhiteList[i];\n    }\n\n    function getBaseUrl(libraryCode){\n        let lib = getMapongoLibrary(libraryCode);\n        if (lib) {\n            return lib.baseUrl;\n        }\n        else{\n            return \"\";\n        }\n\n    }\n\n    function isAvailable(itemstatusname){\n        let filterStatus = availabilityStatus.filter( s => {return s === itemstatusname});\n        if (filterStatus.length > 0)return true;\n        return false;\n    }\n\n    return {\n        isMapongoLibrary: isMapongoLibrary,\n        isMapongoSubLocation: isMapongoSubLocation,\n        getBaseUrl: getBaseUrl,\n        getSubLocationCode: getSubLocationCode,\n        isAvailable: isAvailable\n    };\n\n\n}];\n","export const ethMapongoConfig = function(){\n    return {\n        label: {\n            qrc: {\n                de: 'Karte auf Smartphone laden',\n                en: 'Load map on your smartphone',\n                fr: 'Charger la carte sur votre smartphone'\n            }\n        }\n    }\n}\n","export class ethMapongoController {\n\n    constructor(ethMapongoLibrariesService, ethConfigService, ethMapongoConfig) {\n        this.ethMapongoLibrariesService = ethMapongoLibrariesService;\n        this.ethConfigService = ethConfigService;\n        this.config = ethMapongoConfig;\n        this.lang = this.ethConfigService.getLanguage();\n    }\n\n    $onInit() {\n        // reference to prmLocationItemsController (all items)\n        this.parentCtrl = this.afterCtrl.parentCtrl;\n    };\n\n    getMapongoImageSrc() {\n        let src = \"\";\n        try{\n            if (!this.parentCtrl.loc || !this.parentCtrl.loc.location) {\n                console.error(\"***ETH*** ethMapongoController.getMapongoImageSrc: loc or loc.location not available\");\n                return;\n            }\n            let loc = this.parentCtrl.loc.location;\n            let baseUrl = this.ethMapongoLibrariesService.getBaseUrl(loc.libraryCode);\n\n            src = baseUrl + \"/static_images/projects/1/search_thumbnail.jpg?project_id=1&search_key=\" + encodeURIComponent(this.callnumber);\n            if (loc.libraryCode === \"E51\" || loc.libraryCode === \"UPHZH\" ) {\n                src += \"&search_context2=\" + encodeURIComponent(this.sublocation);\n            }\n            if (loc.libraryCode === \"E65\") {\n                src += \"&e=\" + encodeURIComponent(this.recordid);\n            }\n        }\n        catch(e){\n            console.error(\"***ETH*** EthMapongoController.getMapongoImageSrc:\");\n            console.error(e.message);\n        }\n        return src;\n    }\n\n    getMapongoUrl() {\n        let url = \"\";\n        try{\n            let loc = this.parentCtrl.loc.location;\n            let baseUrl = this.ethMapongoLibrariesService.getBaseUrl(loc.libraryCode);\n\n            url = baseUrl + \"/viewer?project_id=1&search_key=\" + encodeURIComponent(this.callnumber) + \"&language=\" + this.lang + \"&e=\" + encodeURIComponent(this.recordid);\n            // ZHAW-HSB-WIN\n            if (loc.libraryCode === \"E51\" || loc.libraryCode === \"UPHZH\" ) {\n                url += \"&search_context2=\" + encodeURIComponent(this.sublocation);\n            }\n            if (this.barcode != \"\") {\n                    url += \"&bcd=\" + this.barcode;\n            }\n\n        }\n        catch(e){\n            console.error(\"***ETH*** EthMapongoController.getMapongoUrl:\");\n            console.error(e.message);\n        }\n        return url;\n    }\n\n    getMapongoQRC() {\n        let src = \"\";\n        try{\n            let loc = this.parentCtrl.loc.location;\n            let baseUrl = this.ethMapongoLibrariesService.getBaseUrl(loc.libraryCode);\n\n            src = baseUrl + \"/static_images/projects/1/search_qrcode.png?project_id=1&search_key=\" + encodeURIComponent(this.callnumber) + \"&language=\" + this.lang + \"&e=\" + encodeURIComponent(this.recordid);\n            if (loc.libraryCode === \"E51\" || loc.libraryCode === \"UPHZH\" ) {\n                src += \"&search_context2=\" + encodeURIComponent(this.sublocation);\n            }\n            if (this.barcode != \"\") {\n                src += \"&bcd=\" + this.barcode;\n            }\n        }\n        catch(e){\n            console.error(\"***ETH*** EthMapongoController.getMapongoQRC:\");\n            console.error(e.message);\n        }\n        return src;\n    }\n\n\n}\n\nethMapongoController.$inject = [ 'ethMapongoLibrariesService', 'ethConfigService', 'ethMapongoConfig'];\n","/**\n * @ngdoc module\n * @name ethMapongoModule\n *\n * @description\n * - renders Link, map and QRCode for mapongo\n *\n *\n * <b>AngularJS Dependencies</b><br>\n * Service {@link ETH.ethMapongoLibrariesService}<br>\n * Service /js/services {@link ETH.ethConfigService}<br>\n * Service {@link ETH.ethMapongoConfig}<br>\n *\n *\n * <b>CSS/Image Dependencies</b><br>\n * CSS /css/mapongo.css\n *\n * @example\n * ZHAW MMS IDs: 991128155109705501, 990013732410205503; 2 Exemplare: 990058665580205503; 5 Exemplare: 991129451879705501\n *\n */\nimport { ethConfigService } from './eth-config.service';\nimport { ethMapongoConfig } from './eth-mapongo.config';\nimport { ethMapongoLibrariesService } from './eth-mapongo-libraries.service';\nimport { ethMapongoController } from './eth-mapongo.controller';\nimport { ethMapongoHtml } from './eth-mapongo.html';\n\nexport const ethMapongoModule = angular\n    .module('ethMapongoModule', [])\n    .factory('ethConfigService', ethConfigService)\n    .factory('ethMapongoConfig', ethMapongoConfig)\n    .factory('ethMapongoLibrariesService', ethMapongoLibrariesService)\n    .controller('ethMapongoController', ethMapongoController)\n    .component('ethMapongo', {\n        bindings: {\n            afterCtrl: '<',\n            recordid: '@',\n            callnumber: '@',\n            barcode: '@',\n            sublocation: '@'\n        },\n        controller: 'ethMapongoController',\n        template: ethMapongoHtml\n    })","\n\n//--------slspIconLabel ---------------------------------------\n\n\nexport class slspIconLabelLocationItemsController {\n\n    constructor( $scope, $compile, $timeout ) {\n        this.$scope = $scope;\n        this.$compile = $compile;\n        this.$timeout = $timeout;\n    }\n\n    \n\n    $onInit() {\n        try{\n            this.$timeout(() => {\n                this.parentCtrl = this.afterCtrl.parentCtrl;\n                \n                if (this.parentCtrl.serviceScrollId === \"getit_link1_0\") {\n                    \n                        this.iconLabelLocationItems = iconLabelLocationItems ;\n                        let iconLabelLocationItems = document.querySelectorAll(\"#getit_link1_0 > div > prm-full-view-service-container > div.section-body > div > prm-opac md-content > prm-location-items > md-list.separate-list-items.margin-left-medium.md-primoExplore-theme.layout-column\");\n                        let htmlLocationItems = `<div class=\"icnWrp\"><div class=\"iconDiv\"><svg xmlns=\"http://www.w3.org/2000/svg\" id=\"Ebene_2\" width=\"100%\" height=\"100%\" viewBox=\"0 0 185 185\"><g id=\"System_icons\"><g><rect width=\"185\" height=\"185\" fill=\"none\" opacity=\".2\"/><g><rect x=\"32.65\" y=\"139.75\" width=\"119.7\" height=\"12.6\" fill=\"none\" stroke=\"#000\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"6\"/><rect x=\"38.95\" y=\"70.45\" width=\"107.1\" height=\"69.3\" fill=\"none\" stroke=\"#000\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"6\"/><line x1=\"164.95\" y1=\"152.35\" x2=\"20.05\" y2=\"152.35\" fill=\"none\" stroke=\"#000\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"6\"/><line x1=\"51.55\" y1=\"70.45\" x2=\"51.55\" y2=\"139.75\" fill=\"none\" stroke=\"#000\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"6\"/><line x1=\"83.05\" y1=\"70.45\" x2=\"83.05\" y2=\"139.75\" fill=\"none\" stroke=\"#000\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"6\"/><line x1=\"70.45\" y1=\"70.45\" x2=\"70.45\" y2=\"139.75\" fill=\"none\" stroke=\"#000\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"6\"/><line x1=\"101.95\" y1=\"70.45\" x2=\"101.95\" y2=\"139.75\" fill=\"none\" stroke=\"#000\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"6\"/><line x1=\"114.55\" y1=\"70.45\" x2=\"114.55\" y2=\"139.75\" fill=\"none\" stroke=\"#000\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"6\"/><line x1=\"133.45\" y1=\"70.45\" x2=\"133.45\" y2=\"139.75\" fill=\"none\" stroke=\"#000\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"6\"/><polygon points=\"158.65 70.45 26.35 70.45 92.5 32.65 158.65 70.45\" fill=\"none\" stroke=\"#000\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"6\"/></g></g></g></svg></div><div class=\"iconLabel\" translate=\"customized.fee.physical\"></div></div>`;\n                                                                                        \n                            angular.element(iconLabelLocationItems).prepend(this.$compile(htmlLocationItems)(this.$scope)).addClass('icnLblLocationItems');\n                }\n                if (this.parentCtrl.serviceScrollId === \"getit_link1_1\") {\n                    \n                    this.iconLabelLocationItems3 = iconLabelLocationItems3 ;\n                    let iconLabelLocationItems3 = document.querySelectorAll(\"#getit_link1_1 > div > prm-full-view-service-container > div.section-body > div > prm-opac md-content > prm-location-items > md-list.separate-list-items.margin-left-medium.md-primoExplore-theme.layout-column\");\n                    let htmlLocationItems3 = `<div class=\"icnWrp\"><div class=\"iconDiv\"><svg xmlns=\"http://www.w3.org/2000/svg\" id=\"Ebene_2\" width=\"100%\" height=\"100%\" viewBox=\"0 0 185 185\"><g id=\"System_icons\"><g><rect width=\"185\" height=\"185\" fill=\"none\" opacity=\".2\"/><g><rect x=\"32.65\" y=\"139.75\" width=\"119.7\" height=\"12.6\" fill=\"none\" stroke=\"#000\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"6\"/><rect x=\"38.95\" y=\"70.45\" width=\"107.1\" height=\"69.3\" fill=\"none\" stroke=\"#000\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"6\"/><line x1=\"164.95\" y1=\"152.35\" x2=\"20.05\" y2=\"152.35\" fill=\"none\" stroke=\"#000\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"6\"/><line x1=\"51.55\" y1=\"70.45\" x2=\"51.55\" y2=\"139.75\" fill=\"none\" stroke=\"#000\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"6\"/><line x1=\"83.05\" y1=\"70.45\" x2=\"83.05\" y2=\"139.75\" fill=\"none\" stroke=\"#000\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"6\"/><line x1=\"70.45\" y1=\"70.45\" x2=\"70.45\" y2=\"139.75\" fill=\"none\" stroke=\"#000\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"6\"/><line x1=\"101.95\" y1=\"70.45\" x2=\"101.95\" y2=\"139.75\" fill=\"none\" stroke=\"#000\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"6\"/><line x1=\"114.55\" y1=\"70.45\" x2=\"114.55\" y2=\"139.75\" fill=\"none\" stroke=\"#000\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"6\"/><line x1=\"133.45\" y1=\"70.45\" x2=\"133.45\" y2=\"139.75\" fill=\"none\" stroke=\"#000\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"6\"/><polygon points=\"158.65 70.45 26.35 70.45 92.5 32.65 158.65 70.45\" fill=\"none\" stroke=\"#000\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"6\"/></g></g></g></svg></div><div class=\"iconLabel\" translate=\"customized.fee.physical\"></div></div>`;\n                                                                                    \n                        angular.element(iconLabelLocationItems3).prepend(this.$compile(htmlLocationItems3)(this.$scope)).addClass('icnLblLocationItems3');\n            }\n\n\n\n\n\n                if (this.parentCtrl.serviceScrollId === \"alma_other_members\") {\n                    \n                    this.iconLabelLocationItems2 = iconLabelLocationItems2 ;\n                    let iconLabelLocationItems2 = document.querySelectorAll(\"prm-alma-other-members md-content > prm-location-items > md-list.separate-list-items.margin-left-medium.md-primoExplore-theme.layout-column\");\n                    let htmlLocationItems2 = `<div class=\"icnWrp\"><div class=\"iconDiv\"><svg xmlns=\"http://www.w3.org/2000/svg\" id=\"Ebene_2\" width=\"100%\" height=\"100%\" viewBox=\"0 0 185 185\"><g id=\"System_icons\"><g><rect width=\"185\" height=\"185\" fill=\"none\" opacity=\".2\"/><g><rect x=\"32.65\" y=\"139.75\" width=\"119.7\" height=\"12.6\" fill=\"none\" stroke=\"#000\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"6\"/><rect x=\"38.95\" y=\"70.45\" width=\"107.1\" height=\"69.3\" fill=\"none\" stroke=\"#000\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"6\"/><line x1=\"164.95\" y1=\"152.35\" x2=\"20.05\" y2=\"152.35\" fill=\"none\" stroke=\"#000\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"6\"/><line x1=\"51.55\" y1=\"70.45\" x2=\"51.55\" y2=\"139.75\" fill=\"none\" stroke=\"#000\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"6\"/><line x1=\"83.05\" y1=\"70.45\" x2=\"83.05\" y2=\"139.75\" fill=\"none\" stroke=\"#000\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"6\"/><line x1=\"70.45\" y1=\"70.45\" x2=\"70.45\" y2=\"139.75\" fill=\"none\" stroke=\"#000\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"6\"/><line x1=\"101.95\" y1=\"70.45\" x2=\"101.95\" y2=\"139.75\" fill=\"none\" stroke=\"#000\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"6\"/><line x1=\"114.55\" y1=\"70.45\" x2=\"114.55\" y2=\"139.75\" fill=\"none\" stroke=\"#000\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"6\"/><line x1=\"133.45\" y1=\"70.45\" x2=\"133.45\" y2=\"139.75\" fill=\"none\" stroke=\"#000\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"6\"/><polygon points=\"158.65 70.45 26.35 70.45 92.5 32.65 158.65 70.45\" fill=\"none\" stroke=\"#000\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"6\"/></g></g></g></svg></div><div class=\"iconLabel\" translate=\"customized.fee.physical\"></div></div>`;\n                                                                                    \n                        angular.element(iconLabelLocationItems2).prepend(this.$compile(htmlLocationItems2)(this.$scope)).addClass('icnLblLocationItems2');\n            }\n\n\n                         \n                \n            },0);   \n        }\n        \n        catch(e){\n            console.error(\"***SLSP*** an error occured: Rapido \\n\\n\");\n            console.error(e.message);\n        }\n    }\n    \n}\n\nslspIconLabelLocationItemsController.$inject =  [ '$scope', '$compile', '$timeout'];\n\n","\n    import {slspIconLabelLocationItemsController} from './slsp-icon-label-location-items.controller';\n    import {slspIconLabelLocationItemsHtml} from './slsp-icon-label-location-items.html';\n\n    export const slspIconLabelLocationItemsModule = angular\n        .module('slspIconLabelLocationItemsModule', [])\n            .controller('slspIconLabelLocationItemsController', slspIconLabelLocationItemsController)\n            .component('slspIconLabelLocationItemsComponent', {\n                bindings: {afterCtrl: '<'},\n                controller: 'slspIconLabelLocationItemsController',\n                template: slspIconLabelLocationItemsHtml\n            })","import {ethLocationsFilterModule} from './eth-locations-filter/eth-locations-filter.module';\nimport {slspIconLabelLocationsModule} from './slsp-icon-label-locations/slsp-icon-label-locations.module';\nimport {slspCollapseRelatedModule} from './slsp-collapse-related/slsp-collapse-related.module';\n\nexport const ethLocationsAfterModule = angular\n    .module('ethLocationsAfterModule', [])\n        .component('prmLocationsAfter',  {\n            bindings: {parentCtrl: '<'},\n            template: `<eth-locations-filter-component after-ctrl=\"$ctrl\"></eth-locations-filter-component><slsp-icon-label-locations-component after-ctrl=\"$ctrl\"></slsp-icon-label-locations-component><slsp-collapse-related-component after-ctrl=\"$ctrl\"></slsp-collapse-related-component><slsp-locations-after parent-ctrl=\"$parent.$ctrl\"></slsp-locations-after>`\n        });\n\nethLocationsAfterModule.requires.push(ethLocationsFilterModule.name);\nethLocationsAfterModule.requires.push(slspIconLabelLocationsModule.name);\nethLocationsAfterModule.requires.push(slspCollapseRelatedModule.name);","export class ethLocationsFilterController {\n\n    constructor($timeout, $scope) {\n        this.$timeout = $timeout;\n        this.$scope = $scope;\n    }\n\n    $onInit() {\n        try{\n            this.parentCtrl = this.afterCtrl.parentCtrl;\n            this.$scope.$watch('this.$ctrl.parentCtrl.locations[0].location.librarycodeTranslation', (newValue, oldValue, scope) => {\n                if(!scope.$ctrl.parentCtrl.isLocationsFilterVisible && newValue && newValue != ''){\n                    this.$timeout(() => {\n                        scope.$ctrl.parentCtrl.isLocationsFilterVisible = true;\n                    }, 0);\n                }\n            }, true);\n        }\n        catch(e){\n            console.error(\"***ETH*** an error occured: ethLocationsFilterController\\n\\n\");\n            console.error(e.message);\n        }\n    }\n}\n\nethLocationsFilterController.$inject = ['$timeout', '$scope'];\n","/**\n* @ngdoc module\n* @name ethLocationsFilterModule\n*\n* @description\n*\n* Customization for the locations filter:<br>\n* - the locations filter is visible by default\n*\n* If there is 1 location: prmLocationItemsAfter\n*\n* If there are multiple locations: prmLocationAfter;\n* after all locations: prmLocationsAfter;\n* after choosing a location: prmLocationItemsAfter\n*\n*\n* <b>AngularJS Dependencies</b><br>\n*\n*\n* <b>CSS/Image Dependencies</b><br>\n* CSS eth-locations-filter.css\n*\n*\n*/\nimport {ethLocationsFilterController} from './eth-locations-filter.controller';\n\nexport const ethLocationsFilterModule = angular\n    .module('ethLocationsFilterModule', [])\n        .controller('ethLocationsFilterController', ethLocationsFilterController)\n        .component('ethLocationsFilterComponent', {\n            bindings: {afterCtrl: '<'},\n            controller: 'ethLocationsFilterController'\n        })\n","export class slspCollapseRelatedController {\n\n    constructor($timeout, $scope) {\n        this.$timeout = $timeout;\n        this.$scope = $scope;\n    }\n\n    $onInit() {\n        try {\n            this.parentCtrl = this.afterCtrl.parentCtrl;\n\n            if (angular.isArray(this.parentCtrl.locations) && this.parentCtrl.locations.length > 0) {\n\n                this.parentCtrl.relatedLocationsListLimit = 0;\n\n            }\n\n        } catch (e) {\n            console.error(\"***SLSP*** an error occured: slspCollapseRelatedController\\n\\n\");\n            console.error(e.message);\n        }\n    }\n}\n\n\nslspCollapseRelatedController.$inject = ['$timeout', '$scope'];","\n    import {slspCollapseRelatedController} from './slsp-collapse-related.controller';\n    import {slspCollapseRelatedHtml} from './slsp-collapse-related.html';\n\n    export const slspCollapseRelatedModule = angular\n        .module('slspCollapseRelatedModule', [])\n            .controller('slspCollapseRelatedController', slspCollapseRelatedController)\n            .component('slspCollapseRelatedComponent', {\n                bindings: {afterCtrl: '<'},\n                controller: 'slspCollapseRelatedController',\n                template: slspCollapseRelatedHtml\n            })","\n\n//--------slspIconLabel ---------------------------------------\n\n\nexport class slspIconLabelLocationsController {\n\n    constructor( $scope, $compile, $timeout ) {\n        this.$scope = $scope;\n        this.$compile = $compile;\n        this.$timeout = $timeout;\n        \n    }\n\n    \n\n    $onInit() {\n        try{\n            this.$timeout(() => {\n                this.parentCtrl = this.afterCtrl.parentCtrl;\n                \n                if (this.parentCtrl.serviceScrollId === \"getit_link1_0\") {\n                    \n                        this.iconLabelLocations = iconLabelLocations ;\n                        let iconLabelLocations = document.querySelectorAll('#getit_link1_0 > div > prm-full-view-service-container > div.section-body > div > prm-opac md-tab-content md-content > prm-locations > div.padding-left-medium[ng-if=\"!$ctrl.enableLibraryLevelList\"] > md-list:nth-child(1)');\n                        let htmlLocations = `<div class=\"icnWrp\"><div class=\"iconDiv\"><svg xmlns=\"http://www.w3.org/2000/svg\" id=\"Ebene_2\" width=\"100%\" height=\"100%\" viewBox=\"0 0 185 185\"><g id=\"System_icons\"><g><rect width=\"185\" height=\"185\" fill=\"none\" opacity=\".2\"/><g><rect x=\"32.65\" y=\"139.75\" width=\"119.7\" height=\"12.6\" fill=\"none\" stroke=\"#000\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"6\"/><rect x=\"38.95\" y=\"70.45\" width=\"107.1\" height=\"69.3\" fill=\"none\" stroke=\"#000\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"6\"/><line x1=\"164.95\" y1=\"152.35\" x2=\"20.05\" y2=\"152.35\" fill=\"none\" stroke=\"#000\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"6\"/><line x1=\"51.55\" y1=\"70.45\" x2=\"51.55\" y2=\"139.75\" fill=\"none\" stroke=\"#000\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"6\"/><line x1=\"83.05\" y1=\"70.45\" x2=\"83.05\" y2=\"139.75\" fill=\"none\" stroke=\"#000\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"6\"/><line x1=\"70.45\" y1=\"70.45\" x2=\"70.45\" y2=\"139.75\" fill=\"none\" stroke=\"#000\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"6\"/><line x1=\"101.95\" y1=\"70.45\" x2=\"101.95\" y2=\"139.75\" fill=\"none\" stroke=\"#000\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"6\"/><line x1=\"114.55\" y1=\"70.45\" x2=\"114.55\" y2=\"139.75\" fill=\"none\" stroke=\"#000\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"6\"/><line x1=\"133.45\" y1=\"70.45\" x2=\"133.45\" y2=\"139.75\" fill=\"none\" stroke=\"#000\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"6\"/><polygon points=\"158.65 70.45 26.35 70.45 92.5 32.65 158.65 70.45\" fill=\"none\" stroke=\"#000\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"6\"/></g></g></g></svg></div><div class=\"iconLabel\" translate=\"customized.fee.physical\"></div></div>`;\n                            \n                            angular.element(iconLabelLocations).prepend(this.$compile(htmlLocations)(this.$scope)).addClass('icnLblLocations');\n                }\n                if (this.parentCtrl.serviceScrollId === \"getit_link1_1\") {\n                    \n                    this.iconLabelLocations3 = iconLabelLocations3 ;\n                    let iconLabelLocations3 = document.querySelectorAll('#getit_link1_1 > div > prm-full-view-service-container > div.section-body > div > prm-opac md-tab-content md-content > prm-locations > div.padding-left-medium[ng-if=\"!$ctrl.enableLibraryLevelList\"] > md-list:nth-child(1)');\n                    let htmlLocations3 = `<div class=\"icnWrp\"><div class=\"iconDiv\"><svg xmlns=\"http://www.w3.org/2000/svg\" id=\"Ebene_2\" width=\"100%\" height=\"100%\" viewBox=\"0 0 185 185\"><g id=\"System_icons\"><g><rect width=\"185\" height=\"185\" fill=\"none\" opacity=\".2\"/><g><rect x=\"32.65\" y=\"139.75\" width=\"119.7\" height=\"12.6\" fill=\"none\" stroke=\"#000\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"6\"/><rect x=\"38.95\" y=\"70.45\" width=\"107.1\" height=\"69.3\" fill=\"none\" stroke=\"#000\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"6\"/><line x1=\"164.95\" y1=\"152.35\" x2=\"20.05\" y2=\"152.35\" fill=\"none\" stroke=\"#000\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"6\"/><line x1=\"51.55\" y1=\"70.45\" x2=\"51.55\" y2=\"139.75\" fill=\"none\" stroke=\"#000\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"6\"/><line x1=\"83.05\" y1=\"70.45\" x2=\"83.05\" y2=\"139.75\" fill=\"none\" stroke=\"#000\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"6\"/><line x1=\"70.45\" y1=\"70.45\" x2=\"70.45\" y2=\"139.75\" fill=\"none\" stroke=\"#000\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"6\"/><line x1=\"101.95\" y1=\"70.45\" x2=\"101.95\" y2=\"139.75\" fill=\"none\" stroke=\"#000\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"6\"/><line x1=\"114.55\" y1=\"70.45\" x2=\"114.55\" y2=\"139.75\" fill=\"none\" stroke=\"#000\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"6\"/><line x1=\"133.45\" y1=\"70.45\" x2=\"133.45\" y2=\"139.75\" fill=\"none\" stroke=\"#000\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"6\"/><polygon points=\"158.65 70.45 26.35 70.45 92.5 32.65 158.65 70.45\" fill=\"none\" stroke=\"#000\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"6\"/></g></g></g></svg></div><div class=\"iconLabel\" translate=\"customized.fee.physical\"></div></div>`;\n                        \n                        angular.element(iconLabelLocations3).prepend(this.$compile(htmlLocations3)(this.$scope)).addClass('icnLblLocations3');\n            }\n\n\n\n\n\n                if (this.parentCtrl.serviceScrollId === \"alma_other_members\") {\n                    \n                    this.iconLabelLocations2 = iconLabelLocations2 ;\n                    let iconLabelLocations2 = document.querySelectorAll('prm-alma-other-members prm-opac md-tab-content md-content > prm-locations > div.padding-left-medium[ng-if=\"!$ctrl.enableLibraryLevelList\"] > md-list:nth-child(1)');\n                    let htmlLocations2 = `<div class=\"icnWrp\"><div class=\"iconDiv\"><svg xmlns=\"http://www.w3.org/2000/svg\" id=\"Ebene_2\" width=\"100%\" height=\"100%\" viewBox=\"0 0 185 185\"><g id=\"System_icons\"><g><rect width=\"185\" height=\"185\" fill=\"none\" opacity=\".2\"/><g><rect x=\"32.65\" y=\"139.75\" width=\"119.7\" height=\"12.6\" fill=\"none\" stroke=\"#000\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"6\"/><rect x=\"38.95\" y=\"70.45\" width=\"107.1\" height=\"69.3\" fill=\"none\" stroke=\"#000\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"6\"/><line x1=\"164.95\" y1=\"152.35\" x2=\"20.05\" y2=\"152.35\" fill=\"none\" stroke=\"#000\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"6\"/><line x1=\"51.55\" y1=\"70.45\" x2=\"51.55\" y2=\"139.75\" fill=\"none\" stroke=\"#000\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"6\"/><line x1=\"83.05\" y1=\"70.45\" x2=\"83.05\" y2=\"139.75\" fill=\"none\" stroke=\"#000\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"6\"/><line x1=\"70.45\" y1=\"70.45\" x2=\"70.45\" y2=\"139.75\" fill=\"none\" stroke=\"#000\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"6\"/><line x1=\"101.95\" y1=\"70.45\" x2=\"101.95\" y2=\"139.75\" fill=\"none\" stroke=\"#000\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"6\"/><line x1=\"114.55\" y1=\"70.45\" x2=\"114.55\" y2=\"139.75\" fill=\"none\" stroke=\"#000\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"6\"/><line x1=\"133.45\" y1=\"70.45\" x2=\"133.45\" y2=\"139.75\" fill=\"none\" stroke=\"#000\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"6\"/><polygon points=\"158.65 70.45 26.35 70.45 92.5 32.65 158.65 70.45\" fill=\"none\" stroke=\"#000\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"6\"/></g></g></g></svg></div><div class=\"iconLabel\" translate=\"customized.fee.physical\"></div></div>`;\n                        \n                        angular.element(iconLabelLocations2).prepend(this.$compile(htmlLocations2)(this.$scope)).addClass('icnLblLocations2');\n            }\n               \n            \n                \n            },0);   \n        }\n        \n        catch(e){\n            console.error(\"***SLSP*** an error occured: Rapido \\n\\n\");\n            console.error(e.message);\n        }\n    }\n    \n}\n\nslspIconLabelLocationsController.$inject =  [ '$scope', '$compile', '$timeout'];\n\n\n\n// md-content > prm-locations > div.padding-left-medium > md-list.separate-list-items.margin-bottom-medium.padding-bottom-zero.md-primoExplore-theme\n","\n    import {slspIconLabelLocationsController} from './slsp-icon-label-locations.controller';\n    import {slspIconLabelLocationsHtml} from './slsp-icon-label-locations.html';\n\n    export const slspIconLabelLocationsModule = angular\n        .module('slspIconLabelLocationsModule', [])\n            .controller('slspIconLabelLocationsController', slspIconLabelLocationsController)\n            .component('slspIconLabelLocationsComponent', {\n                bindings: {afterCtrl: '<'},\n                controller: 'slspIconLabelLocationsController',\n                template: slspIconLabelLocationsHtml\n            })","import { slspLoginBoxModule } from './slsp-login-box/slsp-login-box.module';\n\nexport const prmLoginAfterModule = angular\n    .module('prmLoginAfterModule', [])\n    .component('prmLoginAfter', {\n        bindings: { parentCtrl: '<' },\n        template: `\n            <slsp-login-box-component after-ctrl=\"$ctrl\"></slsp-login-box-component>\n            <slsp-login-after parent-ctrl=\"$parent.$ctrl\"></<slsp-login-after>`\n    });\n\n\nprmLoginAfterModule.requires.push(slspLoginBoxModule.name);","//-----------------RapidoHideLibrary------------------------------\n\nexport class slspLoginBoxController {\n\n    constructor($scope, $compile, $timeout) {\n        this.$scope = $scope;\n        this.$compile = $compile;\n        this.$timeout = $timeout;\n    }\n\n    $onInit() {\n        try {\n            this.$timeout(() => {\n                this.parentCtrl = this.afterCtrl.parentCtrl;\n\n                let buttonHelp = '<p class=\"parallelLoginDescription\" translate=\"parallel.login.description1\"><a href=\"https://help.switch.ch/eduid/\" onclick=\"window.open(https://help.switch.ch/eduid/);return false;\" class=\"md-primoExplore-theme\" style=\"text-decoration:underline\"></a></p>';\n                let infoLabel = '<p class=\"parallelLoginDescription\" translate=\"parallel.login.description2\"></p>'\n\n                let authMeth1 = angular.element(document.querySelectorAll(`prm-login div > md-content > md-list > md-list-item:nth-child(1)`));\n                angular.element(authMeth1).append(this.$compile(buttonHelp)(this.$scope)).addClass('authMethSaml');\n\n                let authMeth2 = angular.element(document.querySelectorAll(`prm-login div > md-content > md-list > md-list-item:nth-child(2)`));\n                angular.element(authMeth2).append(this.$compile(infoLabel)(this.$scope)).addClass('authMethAlma');\n\n                console.log('authentication Method', authMeth2);\n\n                // this.$scope.$watch('this.$ctrl.afterCtrl.parentCtrl.authenticationMethods', (loginMethodArray) => {\n                //     if (angular.isArray(loginMethodArray))\n                //         angular.forEach(loginMethodArray, (method) => {\n                //             if (\n                //                 method.authenticationSystem === 'ALMA'\n                //             ) {\n                //                 return\n                //             }\n                //         })\n                // })\n            }, 0);\n        } catch (e) {\n            console.error(\"***SLSP*** an error occured: Rapido hide Library\\n\\n\");\n            console.error(e.message);\n        }\n    }\n}\n\nslspLoginBoxController.$inject = ['$scope', '$compile', '$timeout'];","import { slspLoginBoxController } from './slsp-login-box.controller';\n\n\nexport const slspLoginBoxModule = angular\n    .module('slspLoginBoxModule', [])\n    .controller('slspLoginBoxController', slspLoginBoxController)\n    .component('slspLoginBoxComponent', {\n        bindings: { afterCtrl: '<' },\n        controller: 'slspLoginBoxController',\n\n    })","import { slspMultivolumeRequestModule } from './slsp-multivolume-request/slsp-multivolume-request.module';\n\nexport const prmOfferDetailsTileAfterModule = angular\n    .module('prmOfferDetailsTileAfterModule', [])\n    .component('prmOfferDetailsTileAfter', {\n        bindings: { parentCtrl: '<' },\n        template: `\n            <slsp-multivolume-request-component after-ctrl=\"$ctrl\"></slsp-multivolume-request-component>\n            <slsp-offer-details-tile-after parent-ctrl=\"$parent.$ctrl\"></<slsp-offer-details-tile-after>`\n    });\n\n\nprmOfferDetailsTileAfterModule.requires.push(slspMultivolumeRequestModule.name);","//-----------------MultivolumeRequest------------------------------\n\nexport class slspMultivolumeRequestController {\n    constructor($scope) {\n        this.$scope = $scope;\n        this.previousUnavailableResource = null; \n    }\n\n    $doCheck() {\n        try {\n            this.parentCtrl = this.afterCtrl.parentCtrl;\n            const currentUnavailableResource = this.parentCtrl.bestoffer.unavailableResource;\n           \n            if (currentUnavailableResource !== this.previousUnavailableResource) {\n              \n                //console.log(this.parentCtrl);\n             \n                if (currentUnavailableResource !== false) {\n                    //console.log(\"Request nicht möglich\");\n                    this.disableRequestButton();\n                } else {\n                    //console.log(\"Request möglich\");\n                    this.enableRequestButton();\n                }\n\n                this.previousUnavailableResource = currentUnavailableResource; \n            }\n        } catch (e) {\n            console.error(\"***SLSP*** an error occurred: Multivolume Request\\n\\n\");\n            console.error(e.message);\n        }\n    }\n\n    disableRequestButton() {\n        const requestButton = document.querySelector('button.button-with-icon.button-confirm.md-button.md-primoExplore-theme.md-ink-ripple');\n        if (requestButton) {\n            requestButton.disabled = true;\n        }\n    }\n\n    enableRequestButton() {\n        const requestButton = document.querySelector('button.button-with-icon.button-confirm.md-button.md-primoExplore-theme.md-ink-ripple');\n        if (requestButton) {\n            requestButton.disabled = false;\n        }\n    }\n}\n\nslspMultivolumeRequestController.$inject = ['$scope'];","import { slspMultivolumeRequestController } from './slsp-multivolume-request.controller';\n\n\nexport const slspMultivolumeRequestModule = angular\n    .module('slspMultivolumeRequestModule', [])\n    .controller('slspMultivolumeRequestController', slspMultivolumeRequestController)\n    .component('slspMultivolumeRequestComponent', {\n        bindings: { afterCtrl: '<' },\n        controller: 'slspMultivolumeRequestController',\n\n    })","//-----------------------------------------------\n\n\nexport class slspEditPersonalDetailsController {\n\n    constructor($scope, $element) {\n        this.$scope = $scope;\n        this.$element = $element;\n\n    }\n\n    $doCheck() {\n        try {\n            this.parentCtrl = this.afterCtrl.parentCtrl;\n\n\n\n            let lang = 'en';\n            let sms = this.$scope.$root.$$childHead.$ctrl.userSessionManagerService;\n            if (sms) {\n                lang = sms.getInterfaceLanguage();\n            }\n\n            this.detailsBaseEdu = \"https:\\/\\/eduid.ch\\/web\\/change-account-data\\/2\\/?lang=\" + lang;\n            this.detailsBaseReg = \"https:\\/\\/registration.slsp.ch\\/library-card\\/?lang=\" + lang;\n            this.exclude = ['STAFF', '11', '12', '13', '14', '15', '16', '17', '18', '91', '92', '99'];\n            this.grpA = ['11', '91', '92'];\n            this.grpB = ['12', '13', '14', '15', '16', '17', '18'];\n\n\n            this.getPatronGrp = function() {\n                if (this.parentCtrl.personalInfoService.personalInfo !== undefined) {\n                    let patron = this.parentCtrl.personalInfoService.personalInfo.patronstatus[0].registration[0].institution[0].patronstatuscode;\n                    if (!this.exclude.includes(patron)) {\n                        return true;\n                    } else {\n                        return false;\n                    }\n                }\n                return false;\n            }\n\n            this.grpLabelA = function() {\n                if (this.parentCtrl.personalInfoService.personalInfo !== undefined) {\n                    let labelA = this.parentCtrl.personalInfoService.personalInfo.patronstatus[0].registration[0].institution[0].patronstatuscode;\n                    if (this.grpA.includes(labelA)) {\n                        return true;\n                    } else {\n                        return false;\n                    }\n                }\n                return false;\n            }\n\n\n            this.grpLabelB = function() {\n                if (this.parentCtrl.personalInfoService.personalInfo !== undefined) {\n                    let labelB = this.parentCtrl.personalInfoService.personalInfo.patronstatus[0].registration[0].institution[0].patronstatuscode;\n                    if (this.grpB.includes(labelB)) {\n                        return true;\n                    } else {\n                        return false;\n                    }\n                }\n                return false;\n            }\n\n            this.buttonMove = function() {\n                let parentElement = angular.element(document.querySelector('md-card > md-card-content > prm-personal-settings > prm-personal-settings-after'));\n                let element = angular.element(document.querySelector('#SLSPeditPersonalDetails'));\n                parentElement.append(element);\n            }\n\n\n        } catch (e) {\n            console.error(\"***SLSP*** an error occured: EditPersonalDetailsController\\n\\n\");\n            console.error(e.message);\n        }\n    }\n}\n\nslspEditPersonalDetailsController.$inject = ['$scope'];","import {slspEditPersonalDetailsController} from './slsp-edit-personal-details.controller';\nimport {slspEditPersonalDetailsHtml} from './slsp-edit-personal-details.html';\n\n\nexport const slspEditPersonalDetailsModule = angular\n    .module('slspEditPersonalDetailsModule', [])\n        .controller('slspEditPersonalDetailsController', slspEditPersonalDetailsController)\n        .component('slspEditPersonalDetailsComponent', {\n            bindings: {afterCtrl: '<'},\n            controller: 'slspEditPersonalDetailsController',\n            template: slspEditPersonalDetailsHtml\n        })","import {slspEditPersonalDetailsModule} from './slsp-edit-personal-details/slsp-edit-personal-details.module';\n\n\nexport const slspPersonalInfoAfterModule = angular\n    .module('slspPersonalInfoAfterModule', [])\n        .component('prmPersonalInfoAfter',  {\n            bindings: {parentCtrl: '<'},\n            template: `<slsp-edit-personal-details-component after-ctrl=\"$ctrl\" id=\"SLSPeditPersonalDetails\"></slsp-edit-personal-details-component><slsp-personal-info-after parent-ctrl=\"$parent.$ctrl\"></slsp-personal-info-after>`\n        });\n\n        slspPersonalInfoAfterModule.requires.push(slspEditPersonalDetailsModule.name);\n\n","export class bcuFeesLinkController {\n\n    constructor($element) {\n        this.$element = $element[0];\n        this.form = this.$element.parentElement.parentElement;\n        this.display = false;\n    }\n\n    $doCheck() {\n      let form = false;\n      //console.log('old-module');\n            if (this.form.children[0].children[1] !== undefined && this.form.children[0].children[1].children[0] !== undefined) {\n                form = this.form.children[0].children[1].children[0];\n            }\n            else if (this.form.children[0].children[0] !== undefined && this.form.children[0].children[0].children[0] !== undefined) {\n                form = this.form.children[0].children[0].children[0];\n            }\n\n            //create and insert info block if not present\n\n            if (form && form.children.length >= 2 && this.display === false) {\n                this.display = true;\n                let info = document.createElement('DIV');\n                info.className = \"courier-info bar alert-bar\";\n                info.innerHTML =\n                `<h4>${this.afterCtrl.parentCtrl.$translate.instant('customize.fullview.feesTitle')}</h4>\n\t\t<p>${this.afterCtrl.parentCtrl.$translate.instant('customize.fullview.feesInfo')}</p>\n\t\t<p><a href=\"${this.afterCtrl.parentCtrl.$translate.instant('customize.fullview.feesUrl')}\"\n\t\ttarget=\"_blank\">${this.afterCtrl.parentCtrl.$translate.instant('customize.fullview.feesLinkText')}</a></p>`;\n                form.insertBefore(info, form.children[form.children.length -1]);\n            }\n        }\n}\n\nbcuFeesLinkController.$inject = ['$element'];","\n    import {bcuFeesLinkController} from './bcu-fees-link.controller';\n\n\n    export const bcuFeesLinkModule = angular\n        .module('bcuFeesLinkModule', [])\n            .controller('bcuFeesLinkController', bcuFeesLinkController)\n            .component('bcuFeesLinkComponent', {\n                bindings: {afterCtrl: '<'},\n                controller: 'bcuFeesLinkController',\n                \n            })","export class slspAlmaRequestController {\n\n    constructor($scope, $compile, $timeout) {\n        this.$scope = $scope;\n        this.$compile = $compile;\n        this.$timeout = $timeout;\n    }\n\n    $doCheck() {\n        try {\n            this.parentCtrl = this.afterCtrl.parentCtrl;\n\n                if (this.parentCtrl.serviceType == 'AlmaRequest' || this.parentCtrl.serviceType == 'AlmaItemRequest' || this.parentCtrl.serviceType == 'AlmaRequestAnyItem' || this.parentCtrl.serviceType == 'AlmaRequestOther') {\n\n                    this.requestLoan = requestLoan;\n                    let requestLoan = document.querySelectorAll('prm-opac form[name=\"requestForm\"]');\n                    \n                    angular.element(requestLoan).addClass('almaRequestLoan');\n\n                }\n\n                else if (this.parentCtrl.serviceType == 'AlmaDigitization' || this.parentCtrl.serviceType == 'AlmaDigitizationOther' || this.parentCtrl.serviceType == 'AlmaGeneralDigitization' || this.parentCtrl.serviceType == 'AlmaItemDigitization' || this.parentCtrl.serviceType == 'AlmaResourceSharing' ) {\n                    this.requestDigi = requestDigi;\n                    let requestDigi = document.querySelectorAll('prm-opac form[name=\"requestForm\"]');\n                    angular.element(requestDigi).removeClass('almaRequestLoan');\n                }\n\n            } catch (e) {\n                console.error(\"***SLSP*** an error occured: slspAlmaRequestController \\n\\n\");\n                console.error(e.message);\n            }\n        }\n    \n    \n    }\n    \n\n            \n\nslspAlmaRequestController.$inject = ['$scope', '$compile', '$timeout'];","\n    import {slspAlmaRequestController} from './slsp-alma-request.controller';\n\n\n    export const slspAlmaRequestModule = angular\n        .module('slspAlmaRequestModule', [])\n            .controller('slspAlmaRequestController', slspAlmaRequestController)\n            .component('slspAlmaRequestComponent', {\n                bindings: {afterCtrl: '<'},\n                controller: 'slspAlmaRequestController',\n                \n            })\n\n","import {bcuFeesLinkModule} from './bcu-fees-link/bcu-fees-link.module';\nimport {slspAlmaRequestModule} from './slsp-alma-request/slsp-alma-request.module';\n\n\nexport const slspRequestAfterModule = angular\n    .module('slspRequestAfterModule', [])\n        .component('prmRequestAfter',  {\n            bindings: {parentCtrl: '<'},\n            template: `<bcu-fees-link-component after-ctrl=\"$ctrl\"></bcu-fees-link-component>\n            <slsp-alma-request-component after-ctrl=\"$ctrl\"></slsp-alma-request-component>\n            <slsp-request-after parent-ctrl=\"$parent.$ctrl\"></slsp-request-after>`\n        });\n\nslspRequestAfterModule.requires.push(bcuFeesLinkModule.name);\nslspRequestAfterModule.requires.push(slspAlmaRequestModule.name);\n","//--------RequestCancelButton ---------------------------------------\n\n\nexport class slspRequestCancelButtonController {\n\n    constructor($scope) {\n        this.$scope = $scope;\n\n    }\n\n    $onInit() {\n        try {\n            this.parentCtrl = this.afterCtrl.parentCtrl;\n\n            this.$scope.$watch('this.$ctrl.parentCtrl.requestsDisplay', (currentRequestArray) => {\n\n                if (angular.isArray(currentRequestArray) && currentRequestArray.length > 0)\n\n                    angular.forEach(currentRequestArray, (request) => {\n\n\n                    if (request.requestType === 'ill') {\n                        if (request.statusCode === 'DELIVERED' ||\n                            request.statusCode === 'LOST_COMMUNICATED' ||\n                            request.statusCode === 'RECALLED_BOR' ||\n                            request.statusCode === 'RECEIVED_DIGITALLY' ||\n                            request.statusCode === 'RECEIVED_NOT_FOR_LOAN' ||\n                            request.statusCode === 'RECEIVED_PHYSICALLY' ||\n                            request.statusCode === 'RENEWED' ||\n                            request.statusCode === 'RENEW_NOT_ACCEPTED' ||\n                            request.statusCode === 'RENEW_REQUESTED' ||\n                            request.statusCode === 'REQUEST_COMPLETED' ||\n                            request.statusCode === 'SHIPPED_DIGITALLY' ||\n                            request.statusCode === 'SHIPPED_PHYSICALLY') {\n\n                            request.isCancelable = false;\n\n                        } else {\n                            request.isCancelable = true;\n                        }\n                    }\n                })\n            })\n          \n        } catch (e) {\n            console.error(\"***SLSP*** an error occured: RequestCancelButton \\n\\n\");\n            console.error(e.message);\n        }\n    }\n\n\n}\n\nslspRequestCancelButtonController.$inject = ['$scope'];","\n    import {slspRequestCancelButtonController} from './slsp-request-cancel-button.controller';\n    \n\n    export const slspRequestCancelButtonModule = angular\n        .module('slspRequestCancelButtonModule', [])\n            .controller('slspRequestCancelButtonController', slspRequestCancelButtonController)\n            .component('slspRequestCancelButtonComponent', {\n                bindings: {afterCtrl: '<'},\n                controller: 'slspRequestCancelButtonController',\n                \n            })","import { slspRequestCancelButtonModule } from './slsp-request-cancel-button/slsp-request-cancel-button.module';\n\nexport const slspRequestsAfterModule = angular\n    .module('slspRequestsAfterModule', [])\n    .component('prmRequestsAfter', {\n        bindings: { parentCtrl: '<' },\n        template: `\n            <slsp-request-cancel-button-component after-ctrl=\"$ctrl\"></slsp-request-cancel-button-component>\n            <slsp-requests-after parent-ctrl=\"$parent.$ctrl\"></slsp-requests-after>\n            `\n    });\n\n\nslspRequestsAfterModule.requires.push(slspRequestCancelButtonModule.name);","import {bcuSearchSlotsModule} from './bcu-search-slots/bcu-search-slots.module';\n\nexport const bcuSearchBarAfterModule = angular\n    .module('bcuSearchBarAfterModule', [])\n        .component('prmSearchBarAfter',  {\n            bindings: {parentCtrl: '<'},\n            template: `<bcu-search-slots-component after-ctrl=\"$ctrl\"></bcu-search-slots-component><slsp-search-bar-after parent-ctrl=\"$parent.$ctrl\"></slsp-search-bar-after>`\n        });\n\nbcuSearchBarAfterModule.requires.push(bcuSearchSlotsModule.name);\n","export class bcuSearchSlotsController {\n\n    $onInit() {\n        this.parentCtrl = this.afterCtrl.parentCtrl;\n        this.parentCtrl.showTabsAndScopes = true;\n    };\n\n}\n","/**\n* @ngdoc module\n* @name bcuSearchSlotsModule\n*\n* @description\n*\n* Customization for the search bar:<br>\n* - Tabs and scopes are displayed even if the search has not yet taken place (empty searchfield).\n*\n* <b>AngularJS Dependencies</b><br>\n*\n*\n* <b>CSS/Image Dependencies</b><br>\n*\n*\n* @example\n*\n*/\nimport {bcuSearchSlotsController} from './bcu-search-slots.controller';\n\nexport const bcuSearchSlotsModule = angular\n    .module('bcuSearchSlotsModule', [])\n        .controller('bcuSearchSlotsController', bcuSearchSlotsController)\n        .component('bcuSearchSlotsComponent',  {\n            bindings: {afterCtrl: '<'},\n            controller: 'bcuSearchSlotsController'\n        })\n","\nimport {slspDigitizationButtonLabelModule} from './slsp-digitization-button-label/slsp-digitization-button-label.module';\n\nexport const prmServiceButtonAfterModule = angular\n    .module('prmServiceButtonAfterModule', [])\n        .component('prmServiceButtonAfter',  {\n            bindings: {parentCtrl: '<'},\n            template: `<slsp-digitization-button-label-component after-ctrl=\"$ctrl\"></slsp-digitization-button-label-component><slsp-service-button-after parent-ctrl=\"$parent.$ctrl\"></slsp-service-button-after>`\n        });\n\n        prmServiceButtonAfterModule.requires.push(slspDigitizationButtonLabelModule.name);\n","//--------slspDigitizationButtonLabelController ---------------------------------------\n\n\nexport class slspDigitizationButtonLabelController {\n\n    constructor($scope, $compile, $timeout) {\n        this.$scope = $scope;\n        this.$compile = $compile;\n        this.$timeout = $timeout;\n    }\n\n    $onInit() {\n        try {\n            this.$timeout(() => {\n                this.parentCtrl = this.afterCtrl.parentCtrl;\n\n                if (this.parentCtrl.service.type !== undefined && this.parentCtrl.service.type === 'AlmaDigitization') {\n\n                    this.digiButtonLabel = digiButtonLabel;\n                    let digiButtonLabel = document.querySelectorAll('prm-full-view-service-container prm-service-button button span[translate=\"AlmaDigitization\"]');\n                    let html = `<div class=\"DigiButtonLabel1\">CHF</div>`;\n\n                    angular.element(digiButtonLabel).after(html).addClass('digiButton');\n                }\n\n\n                if (this.parentCtrl.service.type !== undefined && this.parentCtrl.service.type === 'AlmaGeneralDigitization') {\n\n                    this.digiButtonLabel = digiButtonLabel;\n                    let digiButtonLabel = document.querySelectorAll('prm-full-view-service-container prm-service-button button span[translate=\"AlmaGeneralDigitization\"]');\n                    let html = `<div class=\"DigiButtonLabel1\">CHF</div>`;\n\n                    angular.element(digiButtonLabel).after(html).addClass('digiButton');\n                }\n\n\n                if (this.parentCtrl.service.type !== undefined && this.parentCtrl.service.type === 'AlmaItemDigitization') {\n                    this.digiItemButtonLabel = digiItemButtonLabel;\n                    let digiItemButtonLabel = document.querySelectorAll('prm-full-view-service-container prm-service-button button span[translate=\"AlmaItemDigitization\"]');\n\n                    //let htmlItem = `<div class=\"DigiButtonLabel\" translate=\"customized.fee.digi\"></div>`;\n\n\n                    angular.element(digiItemButtonLabel).append(`<div class=\"DigiButtonLabel\">CHF</div>`).addClass('digiButton');\n                } else {\n                    return\n                }\n\n\n\n            }, 20);\n        } catch (e) {\n            console.error(\"***SLSP*** an error occured: Rapido \\n\\n\");\n            console.error(e.message);\n        }\n    }\n\n\n}\n\nslspDigitizationButtonLabelController.$inject = ['$scope', '$compile', '$timeout'];","\n    import {slspDigitizationButtonLabelController} from './slsp-digitization-button-label.controller';\n    import {slspDigitizationButtonLabelHtml} from './slsp-digitization-button-label.html';\n\n    export const slspDigitizationButtonLabelModule = angular\n        .module('slspDigitizationButtonLabelModule', [])\n            .controller('slspDigitizationButtonLabelController', slspDigitizationButtonLabelController)\n            .component('slspDigitizationButtonLabelComponent', {\n                bindings: {afterCtrl: '<'},\n                controller: 'slspDigitizationButtonLabelController',\n                template: slspDigitizationButtonLabelHtml\n            })","export const ethMetagridConfig = function(){\r\n    return {\r\n        // whitelist of providers whose links should be displayed.\r\n        // The array contains the slug of the provider.\r\n        // https://api.metagrid.ch/providers.json\r\n        // if you add a slug, you have also to add the labels (providers.json: 'short_description').\r\n        // You can either define a whitelist (only display items on the list) or a blacklist (display all items except those on the list).\r\n        // If both are defined, only the whitelist will be used. If neither are defined, all metagrid links will be displayed.\r\n        blacklist:\r\n            [\"viaf\", \"sudoc\", \"gnd\", \"histhub\", \"loc\"],\r\n        label: {\r\n            'hallernet': {\r\n                de: 'Editions- und Forschungsplattform hallerNet',\r\n                en: 'Editions- und Forschungsplattform hallerNet',\r\n                fr: 'Editions- und Forschungsplattform hallerNet',\r\n                it: 'Editions- und Forschungsplattform hallerNet'\r\n            },\r\n            'fotostiftung': {\r\n                de: 'Fotostiftung Schweiz',\r\n                en: 'Fotostiftung Schweiz',\r\n                fr: 'Fotostiftung Schweiz',\r\n                it: 'Fotostiftung Schweiz'\r\n            },\r\n            'sikart': {\r\n                de: 'SIKART',\r\n                en: 'SIKART',\r\n                fr: 'SIKART',\r\n                it: 'SIKART'\r\n            },\r\n            'elites-suisses-au-xxe-siecle': {\r\n                de: 'Schweizerische Eliten im 20. Jahrhundert',\r\n                en: 'Swiss elites database',\r\n                fr: 'Elites suisses au XXe siècle',\r\n                it: 'Elites suisses au XXe siècle'\r\n            },\r\n            'bsg': {\r\n                de: 'Bibliographie der Schweizergeschichte',\r\n                en: 'Bibliography on Swiss History',\r\n                fr: 'Bibliographie de l\\'histoire suisse',\r\n                it: 'Bibliografia della storia svizzera'\r\n\r\n            },\r\n            'dodis': {\r\n                de: 'Diplomatische Dokumente der Schweiz',\r\n                en: 'Diplomatic Documents of Switzerland',\r\n                fr: 'Documents diplomatiques suisses',\r\n                it: 'Documenti diplomatici svizzeri'\r\n            },\r\n            'helveticat': {\r\n                de: 'Helveticat',\r\n                en: 'Helveticat',\r\n                fr: 'Helveticat',\r\n                it: 'Helveticat'\r\n            },\r\n            'hls-dhs-dss': {\r\n                de: 'Historisches Lexikon der Schweiz',\r\n                en: 'Historical Dictionary of Switzerland',\r\n                fr: 'Dictionnaire historique de la Suisse',\r\n                it: 'Dizionario storico della Svizzera'\r\n            },\r\n            'histoirerurale': {\r\n                de: 'Archiv für Agrargeschichte',\r\n                en: 'Archives of rural history',\r\n                fr: 'Archives de l\\'histoire rurale',\r\n                it: 'Archivio della storia rurale'\r\n            },\r\n            'lonsea': {\r\n                de: 'Lonsea',\r\n                en: 'Lonsea',\r\n                fr: 'Lonsea',\r\n                it: 'Lonsea'\r\n            },\r\n            'ssrq': {\r\n                de: 'Sammlung Schweizerischer Rechtsquellen',\r\n                en: 'Collection of Swiss Law Sources',\r\n                fr: 'Collection des sources du droit suisse',\r\n                it: 'Collana Fonti del diritto svizzero'\r\n            },\r\n            'alfred-escher': {\r\n                de: 'Alfred Escher-Briefedition',\r\n                en: 'Alfred Escher letters edition',\r\n                fr: 'Edition des lettres Alfred Escher',\r\n                it: 'Edizione lettere Alfred Escher'\r\n            },\r\n            'geschichtedersozialensicherheit': {\r\n                de: 'Geschichte der sozialen Sicherheit',\r\n                en: 'Geschichte der sozialen Sicherheit',\r\n                fr: 'Histoire de la sécurité sociale',\r\n                it: 'Storia della sicurezza sociale'\r\n            }\r\n        }\r\n    }\r\n}\r\n","// Modified ETH Metagrid lookup module\r\n// Added support for IdRef in addition to GND\r\n// T. Guignard for UNIGE - April 2023\r\n\r\nexport class ethMetagridController {\r\n\r\n    constructor( ethConfigService, ethMetagridConfig, ethMetagridService ) {\r\n        this.ethConfigService = ethConfigService;\r\n        this.config = ethMetagridConfig;\r\n        this.ethMetagridService = ethMetagridService;\r\n    }\r\n    \r\n    buildMetalinkLinks(provider,id){\r\n        this.ethMetagridService.getConcordances(provider, id)\r\n        .then((data) => {\r\n            try{\r\n                if (!data)return;\r\n                if (!data.concordances || data.concordances.length === 0 || !data.concordances[0].resources || data.concordances[0].resources.length === 0)return;\r\n                \r\n                // Use Metagrid unique identifiers to avoid duplicates\r\n                let metagridId = data.concordances[0].id;\r\n                if (this.persons.find(x => x.id == metagridId))return;          \r\n                \r\n                let person = {};\r\n                person.id = metagridId;\r\n                let resources = data.concordances[0].resources;\r\n                let whitelistedMetagridLinks = [];\r\n                let whitelistedMetagridLinksSorted = [];\r\n\r\n                person.name = resources[0].metadata.last_name;\r\n                if(resources[0].metadata.first_name){\r\n                    person.name += ', ' + resources[0].metadata.first_name;\r\n                }\r\n\r\n                for(var j = 0; j < resources.length; j++){\r\n                    let resource = resources[j];\r\n                    let slug = resource.provider.slug;\r\n                    let url = resource.link.uri;\r\n\r\n                    // check whitelist for Metagrid links\r\n                    if (angular.isDefined(this.config.whitelist)){\r\n                        if (this.config.whitelist.indexOf(slug) === -1) {\r\n                            continue;\r\n                        }\r\n                    }\r\n                    else if (angular.isDefined(this.config.blacklist)){\r\n                        if (this.config.blacklist.indexOf(slug) > -1) {\r\n                            continue;\r\n                        }\r\n                    }\r\n                    \r\n\r\n                    let label = this.ethConfigService.getLabel(this.config, slug);\r\n                    whitelistedMetagridLinks.push({'slug': slug,'url': url, 'label': label});\r\n                }\r\n                // Dodis and HLS first\r\n                let dodis = whitelistedMetagridLinks.filter(e => {\r\n                    return e.slug === 'dodis';\r\n                });\r\n                whitelistedMetagridLinksSorted = whitelistedMetagridLinksSorted.concat(dodis);\r\n                let hls = whitelistedMetagridLinks.filter(e => {\r\n                    return e.slug === 'hls-dhs-dss';\r\n                });\r\n                whitelistedMetagridLinksSorted = whitelistedMetagridLinksSorted.concat(hls);\r\n                let rest = whitelistedMetagridLinks.filter(e => {\r\n                    return e.slug !== 'hls-dhs-dss' && e.slug !== 'dodis';\r\n                });\r\n                whitelistedMetagridLinksSorted = whitelistedMetagridLinksSorted.concat(rest);\r\n\r\n                person.metagridLinks = whitelistedMetagridLinksSorted;\r\n                this.persons.push(person);\r\n            }\r\n            catch(e){\r\n                console.error(\"an error occured: ethMetagridController: ethMetagridService.getConcordances callback:\\n\\n\");\r\n                console.error(e.message);\r\n            }\r\n        })\r\n    }\r\n\r\n    $onInit() {\r\n        try{\r\n            this.parentCtrl = this.afterCtrl.parentCtrl;\r\n\r\n            // this.persons = collection for all persons having a GND or IdRef ID\r\n            this.persons = [];\r\n\r\n            // Only run the rest of the code once the local fields have been loaded\r\n            if(!this.parentCtrl.item.pnx.display.lds03 && !this.parentCtrl.item.pnx.display.lds90)return;\r\n            \r\n            // array of all GND IDs\r\n            let gndIds = [];\r\n            \r\n            // array of all IdRef IDs\r\n            let idrefIds = [];\r\n            \r\n            if(angular.isDefined(this.parentCtrl.item.pnx.display.lds03)){\r\n                \r\n                // Look up any GND IDs found (in local field lds03)\r\n                let lds03 = this.parentCtrl.item.pnx.display.lds03;\r\n            \r\n                for(let i = 0; i < lds03.length; i++){\r\n                    // ALMA Ressources: link in value\r\n                    if(lds03[i].indexOf('/gnd/') > -1){\r\n                        let part = lds03[i].substring(lds03[i].indexOf('/gnd/') + 5);\r\n                        part = part.substring(0, part.indexOf('\">'));\r\n                        if(part.indexOf('(DE-588)')>-1){\r\n                            part = part.replace('(DE-588)','')\r\n                        }\r\n                        if(gndIds.indexOf(part)===-1)gndIds.push(part);\r\n                    }\r\n                    // External data: text in value\r\n                    else if (lds03[i].indexOf(': ') > -1) {\r\n                        let part = lds03[i].substring(lds03[i].indexOf(': ') + 2);\r\n                        if(part.indexOf('(DE-588)')>-1){\r\n                            part = part.replace('(DE-588)','')\r\n                        }\r\n                        if(gndIds.indexOf(part)===-1)gndIds.push(part);\r\n                    }\r\n                }\r\n                //console.log('Authorités GND:')\r\n                //console.log(gndIds);\r\n            }\r\n            \r\n            \r\n            if(this.parentCtrl.item.pnx.display.lds90){\r\n                \r\n                // Look up any IdRef IDs found (in local field lds90)\r\n                let lds90 = this.parentCtrl.item.pnx.display.lds90;\r\n            \r\n                for(let i = 0; i < lds90.length; i++){\r\n                    // Catch IdRef links provided as URLs\r\n                    if(lds90[i].indexOf('idref.fr/') > -1){\r\n                        let part = lds90[i].substring(lds90[i].indexOf('idref.fr/') + 9);\r\n                        part = part.substring(0, part.indexOf('\">'));\r\n                        // Remove any (IdRef) prefix\r\n                        if(part.indexOf('(IdRef)')>-1){\r\n                            part = part.replace('(IdRef)','')\r\n                        }\r\n                        if(idrefIds.indexOf(part)===-1)idrefIds.push(part);\r\n                    }\r\n                    // Catch identifiers provided with (IdRef) prefix\r\n                    else if (lds90[i].indexOf(': ') > -1) {\r\n                        let part = lds90[i].substring(lds90[i].indexOf(': ') + 2);\r\n                        if(part.indexOf('(IdRef)')>-1){\r\n                            part = part.replace('(IdRef)','')\r\n                        }\r\n                        if(idrefIds.indexOf(part)===-1)idrefIds.push(part);\r\n                    }\r\n                }\r\n                //console.log('Authorités IdRef:')\r\n                //console.log(idrefIds);\r\n            }\r\n            \r\n \r\n                for(var i = 0; i < gndIds.length; i++){\r\n                    let gndId = gndIds[i];\r\n                    if (gndId === \"\")continue;\r\n                    if (gndId.indexOf(')')>-1) {\r\n                        gndId = gndId.substring(gndId.lastIndexOf(')')+1);\r\n                    }\r\n                \r\n                    this.buildMetalinkLinks('gnd', gndId);\r\n                }\r\n            \r\n                for(var i = 0; i < idrefIds.length; i++){\r\n                    let idrefId = idrefIds[i];\r\n                    if (idrefId === \"\")continue;\r\n                    if (idrefId.indexOf(')')>-1) {\r\n                        idrefId = idrefId.substring(idrefId.lastIndexOf(')')+1);\r\n                    }\r\n                \r\n                    this.buildMetalinkLinks('sudoc', idrefId);\r\n                }\r\n            \r\n        }\r\n        catch(e){\r\n            console.error(\"***ETH*** an error occured: ethMetagridController.onInit()\\n\\n\");\r\n            console.error(e.message);\r\n            throw(e);\r\n        }\r\n    }\r\n}\r\n\r\nethMetagridController.$inject = ['ethConfigService', 'ethMetagridConfig', 'ethMetagridService'];\r\n","/**\r\n* @ngdoc module\r\n* @name ethMetagridModule\r\n*\r\n* @description\r\n*\r\n* - checks beacon.findbuch, Metagrid, Entityfacts (DNB), Wikidata for person informations (by GND ID)\r\n*\r\n* <b>AngularJS Dependencies</b><br>\r\n* Service /services {@link ETH.ethConfigService}<br>\r\n*\r\n*\r\n* <b>CSS/Image Dependencies</b><br>\r\n* CSS /css/eth-metagrid.css\r\n*\r\n*\r\n*/\r\nimport {ethConfigService} from '../../services/eth-config.service';\r\nimport {ethMetagridConfig} from './eth-metagrid.config';\r\nimport {ethMetagridService} from './eth-metagrid.service';\r\nimport {ethMetagridHtml} from './eth-metagrid.html';\r\nimport {ethMetagridController} from './eth-metagrid.controller';\r\n\r\n\r\nexport const ethMetagridModule = angular\r\n    .module('ethMetagridModule', [])\r\n        .factory('ethConfigService', ethConfigService)\r\n        .factory('ethMetagridConfig', ethMetagridConfig)\r\n        .factory('ethMetagridService', ethMetagridService)\r\n        .controller('ethMetagridController', ethMetagridController)\r\n        .component('ethMetagridComponent',{\r\n            bindings: {afterCtrl: '<'},\r\n            controller: 'ethMetagridController',\r\n            template: ethMetagridHtml\r\n        })\r\n","export const ethMetagridService = ['$http', '$sce', function($http, $sce){\r\n\r\n    let baseurl = 'https://api.metagrid.ch/search?group=1&skip=0&take=50';\r\n\r\n    function getConcordances(metagridService,metagridId){\r\n        let url = baseurl + '&provider=' + metagridService + '&query=' + metagridId;\r\n        $sce.trustAsResourceUrl(url);\r\n\r\n        return $http.get(url)\r\n            .then(\r\n                function(response){\r\n                    return response.data;\r\n                },\r\n                function(httpError){\r\n                    if (httpError.status === 404)return null;\r\n                    let error = \"an error occured: ethMetagridService callback: \" + httpError.status;\r\n                    if (httpError.data && httpError.data.errorMessage) {\r\n                        error += ' - ' + httpError.data.errorMessage;\r\n                    }\r\n                    console.error(error);\r\n                    return null;\r\n                }\r\n            );\r\n    }\r\n    return {\r\n        getConcordances: getConcordances\r\n    };\r\n}]\r\n","import { slspCollapseDetailsModule } from './slsp-collapse-details/slsp-collapse-details.module';\nimport { ethMetagridModule } from './eth-metagrid/eth-metagrid.module';\n\nexport const prmServiceDetailsAfterModule = angular\n    .module('prmServiceDetailsAfterModule', [])\n    .component('prmServiceDetailsAfter', {\n        bindings: { parentCtrl: '<' },\n        template: `\n            <slsp-collapse-details-component after-ctrl=\"$ctrl\"></slsp-collapse-details-component>\n            <slsp-service-details-after parent-ctrl=\"$parent.$ctrl\"></<slsp-service-details-after>\n            <eth-metagrid-component after-ctrl=\"$ctrl\"></eth-metagrid-component>`\n    });\n\n\nprmServiceDetailsAfterModule.requires.push(slspCollapseDetailsModule.name);\nprmServiceDetailsAfterModule.requires.push(ethMetagridModule.name);","export const hsgTranslatorService = ['$rootScope', '$log',\n\tfunction ($rootScope, $log) {\n\t\tthis.defaultLang = 'de'\n\n\t\tthis.getLang = function () {\n\t\t\tlet sms = $rootScope.$$childHead.$ctrl.userSessionManagerService\n\t\t\tif (!sms) {\n\t\t\t\t$log.error(\"UserSessionManagerService not available\")\n\t\t\t\treturn this.defaultLang\n\t\t\t}\n\t\t\telse {\n\t\t\t\treturn sms.getUserLanguage() || $window.appConfig['primo-view']['attributes-map'].interfaceLanguage\n\t\t\t}\n\t\t}\n\n\t\tthis.getLabel = function (key, config) {\n\t\t\tif (!config) {\n\t\t\t\t$log.error('no config object present', key)\n\t\t\t\treturn key\n\t\t\t}\n\t\t\tlet labels = config.labels\n\t\t\tif (!labels) {\n\t\t\t\tthrow new Error(\"Config contains no labels\")\n\t\t\t}\n\t\t\tlet labelSet = labels[key]\n\t\t\tif (!labelSet) {\n\t\t\t\t$log.error('label not found: ', key)\n\t\t\t\treturn key\n\t\t\t}\n\t\t\tlet lang = this.getLang()\n\t\t\tlet label = labelSet[lang]\n\t\t\tif (!label) {\n\t\t\t\t$log.error('no translation for label', key, lang)\n\t\t\t\tlabel = labelSet[this.defaultLang]\n\t\t\t}\n\t\t\tif (!label) {\n\t\t\t\t$log.error('no translation for label', key, this.defaultLang)\n\t\t\t\treturn key\n\t\t\t}\n\t\t\treturn label\n\t\t}\n\n\t\treturn {\n\t\t\tgetLang: this.getLang,\n\t\t\tgetLabel: this.getLabel\n\t\t}\n\n\t}]","export const slspCollapseDetailsConfig = {\n\tignore: ['lds03'], // use the label property of an entry of 'this.parentCtrl._details'\n\tcharCount: 400, // make foldable after that many chars\n\titemCount: 5, // make foldable after that many items\n\t\n\ticons: {\n\t  expand: '<md-icon md-svg-icon=\"hardware:ic_keyboard_arrow_down_24px\" class=\"md-primoExplore-theme\"><svg width=\"100%\" height=\"100%\" viewBox=\"0 0 24 24\" id=\"ic_keyboard_arrow_down_24px_cache154\" y=\"264\" xmlns=\"http://www.w3.org/2000/svg\" fit=\"\" preserveAspectRatio=\"xMidYMid meet\" focusable=\"false\"><path d=\"M7.41 7.84L12 12.42l4.59-4.58L18 9.25l-6 6-6-6z\"></path></svg></md-icon>',\n\t  collapse: '<md-icon class=\"hsg-fold-icon-collapse\" md-svg-icon=\"hardware:ic_keyboard_arrow_down_24px\" class=\"md-primoExplore-theme\"><svg width=\"100%\" height=\"100%\" viewBox=\"0 0 24 24\" id=\"ic_keyboard_arrow_down_24px_cache154\" y=\"264\" xmlns=\"http://www.w3.org/2000/svg\" fit=\"\" preserveAspectRatio=\"xMidYMid meet\" focusable=\"false\"><path d=\"M7.41 7.84L12 12.42l4.59-4.58L18 9.25l-6 6-6-6z\"></path></svg></md-icon>',\n\t},\n  };","export class slspCollapseDetailsController {\n\tconstructor($scope, $element, $sce, $compile, slspCollapseDetailsConfig, hsgTranslatorService) {\n\t\tthis.$scope = $scope;\n\t\tthis.$element = $element;\n\t\tthis.$sce = $sce;\n\t\tthis.$compile = $compile;\n\t\tthis.config = slspCollapseDetailsConfig;\n\t\tthis.translator = hsgTranslatorService;\n\t\tthis.waiting = true;\n\t\tthis.iconExpand = this.config.icons.expand;\n\t\tthis.iconCollapse = this.config.icons.collapse;\n\t\tthis.labels = {\n\t\t\texpandButtonLabel: '<span translate=\"fulldisplay.details.showAll\"> </span>',\n\t\t\tcollapseButtonLabel: '<span translate=\"fulldisplay.details.showLess\"></span>',\n\t\t};\n\n\t}\n\n\t$onInit() {\n\t\tthis.parentCtrl = this.afterCtrl.parentCtrl\n\n\t\tthis.parentCtrl.NUMBER_OF_DETAILS_TO_SHOW = 1000;\n\t\tthis.rootEl = this.$element.parent().parent().query('div').children()\n\t\tlet that = this\n\t\t//console.log(this);\n\t\t// add a watcher to the root element\n\t\t// trigger when children are rendered\n\t\t// and deregister after first call\n\t\tlet deregister = this.$scope.$watch(\n\t\t\tfunction () {\n\t\t\t\treturn that.rootEl.query('div')\n\t\t\t},\n\t\t\tfunction (newValue, oldValue) {\n\t\t\t\tif (that.waiting && newValue !== oldValue) {\n\t\t\t\t\tthat.waiting = false\n\t\t\t\t\tthat.makeFoldable()\n\t\t\t\t\tderegister()\n\t\t\t\t}\n\t\t\t}\n\t\t)\n\t}\n\n\tmakeFoldable() {\n\t\tlet details = this.parentCtrl._details\n\n\t\tfor (let key in details) {\n\t\t\tlet detail = details[key]\n\t\t\tif (typeof detail != 'object') {\n\t\t\t\tcontinue\n\t\t\t}\n\t\t\tif (this.config.ignore.includes(detail.label)) {\n\t\t\t\tcontinue\n\t\t\t}\n\t\t\tlet values = detail.values[0].values\n\t\t\t\n\t\t\tlet textLength = values[0].length\n\t\t\tconst configItem = this.config.itemCount;\n\t\t\tconst lowerBound = configItem + 3;\n\t\t\t//console.log(values);\n\t\t\t//console.log(detail);\n\t\t\tif (textLength > this.config.charCount) {\n\t\t\t\tthis.addMarkup(this.getItemContainer(key), 1, true)\n\t\t\t} else if (values.length > configItem && values.length >= lowerBound) {\n\t\t\t\tthis.addMarkup(this.getItemContainer(key), this.config.itemCount, false)\n\t\t\t}\n\t\t}\n\t}\n\n\tgetItemContainer(key) {\n\t\tlet children = this.rootEl.children()\n\t\tlet child = children[key]\n\t\treturn child.querySelector('.item-details-element-container')\n\t}\n\n\taddMarkup(itemContainer, count, longtext) {\n\t\titemContainer.classList.add('hsg-collapsed')\n\t\tlet item = itemContainer.querySelector('.item-details-element')\n\t\tlet listitems = item.querySelectorAll('[role=listitem]')\n\t\tfor (let key in listitems) {\n\t\t\tlet listitem = listitems[key]\n\t\t\tif (typeof listitem != 'object') {\n\t\t\t\tcontinue\n\t\t\t}\n\t\t\tif (longtext && key < count) {\n\t\t\t\tlistitem.classList.add('hsg-foldable-item-longtext')\n\t\t\t}\n\t\t\tif (key >= count) {\n\t\t\t\tlistitem.classList.add('hsg-foldable-item')\n\t\t\t}\n\t\t}\n\n\t\t//console.log(longtext);\n\n\t\tlet expand = document.createElement('div');\n\t\texpand.classList.add('hsg-expand-button');\n\t\texpand.innerHTML = this.iconExpand + this.labels.expandButtonLabel;\n\t\tthis.$compile(expand)(this.$scope);\n\t\titem.insertBefore(expand, item.children[count]);\n\n\t\tlet collapse = document.createElement('div');\n\t\tcollapse.classList.add('hsg-collapse-button');\n\t\tcollapse.style.display = 'none';\n\t\titem.appendChild(collapse);\n\n\t\texpand.addEventListener('click', () => {\n\t\t\texpand.style.display = 'none';\n\t\t\tcollapse.style.display = 'inline-block';\n\t\t\titemContainer.classList.remove('hsg-collapsed');\n\t\t\titemContainer.classList.add('hsg-expanded');\n\n\t\t\tcollapse.innerHTML = this.iconCollapse + this.labels.collapseButtonLabel;\n\t\t\tthis.$compile(collapse)(this.$scope);\n\t\t});\n\n\t\tcollapse.addEventListener('click', () => {\n\t\t\titemContainer.classList.add('hsg-collapsed');\n\t\t\titemContainer.classList.remove('hsg-expanded');\n\t\t\texpand.style.display = 'inline-block';\n\t\t\tcollapse.style.display = 'none';\n\t\t});\n\t}\n\n\n\n\ttranslate(key) {\n\t\tif (!this.config) {\n\t\t\tconsole.log(\"config missing\")\n\t\t\treturn key\n\t\t}\n\t\tlet msg = this.translator.getLabel(key, this.config)\n\t\treturn this.$sce.trustAsHtml(msg)\n\t}\n}\n\nslspCollapseDetailsController.$inject = ['$scope', '$element', '$sce', '$compile', 'slspCollapseDetailsConfig', 'hsgTranslatorService']\n\n\n","import { hsgTranslatorService } from './hsg-translator.service'\nimport { slspCollapseDetailsController } from './slsp-collapse-details.controller';\nimport { slspCollapseDetailsConfig } from './slsp-collapse-details.config';\n\nexport const slspCollapseDetailsModule = angular\n    .module('slspCollapseDetailsModule', [])\n    .constant('slspCollapseDetailsConfig', slspCollapseDetailsConfig)\n    .factory('hsgTranslatorService', hsgTranslatorService)\n    .controller('slspCollapseDetailsController', slspCollapseDetailsController)\n    .component('slspCollapseDetailsComponent', {\n        bindings: { afterCtrl: '<' },\n        controller: 'slspCollapseDetailsController',\n\n    })","export class bcuRapidoNoFurtherOptionsController {\n\n    constructor($scope) {\n        this.$scope = $scope;\n    }\n\n    $doCheck() {\n        try {\n            this.parentCtrl = this.afterCtrl.parentCtrl;\n            let msg = this.parentCtrl.almaRSServiceAvailable;\n            let isi = this.parentCtrl.isSignedIn();\n\n            let rapidoSection = document.getElementById('rapidoOffer');\n            let rapidoTOC = document.querySelector('button span[translate=\"brief.results.tabs.Get_it_from_other_locations\"]');\n\n            //console.log(\"msg:\", this.parentCtrl.almaRSServiceAvailable, \"isi:\", this.parentCtrl.isSignedIn(), rapidoTOC.parentElement, rapidoSection);\n\n            if (msg == \"false\" && isi == \"true\") {\n                angular.element(rapidoSection).addClass('slsp-hide-rapido');\n                angular.element(rapidoTOC.parentElement).addClass('slsp-hide-rapido');\n            } else {\n                if (angular.element(rapidoSection).hasClass('slsp-hide-rapido')) {\n                    angular.element(rapidoSection).removeClass('slsp-hide-rapido');\n                }\n                if (angular.element(rapidoTOC.parentElement).hasClass('slsp-hide-rapido')) {\n                    angular.element(rapidoTOC.parentElement).removeClass('slsp-hide-rapido');\n                }\n            }\n        } catch (e) {\n            console.error(\"***SLSP*** an error occured: Rapido no Further Options\\n\\n\");\n            console.error(e.message);\n        }\n    }\n\n}\n\nbcuRapidoNoFurtherOptionsController.$inject = ['$scope'];","import {bcuRapidoNoFurtherOptionsController} from './bcu-rapido-no-further-options.controller';\n//import {slspIllSigninOrderLoggedOutService} from '../../prm-user-area-expandable-after/slsp-ill-signin-order-logged-out/slsp-ill-signin-order-logged-out.service';\n\nexport const bcuRapidoNoFurtherOptionsModule = angular\n    .module('bcuRapidoNoFurtherOptionsModule', [])\n        //.factory('slspIllSigninOrderLoggedOutService', slspIllSigninOrderLoggedOutService)\n        .controller('bcuRapidoNoFurtherOptionsController', bcuRapidoNoFurtherOptionsController)\n        .component('bcuRapidoNoFurtherOptions', {\n            bindings: {afterCtrl: '<'},\n            controller: 'bcuRapidoNoFurtherOptionsController'\n        })","import { slspRapidoFeesLinkModule } from './slsp-rapido-fees-link/slsp-rapido-fees-link.module';\nimport { bcuRapidoNoFurtherOptionsModule } from './bcu-rapido-no-further-options/bcu-rapido-no-further-options.module';\n\n\nexport const prmServiceNgrsAfterModule = angular\n    .module('prmServiceNgrsAfterModule', [])\n    .component('prmServiceNgrsAfter', {\n        bindings: { parentCtrl: '<' },\n        template: `<slsp-rapido-fees-link-component after-ctrl=\"$ctrl\"></slsp-rapido-fees-link-component>\n            <bcu-rapido-no-further-options after-ctrl=\"$ctrl\"></bcu-rapido-no-further-options>\n            <slsp-service-ngrs-after parent-ctrl=\"$parent.$ctrl\"></<slsp-service-ngrs-after>`\n    });\n\nprmServiceNgrsAfterModule.requires.push(slspRapidoFeesLinkModule.name);\nprmServiceNgrsAfterModule.requires.push(bcuRapidoNoFurtherOptionsModule.name);","\n\n//--------Rapido Fees Link ---------------------------------------\n\n\nexport class slspRapidoFeesLinkController {\n\n    constructor( $scope, $compile ) {\n        this.$scope = $scope;\n        this.$compile = $compile;\n        \n    }\n\n      \n    $onInit() {\n            try{\n                this.parentCtrl = this.afterCtrl.parentCtrl;\n                this.rapidoFeesLink = rapidoFeesLink;\n                \n                let rapidoFeesLink = document.querySelector('#rapidoOffer div.full-view-section-content prm-full-view-service-container div.section-head h4');\n                let html = `<div class=\"rapidoFeesLink neutralized-button arrow-link-button md-button md-primoExplore-theme md-ink-ripple\"><a href=\"${this.afterCtrl.parentCtrl.$translate.instant('customize.fullview.feesUrl')}\" target=\"_blank\"><span translate=\"customized.rapido.fees\">see fees details via link</span><prm-icon link-arrow=\"\" icon-type=\"svg\" svg-icon-set=\"primo-ui\" icon-definition=\"chevron-right\" [display-mode]=\"::$ctrl.displayMode\"><!----><md-icon ng-if=\"::($ctrl.iconDefinition &amp;&amp; !$ctrl.isCustom &amp;&amp; !$ctrl.isEmailMode())\" md-svg-icon=\"primo-ui:chevron-right\" role=\"presentation\" class=\"md-primoExplore-theme\"><svg id=\"chevron-right_cache76\" width=\"100%\" height=\"100%\" viewBox=\"0 0 24 24\" y=\"384\" xmlns=\"http://www.w3.org/2000/svg\" fit=\"\" preserveAspectRatio=\"xMidYMid meet\" focusable=\"false\">\n                <path d=\"M8.59,16.58L13.17,12L8.59,7.41L10,6L16,12L10,18L8.59,16.58Z\"></path>\n            </svg></md-icon><!----><!----><prm-icon-after parent-ctrl=\"$ctrl\"></prm-icon-after></prm-icon></a></div>`;\n                        \n                    angular.element(rapidoFeesLink).after(this.$compile(html)(this.$scope));\n            }\n                               \n            \n            catch(e){\n                console.error(\"***SLSP*** an error occured: Rapido Fees Link\\n\\n\");\n                console.error(e.message);\n            }\n          \n        }\n    }\n\n    slspRapidoFeesLinkController.$inject = ['$scope', '$compile'];\n","\n    import {slspRapidoFeesLinkController} from './slsp-rapido-fees-link.controller';\n    import {slspRapidoFeesLinkHtml} from './slsp-rapido-fees-link.html';\n\n    export const slspRapidoFeesLinkModule = angular\n        .module('slspRapidoFeesLinkModule', [])\n            .controller('slspRapidoFeesLinkController', slspRapidoFeesLinkController)\n            .component('slspRapidoFeesLinkComponent', {\n                bindings: {afterCtrl: '<'},\n                controller: 'slspRapidoFeesLinkController',\n                template: slspRapidoFeesLinkHtml\n            })","export class ethDisableRequestButtonController {\n\n    $onInit() {\n        try{\n            this.parentCtrl = this.afterCtrl.parentCtrl;\n            this.processDoCheck = true;\n        }\n        catch(e){\n            console.error(\"***ETH*** an error occured: ethDisableRequestButtonController \\n\\n\");\n            console.error(e.message);\n        }\n    }\n\n    $doCheck() {\n        try{\n            if(!this.processDoCheck || !document.querySelector('prm-service-physical-best-offer .offer_details .rota_line > div > span'))return;\n            let noAvailableCopies = document.querySelector('[translate=\"rapido.tiles.physical.no_best_offer.line_2\"]');\n            if(noAvailableCopies){\n                let requestButton = document.querySelector('#get_it_btn_physical');\n                angular.element(requestButton).attr('disabled', 'disabled');\n            }\n            this.processDoCheck = false;\n        }\n        catch(e){\n            console.error(\"***ETH*** an error occured: ethDisableRequestButtonController $doCheck\\n\\n\");\n            console.error(e.message);\n        }\n    }\n}\n","import {ethDisableRequestButtonController} from './eth-disable-request-button.controller';\n\nexport const ethDisableRequestButtonModule = angular\n    .module('ethDisableRequestButtonModule', [])\n        .controller('ethDisableRequestButtonController', ethDisableRequestButtonController)\n        .component('ethDisableRequestButtonComponent',  {\n            bindings: {afterCtrl: '<'},\n            controller: 'ethDisableRequestButtonController',\n        })\n","import { slspRapidoDigitalOfferModule } from './slsp-rapido-digital-offer/slsp-rapido-digital-offer.module';\nimport { slspIconLabelRapidoModule } from './slsp-icon-label-rapido/slsp-icon-label-rapido.module';\nimport { ethDisableRequestButtonModule } from './eth-disable-request-button/eth-disable-request-button.module';\nimport { unigeLocalPodDisableModule } from './unige-local-pod-disable/unige-local-pod-disable.module';\n\nexport const prmServicePhysicalBestOfferAfterModule = angular\n    .module('prmServicePhysicalBestOfferAfterModule', [])\n    .component('prmServicePhysicalBestOfferAfter', {\n        bindings: { parentCtrl: '<' },\n        template: `<slsp-rapido-digital-offer-component after-ctrl=\"$ctrl\"></slsp-rapido-digital-offer-component>\n            <slsp-icon-label-rapido-component after-ctrl=\"$ctrl\"></slsp-icon-label-rapido-component>\n            <eth-disable-request-button-component after-ctrl=\"$ctrl\"></eth-disable-request-button-component>\n            <slsp-service-physical-best-offer-after parent-ctrl=\"$parent.$ctrl\"></slsp-service-physical-best-offer-after>\n            <unige-local-pod-disable-component after-ctrl=\"$ctrl\"></unige-local-pod-disable-component>`,\n    });\n\nprmServicePhysicalBestOfferAfterModule.requires.push(slspRapidoDigitalOfferModule.name);\nprmServicePhysicalBestOfferAfterModule.requires.push(slspIconLabelRapidoModule.name);\nprmServicePhysicalBestOfferAfterModule.requires.push(ethDisableRequestButtonModule.name);\nprmServicePhysicalBestOfferAfterModule.requires.push(unigeLocalPodDisableModule.name);","//--------slspIconLabel ---------------------------------------\n\n\nexport class slspIconLabelRapidoController {\n\n    constructor($scope, $compile, $timeout) {\n        this.$scope = $scope;\n        this.$compile = $compile;\n        this.$timeout = $timeout;\n    }\n\n\n\n    $onInit() {\n        try {\n            this.$timeout(() => {\n                this.parentCtrl = this.afterCtrl.parentCtrl;\n\n                /*icon label*/\n                if (this.parentCtrl.isdigitaloffer === true) {\n                    this.iconLabel = iconLabel;\n\n                    let iconLabel = document.querySelectorAll('#item-ngrs > div > div > div[ng-if=\"$ctrl.digitalTileVisible\"] > prm-service-physical-best-offer > div > div.icon-wrapper');\n                    let html1 = `<div class=\"icnWrp\"><div class=\"iconDiv\"><svg xmlns=\"http://www.w3.org/2000/svg\" id=\"Ebene_2\" width=\"100%\" height=\"100%\" viewBox=\"0 0 185 185\"><g id=\"System_icons\"><g><rect width=\"185\" height=\"185\" fill=\"none\" opacity=\".2\"/><g><g><circle cx=\"130\" cy=\"130\" r=\"10.57\" fill=\"none\" stroke=\"#000\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"6\"/><path d=\"M145.26,152.31c-4.34,2.98-9.6,4.69-15.26,4.69-14.91,0-27-12.09-27-27s12.09-27,27-27,27,12.09,27,27v2.35c0,4.54-3.68,8.21-8.21,8.21s-8.22-3.68-8.22-8.21v-2.35\" fill=\"none\" stroke=\"#000\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"6\"/></g><g><path d=\"M88.91,130H37c-4.97,0-9-4.03-9-9V55c0-4.96,4.03-9,9-9h108c4.97,0,9,4.04,9,9v42.32\" fill=\"none\" stroke=\"#000\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"6\"/><polyline points=\"151 49 91 97 31 49\" fill=\"none\" stroke=\"#000\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"6\"/></g></g></g></g></svg></div><div class=\"iconLabel\" translate=\"customized.fee.digi\"></div></div>`;\n\n\n                    angular.element(iconLabel).after(this.$compile(html1)(this.$scope)).addClass('icnLbl');\n                }\n\n                if (this.parentCtrl.isdigitaloffer !== true) {\n                    this.iconLabel2 = iconLabel2;\n                    let iconLabel2 = document.querySelectorAll('#item-ngrs > div > div > div[ng-if=\"$ctrl.physicalTileVisible\"] > prm-service-physical-best-offer > div > div.icon-wrapper');\n                    let html2 = `<div class=\"icnWrp\"><div class=\"iconDiv\"><svg xmlns=\"http://www.w3.org/2000/svg\" id=\"Ebene_2\" width=\"100%\" height=\"100%\" viewBox=\"0 0 185 185\"><g id=\"System_icons\"><g><rect width=\"185\" height=\"185\" fill=\"none\" opacity=\".2\"/><g><line x1=\"6.16\" y1=\"82.58\" x2=\"29.16\" y2=\"82.62\" fill=\"none\" stroke=\"#000\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"6\"/><line x1=\"17.66\" y1=\"97.91\" x2=\"29.16\" y2=\"97.95\" fill=\"none\" stroke=\"#000\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"6\"/><line x1=\"25.33\" y1=\"113.24\" x2=\"29.16\" y2=\"113.28\" fill=\"none\" stroke=\"#000\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"6\"/><g><circle cx=\"151.84\" cy=\"125.5\" r=\"12\" fill=\"none\" stroke=\"#000\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"6\"/><circle cx=\"67.84\" cy=\"125.5\" r=\"12\" fill=\"none\" stroke=\"#000\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"6\"/><polyline points=\"163.84 125.5 178.84 125.5 178.84 98.5 160.47 65.84 124.84 65.84 124.84 47.5 40.84 47.5 40.84 125.5 55.84 125.5\" fill=\"none\" stroke=\"#000\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"6\"/><line x1=\"139.84\" y1=\"125.5\" x2=\"79.84\" y2=\"125.5\" fill=\"none\" stroke=\"#000\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"6\"/><line x1=\"124.84\" y1=\"53.5\" x2=\"124.84\" y2=\"125.5\" fill=\"none\" stroke=\"#000\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"6\"/><line x1=\"178.84\" y1=\"98.5\" x2=\"124.84\" y2=\"98.5\" fill=\"none\" stroke=\"#000\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"6\"/></g></g></g></g></svg></div><div class=\"iconLabel\" translate=\"customized.fee.courier\">Courier</div><div class=\"courierInfo\" translate=\"customized.fee.localcourier\">blabla bla Blaabl bla</div></div>`;\n\n                    angular.element(iconLabel2).after(this.$compile(html2)(this.$scope)).addClass('icnLbl2');\n                }\n\n\n            }, 0);\n        } catch (e) {\n            console.error(\"***SLSP*** an error occured: Rapido \\n\\n\");\n            console.error(e.message);\n        }\n    }\n\n}\n\nslspIconLabelRapidoController.$inject = ['$scope', '$compile', '$timeout'];\n\n\n\n// md-content > prm-locations > div.padding-left-medium > md-list.separate-list-items.margin-bottom-medium.padding-bottom-zero.md-primoExplore-theme","\n    import {slspIconLabelRapidoController} from './slsp-icon-label-rapido.controller';\n    import {slspIconLabelRapidoHtml} from './slsp-icon-label-rapido.html';\n\n    export const slspIconLabelRapidoModule = angular\n        .module('slspIconLabelRapidoModule', [])\n            .controller('slspIconLabelRapidoController', slspIconLabelRapidoController)\n            .component('slspIconLabelRapidoComponent', {\n                bindings: {afterCtrl: '<'},\n                controller: 'slspIconLabelRapidoController',\n                template: slspIconLabelRapidoHtml\n            })","export class slspRapidoDigitalOfferController {\n\n    constructor($scope, $compile, $timeout) {\n        this.$scope = $scope;\n        this.$compile = $compile;\n        this.$timeout = $timeout;\n        this.loaderTemplate = `<div class=\"slsp-rapido-loader\"><prm-spinner class=\"inline-loader dark-on-light\" layout=\"row\" layout-align=\"start center\"></prm-spinner></div>`\n    }\n\n    $onInit() {\n        try {\n\n            this.parentCtrl = this.afterCtrl.parentCtrl;\n            this.isDone = false;\n\n        } catch (e) {\n            console.error(\"***SLSP*** an error occured: Rapido onInit \\n\\n\");\n            console.error(e.message);\n        }\n    }\n\n    $doCheck() {\n        try {\n\n\n            // loader\n            const loadingText = document.querySelectorAll('span[translate=\"rapido.tiles.placeholder.text\"]')\n            if (loadingText) {\n                Array.from(loadingText).forEach(text => {\n                    if (!text.classList.contains('rapido-loading')) {\n                        angular.element(text).after(this.$compile(this.loaderTemplate)(this.$scope)).addClass('rapido-loading')\n                    }\n                })\n            }\n\n            if (this.isDone) return;\n\n            // tilesplaceholderactive is true until the tile is loaded, also by reselecting pickupinfo\n            if (this.parentCtrl.tilesplaceholderactive == true) return;\n\n\n            /* costs per page */\n            if (this.parentCtrl.isdigitaloffer === true) {\n\n                this.$timeout(() => {\n                    let rapidoCosts = document.querySelectorAll('div[ng-if=\"$ctrl.digitalTileVisible\"] .patron_cost.last_line');\n                    let htmlRc = `<div class=\"rapidoCosts\" translate=\"customized.rapido.digi\"></div>`;\n                    angular.element(rapidoCosts).after(this.$compile(htmlRc)(this.$scope));\n                }, 20);\n            }\n\n\n            /* reservation button */\n            if (this.parentCtrl.isdigitaloffer !== true && this.parentCtrl.bestoffer !== undefined && this.parentCtrl.bestoffer.unavailableInAllMembersPod === true && this.parentCtrl.bestoffer.unavailableResource === true) {\n                this.$timeout(() => {\n                    let reservation = document.querySelectorAll('prm-service-physical-best-offer .get_it_btn_physical > span');\n                    let htmlR1 = `<div class=\"reservationButton\" translate=\"customized.rapido.reservation\"></div>`;\n\n                    angular.element(reservation).after(this.$compile(htmlR1)(this.$scope)).addClass('noOffer');\n                }, 20);\n            }\n\n\n            /* reading room POD */\n            if (this.parentCtrl.isdigitaloffer !== true && this.parentCtrl.bestoffer !== undefined && this.parentCtrl.bestoffer.podId == '452167832730000041' ||\n                this.parentCtrl.isdigitaloffer !== true && this.parentCtrl.bestoffer !== undefined && this.parentCtrl.bestoffer.podId == '452167827350000041' ||\n                this.parentCtrl.isdigitaloffer !== true && this.parentCtrl.bestoffer !== undefined && this.parentCtrl.bestoffer.podId == '452497325370000041' ||\n                this.parentCtrl.isdigitaloffer !== true && this.parentCtrl.bestoffer !== undefined && this.parentCtrl.bestoffer.podId == '452497929300000041' ||\n                this.parentCtrl.isdigitaloffer !== true && this.parentCtrl.bestoffer !== undefined && this.parentCtrl.bestoffer.podId == '452084165700000041') {\n\n                this.$timeout(() => {\n                    let readingRoomPod = document.querySelectorAll('div[ng-if=\"$ctrl.physicalTileVisible\"] prm-service-physical-best-offer .keep_for span');\n                    let htmlPD = `<span class=\"reading-Room-Pod\" translate=\"customized.rapido.readingroom\"></span>`;\n\n                    angular.element(readingRoomPod).after(this.$compile(htmlPD)(this.$scope)).addClass('pod');\n                }, 20);\n            }\n\n            this.isDone = true;\n\n\n        } catch (e) {\n            console.error(\"***SLSP*** an error occured: Rapido doCheck \\n\\n\");\n            console.error(e.message);\n        }\n    }\n}\n\n\n\nslspRapidoDigitalOfferController.$inject = ['$scope', '$compile', '$timeout'];","   \n\n    import {slspRapidoDigitalOfferController} from './slsp-rapido-digital-offer.controller';\n   \n\n    export const slspRapidoDigitalOfferModule = angular\n        .module('slspRapidoDigitalOfferModule', [])\n            .controller('slspRapidoDigitalOfferController', slspRapidoDigitalOfferController)\n            .component('slspRapidoDigitalOfferComponent',  {\n                bindings: {afterCtrl: '<'},\n                controller: 'slspRapidoDigitalOfferController',\n                \n            })\n    ","export const unigeLocalPodDisableModule = angular\n    .module('unigeLocalPodDisableModule', [])\n    .controller('unigeLocalPodDisableController', ['$scope','$translate', function ($scope, $translate) {\n        var vm = this;\n        this.$onInit = function() {\n            // Prepare message to be displayed\n            var podInfoMsg;\n            $translate('unige_rapido_pod').then((translation) => {if (angular.isDefined(translation)){podInfoMsg = translation}});\n            $scope.$watch(\n                function () {\n                    // if (angular.isDefined(document.querySelector('#get_it_btn_physical'))) {\n                    if (typeof document.querySelector('#get_it_btn_physical') === \"undefined\") {\n                        return;\n                    }\n                    try {\n                        // As soon as there the button is OK\n                        // console.log('*UNIGE* Button OK');\n                        if (angular.isDefined(vm.afterCtrl.parentCtrl.bestoffer) && angular.isDefined(vm.afterCtrl.parentCtrl.bestoffer.supplyTime) && (vm.afterCtrl.parentCtrl.bestoffer.supplyTime == 1)) {\n                            // As soon all is OK \n                            // console.log('*UNIGE* Local pod resource identified, disabling ordering function.');\n                            let requestButton = document.querySelector('#get_it_btn_physical');\n                            var myAlertPodGe = document.querySelector('#alertpodge');\n                            // var myAlertPodGe = document.getElementById('alertpodge');\n                            // Display info message\n                            if ((!myAlertPodGe) && (typeof requestButton !== \"undefined\") && (requestButton != null)) {\n                                // console.log('*UNIGE* message added');\n                                requestButton.insertAdjacentHTML(\"beforebegin\", podInfoMsg);\n\n                                // Disable button\n                                angular.element(requestButton).attr('disabled', 'disabled');\n                            }\n                        }\n                    }\n                    catch (e) {\n                        console.error(\"***UNIGE*** an error occured: unigeLocalPodDisableModule\\n\\n\");\n                        console.error(e.message);\n                        throw(e)\n                    }\n                },\n\n            );\n        }\n    }])\n    .component('unigeLocalPodDisableComponent', {\n        bindings: {afterCtrl: `<`},\n        controller: 'unigeLocalPodDisableController',\n        template: ''  \n    });","export class bcuScopesSelectorController {\n    $onInit() {\n        setTimeout(function(){\n            function activateSearch(){\n                setTimeout(function(){\n                    document.getElementsByClassName(\"zero-margin button-confirm md-button md-primoExplore-theme\")[0].click()\n                }, 100)\n            }\n            let searchScopes = document.querySelectorAll('[id^=\"select_option_\"]');\n            for (let i in searchScopes){\n                if( typeof searchScopes[i] === 'object' && searchScopes[i] !== null) {\n                    searchScopes[i].onclick = function(){\n                        activateSearch();\n                    };\n                }\n            }\n        }, 100)\n    }\n}\n","import {bcuScopesSelectorController} from './bcu-scopes-selector.controller';\n\nexport const bcuScopesSelectorModule = angular\n    .module('bcuScopesSelectorModule', [])\n        .controller('bcuScopesSelectorController', bcuScopesSelectorController)\n        .component('bcuScopesSelector',{\n            bindings: {parentCtrl: '<'},\n            controller: 'bcuScopesSelectorController',\n\n        })\n","import {bcuScopesSelectorModule} from './bcu-scopes-selector/bcu-scopes-selector.module';\n\nexport const bcuTabsAndScopesSelectorAfterModule = angular\n    .module('bcuTabsAndScopesSelectorAfterModule', [])\n        .component('prmTabsAndScopesSelectorAfter',  {\n            template: '<bcu-scopes-selector after-ctrl=\"$ctrl\"></bcu-scopes-selector><slsp-tabs-and-scopes-selector-after parent-ctrl=\"$parent.$ctrl\"></slsp-tabs-and-scopes-selector-after>'\n        });\n\nbcuTabsAndScopesSelectorAfterModule.requires.push(bcuScopesSelectorModule.name);","require('./unige-target-blank-fix/unige-target-blank-fix.module.js')\nmodule.exports = 'unigeTargetBlankFix'","angular\n    .module('unigeTargetBlankFix', [])\n    .controller('unigeTargetBlankFixController', ['$scope', function ($scope) {\n        var vm = this;\n        this.$onInit = function() {\n                $scope.$watch(\n                    function () {\n                        if (angular.isDefined(vm.parentCtrl.mainView)){\n                            // Wait until the mainView array has been fully created before going further\n                            return vm.parentCtrl.mainView;\n                        }\n                        return 0;\n                    },\n                    function () {\n                            // Set target=\"_self\" for all items in the top menu\n                            vm.parentCtrl.mainView.forEach((menuItem) => {\n                                menuItem.target = '_self'; \n                            });\n                            \n                            // Add another watcher for the overlay menu\n                            $scope.$watch(\n                                function () {\n                                    if (document.getElementsByClassName('custom-links-container').length > 0){\n                                        // Wait until the overlay menu has been created\n                                        return document.getElementsByClassName('custom-links-container').length;\n                                    }\n                                    return 0;\n                                },\n                                function () {\n                                        // This function is called upon init too. Only process case when the overlay menu has been created\n                                        if (document.getElementsByClassName('custom-links-container').length > 0){\n                                            \n                                            let overlayLinks = document.getElementsByClassName('custom-links-container')[0].children;\n                                            \n                                            for (let i = 0; i < overlayLinks.length; i++) {\n                                                overlayLinks[i].firstElementChild.target = '_self'; \n                                            }\n                                        }\n                                    }\n                            );\n                        }\n                );\n                \n            }\n    }])\n    .component('prmTopNavBarLinksAfter', {\n        bindings: {parentCtrl: `<`},\n        controller: 'unigeTargetBlankFixController'\n    });","export class bcuLangSwitchController {\n\n    constructor($element, $window) {\n        this.$parent = $element.parent().parent()[0];\n        \n        this.$window = $window;\n    }\n\n    $onInit() {\n        try {\n            this.parentCtrl = this.afterCtrl.parentCtrl;\n            // this.languages = [\"de\",\"fr\",\"it\",\"en\"];\n            // UNIGE enabled languages : FR and EN only\n            this.languages = [\"fr\",\"en\"];\n            if (!this.languages.includes(this.parentCtrl.lang)) {\n                this.changeLanguage(\"en\");\n            }\n            \n        }\n        catch (e) {\n            console.error(\"***BCUFR*** bcuLangSwitchControler $onInit\");\n            console.error(e.message);\n        }\n    };\n\n    changeLanguage(lang) {\n        \n        this.parentCtrl.changeLangService.addLangParamToUrl(lang);\n        let t = this.parentCtrl;\n        this.parentCtrl.i18nService.setLanguage(lang).then(function(){\n            t.$timeout(function(){return t.$state.go(t.$state.current,{lang:lang},{reload:!0})})\n        });\n };\n\n}\nbcuLangSwitchController.$inject = ['$element'];","/**\n* @ngdoc module\n* @name bcuLangSwitchModule\n*\n* @description\n* - Add LangSwitch to user area\n* @example\n* each view\n*\n*/\nimport {bcuLangSwitchController} from './bcu-lang-switch.controller';\n\nexport const bcuLangSwitchModule = angular\n    .module('bcuLangSwitchModule', [])\n        .controller('bcuLangSwitchController', bcuLangSwitchController)\n        .component('bcuLangSwitchComponent',  {\n            bindings: {afterCtrl: '<'},\n            controller: 'bcuLangSwitchController',\n//            template: '<button class=\"md-button md-lang-button\" ng-repeat=\"(lang, url) in $ctrl.languages\" ng-class=\"{active: $ctrl.afterCtrl.parentCtrl.lang == lang}\"><a href=\"{{url}}\">{{lang}}</a></button>'\n            template: '<button class=\"md-button md-lang-button\" ng-repeat=\"lang in $ctrl.languages\" ng-class=\"{active: $ctrl.afterCtrl.parentCtrl.lang == lang}\" ng-click=\"$ctrl.changeLanguage(lang)\">{{lang}}</button>'\n        })\n","\nexport class slspIllSigninOrderLoggedOutController {\n\n    constructor(slspIllSigninOrderLoggedOutService, $scope) {\n        this.slspIllSigninOrderLoggedOutService = slspIllSigninOrderLoggedOutService;\n        this.$scope = $scope;\n    }\n\n    $doCheck() {\n        try{\n            this.parentCtrl = this.afterCtrl.parentCtrl;\n            this.$scope.usrNme = this.slspIllSigninOrderLoggedOutService.isGuest();\n\n            if (this.$scope.usrNme == true) {\n                let myEl = angular.element(document.querySelector('primo-explore'));\n                return myEl.addClass('logged-out')\n            }\n        \n            else {\n                let myEl = angular.element(document.querySelector('primo-explore'));\n                return myEl.removeClass('logged-out');\n            }\n        }\n        catch(e){\n            console.error(\"***SLSP*** an error occured: slspIllSigninOrderLoggedOutController\\n\\n\");\n            console.error(e.message);\n        }\n    }\n}\n\nslspIllSigninOrderLoggedOutController.$inject = ['slspIllSigninOrderLoggedOutService', '$scope'];\n        \n\n","\n\n    //--------ILL Signin Order -  if logged out ---------------------------------------\n   \n\n    import {slspIllSigninOrderLoggedOutController} from './slsp-ill-signin-order-logged-out.controller';\n    import {slspIllSigninOrderLoggedOutService} from './slsp-ill-signin-order-logged-out.service';\n\n    export const slspIllSigninOrderLoggedOutModule = angular\n        .module('slspIllSigninOrderLoggedOutModule', [])\n            .factory('slspIllSigninOrderLoggedOutService', slspIllSigninOrderLoggedOutService)\n            .controller('slspIllSigninOrderLoggedOutController', slspIllSigninOrderLoggedOutController)\n            .component('slspIllSigninOrderLoggedOutComponent',  {\n                bindings: {afterCtrl: '<'},\n                controller: 'slspIllSigninOrderLoggedOutController',\n                \n            })\n    ","\n\n    export const slspIllSigninOrderLoggedOutService = ['jwtHelper', function( jwtHelper ){\n\n        function getDecodedToken(){\n            try{\n                if (!sessionStorage){\n                    console.error(\"***SLSP*** no session storage\")\n                    return null;\n                }\n                let jwt = sessionStorage.getItem('primoExploreJwt');\n                if (!jwt){\n                    return null;\n                }\n                return jwtHelper.decodeToken(jwt);\n            }\n            catch(e){\n                console.error(\"**SLSP*** an error occured: userService.getDecodedToken:\");\n                console.error(e.message);\n            }\n        }\n  \n        function isGuest(){\n            try{\n                let decodedToken = getDecodedToken();\n                if (!decodedToken) {\n                    return null;\n                }\n                let userName= decodedToken.userGroup !== 'GUEST'? decodedToken.userName : '';\n                if (userName){\n                    return false;\n                }\n                else{\n                    return true;\n                }\n            }\n            catch(e){\n                console.error(\"***SLSP*** an error occured: userService.isGuest:\");\n                console.error(e.message);\n            }\n        }\n    \n        return {\n            isGuest: isGuest,\n            getDecodedToken: getDecodedToken\n        };\n    }]\n    ","import {bcuLangSwitchModule} from './bcu-lang-switch/bcu-lang-switch.module';\nimport {slspIllSigninOrderLoggedOutModule} from './slsp-ill-signin-order-logged-out/slsp-ill-signin-order-logged-out.module';\n\nexport const slspUserAreaExpandableAfterModule = angular\n    .module('slspUserAreaExpandableAfterModule', [])\n        .component('prmUserAreaExpandableAfter',  {\n            bindings: {parentCtrl: '<'},\n            template: `<bcu-lang-switch-component after-ctrl=\"$ctrl\"></bcu-lang-switch-component><slsp-ill-signin-order-logged-out-component after-ctrl=\"$ctrl\"></slsp-ill-signin-order-logged-out-component><slsp-user-area-expandable-after parent-ctrl=\"$parent.$ctrl\"></slsp-user-area-expandable-after>`,\n        });\n\nslspUserAreaExpandableAfterModule.requires.push(bcuLangSwitchModule.name);\nslspUserAreaExpandableAfterModule.requires.push(slspIllSigninOrderLoggedOutModule.name);","require('./js/slsp-archives-htgi.module.js')\nmodule.exports = 'slspArchivesHtgi'\n","angular\n    .module('slspArchivesHtgi', [])\n\n    // \"how to get it\" section for resources of archives MFA, TMA (CMI STAR)\n\n    .controller('ArchivesHtgiController', [function () {\n\n        this.$onInit = function () {\n            try{\n                if(!this.parentCtrl.item.pnx.display.source || this.parentCtrl.item.pnx.display.source.length === 0){\n                    return;\n                }\n                this.source = this.parentCtrl.item.pnx.display.source[0];\n                // CMI STAR sources\n                if(this.source === 'ETH_MaxFrischArchiv' || this.source === 'ETH_ThomasMannArchiv'){\n                    // hide content of htgi section\n                    let section = document.getElementById('full-view-container');\n                    section.classList.add('slsp-archives-hide');\n\n                    // get guid of CMIStar\n                    let sourceid = this.parentCtrl.item.pnx.control.originalsourceid[0];\n                    let guid = sourceid.substring(sourceid.lastIndexOf(':') + 1);\n\n                    // different sources: concat url\n                    if(this.source === 'ETH_ThomasMannArchiv'){\n                        this.url = 'http://www.online.tma.ethz.ch/home/#/content/' + guid;\n                        // only for test\n                        //this.label = 'Detailed information in Thomas Mann-Archiv Online (metadata only)';\n                    }\n                    else if (this.source === 'ETH_MaxFrischArchiv') {\n                        this.url = 'http://maxfrischarchiv-online.ethz.ch/home/#/content/' + guid;\n                        // only for test\n                        //this.label = 'Request via Max Frisch-Archiv Online';\n                    }\n                }\n            }\n            catch(e){\n                console.error(\"***SLSP*** an error occured: ArchivesHtgiController\\n\\n\");\n                console.error(e.message);\n            }\n        }\n    }])\n\n    .component('almaHtgiSvcAfter', {\n        bindings: { parentCtrl: '<' },\n        controller: 'ArchivesHtgiController',\n        template: `\n        <div class=\"slsp-archives\" ng-if=\"$ctrl.url\">\n            <md-list layout=\"column\" class=\"separate-list-items md-primoExplore-theme layout-column\" role=\"list\">\n                <md-list-item role=\"listitem\" ng-href=\"{{$ctrl.url}}\" target=\"_blank\">\n                      <span>{{('customized.archives.' + $ctrl.source + '.linktext' | translate)}}</span>\n                    <span>{{$ctrl.label}}</span>\n                    <div class=\"md-secondary\">\n                        <prm-icon icon-type=\"svg\" svg-icon-set=\"primo-ui\" icon-definition=\"open-in-new\" class=\"layout-margin\"/>\n                    </div>\n                </md-list-item>\n            </md-list>\n            <div ng-if=\"$ctrl.source === 'ETH_ThomasMannArchiv'\" class=\"slsp-archives-additional-hint\">\n                <div>\n                    <span translate=\"customized.archives.ETH_ThomasMannArchiv.text1\">No request possible. The digitized item can be consulted in the Thomas Mann Archives reading room upon advance registration (</span>\n                    <a target=\"_blank\" rel=\"noopener\" ng-href=\"https://tma.ethz.ch/utils/kontakt.html\">\n                        <span translate=\"customized.archives.ETH_ThomasMannArchiv.linktext2\">Contact</span>\n                        <prm-icon external-link icon-type=\"svg\" svg-icon-set=\"primo-ui\" icon-definition=\"open-in-new\"></prm-icon>\n                    </a>\n                    <span translate=\"customized.archives.ETH_ThomasMannArchiv.text2\">).</span>\n                </div>\n            </div>\n            <div ng-if=\"$ctrl.source === 'ETH_MaxFrischArchiv'\" class=\"slsp-archives-additional-hint\">\n                <div>\n                    <span translate=\"customized.archives.ETH_MaxFrischArchiv.text1\">Informationen zu Bestellung und Benutzung siehe</span>\n                    <a target=\"_blank\" rel=\"noopener\" ng-href=\"http://maxfrischarchiv-online.ethz.ch/home/#/manual\">\n                        <span translate=\"customized.archives.ETH_MaxFrischArchiv.linktext2\">Bedienungshinweise</span>\n                        <prm-icon external-link icon-type=\"svg\" svg-icon-set=\"primo-ui\" icon-definition=\"open-in-new\"></prm-icon>\n                    </a>\n                    <span translate=\"customized.archives.ETH_MaxFrischArchiv.text2\">.</span>\n                </div>\n            </div>\n        </div><slsp-htgi-svc-after parent-ctrl=\"$parent.$ctrl\"></slsp-htgi-svc-after>\n        `\n    });\n","require('./js/slsp-archives-viewit.module.js')\nmodule.exports = 'slspArchivesViewit'\n","angular\n.module('slspArchivesViewit', [])\n\n    .component('prmSearchResultAvailabilityLineAfter', {\n        bindings: { parentCtrl: '<' },\n        controller: 'ArchivesAvailabilityLineController',\n        template:'<slsp-search-result-availability-line-after parent-ctrl=\"$parent.$ctrl\"></slsp-search-result-availability-line-after>'\n    })\n\n    .component('prmAlmaViewitAfter', {\n        bindings: { parentCtrl: '<' },\n        controller: 'ArchivesViewitController',\n        template: `\n        <div class=\"slsp-archives\" ng-if=\"$ctrl.url\">\n            <md-list layout=\"column\" class=\"separate-list-items md-primoExplore-theme layout-column\" role=\"list\">\n                <md-list-item role=\"listitem\" ng-href=\"{{$ctrl.url}}\" target=\"_blank\">\n                    <span>{{('customized.archives.' + $ctrl.source + '.linktext' | translate)}}</span>\n                    <span>{{$ctrl.label}}</span>\n                    <div class=\"md-secondary\">\n                        <prm-icon icon-type=\"svg\" svg-icon-set=\"primo-ui\" icon-definition=\"open-in-new\" class=\"layout-margin\"/>\n                    </div>\n                </md-list-item>\n            </md-list>\n            <div ng-if=\"$ctrl.source === 'ETH_Hochschularchiv'\" class=\"slsp-archives-additional-hint\">\n                <div>\n                    <span translate=\"customized.archives.ETH_Hochschularchiv.text1\">Informationen zu Bestellung und Benutzung siehe</span>\n                    <a target=\"_blank\" rel=\"noopener\" ng-href=\"http://archivdatenbank-online.ethz.ch/hsa/#/manual\">\n                        <span translate=\"customized.archives.ETH_Hochschularchiv.linktext2\">Bedienungshinweise</span>\n                        <prm-icon external-link icon-type=\"svg\" svg-icon-set=\"primo-ui\" icon-definition=\"open-in-new\"></prm-icon>\n                    </a>\n                    <span translate=\"customized.archives.ETH_Hochschularchiv.text2\">.</span>\n                </div>\n            </div>\n        </div><slsp-alma-viewit-after parent-ctrl=\"$parent.$ctrl\"></slsp-alma-viewit-after>\n        `\n        })\n\n    // viewit section for archives when there are only partial digitized items, e.g. \"ETH Hochschularchiv\" (CMI STAR)\n    .controller('ArchivesViewitController', ['$translate', function ($translate) {\n        this.$onInit = function () {\n            try{\n                if(!this.parentCtrl.item.pnx.display.source || this.parentCtrl.item.pnx.display.source.length === 0){\n                    return;\n                }\n                this.source = this.parentCtrl.item.pnx.display.source[0];\n                // CMI STAR sources\n                if(this.source === 'ETH_Hochschularchiv'){\n                    if(this.parentCtrl.item.delivery.GetIt1 && this.parentCtrl.item.delivery.GetIt1.length > 0 && this.parentCtrl.item.delivery.GetIt1[0].links && this.parentCtrl.item.delivery.GetIt1[0].links.length > 0){\n\n                        // there is an online resource: return and do nothing\n                        let aOnlineLink = this.parentCtrl.item.delivery.GetIt1[0].links.filter( l => {\n                            if(l.isLinktoOnline && l.link !== ''){\n                                return true;\n                            }\n                            return false;\n                        });\n                        if (aOnlineLink.length > 0) {\n                            return;\n                        }\n\n                        // there is no online resource\n                        // change section heading\n                        $translate('nui.getit.service_howtogetit').then((translation) => {\n                            let fullView = document.getElementById('fullView');\n                            angular.element(fullView.querySelector(\"h4[translate='nui.getit.service_viewit']\")).text(translation);\n                            angular.element(fullView.querySelector(\"#services-index span[translate='nui.getit.service_viewit']\")).text(translation);\n                        });\n\n                    }\n                    // hide content of viewit section\n                    let section = document.getElementById('full-view-container');\n                    section.classList.add('slsp-archives-hide');\n\n                    // get guid of CMIStar\n                    let sourceid = this.parentCtrl.item.pnx.control.originalsourceid[0];\n                    let guid = sourceid.substring(sourceid.lastIndexOf(':') + 1);\n\n                    // different sources: concat url\n                    if(this.source === 'ETH_Hochschularchiv'){\n                        this.url = 'http://archivdatenbank-online.ethz.ch/hsa/#/content/' + guid;\n                        // only for test\n                        //this.label = 'Bestellen über Hochschularchiv Online';\n                    }\n                }\n            }\n            catch(e){\n                console.error(\"***SLSP*** an error occured: ArchivesViewitController\\n\\n\");\n                console.error(e.message);\n            }\n        }\n    }])\n\n    // change availability line, if there is no digitization\n    .controller('ArchivesAvailabilityLineController', ['$translate', function ($translate) {\n        this.$onInit = function () {\n            try{\n                this.changeButton = false;\n                if(!this.parentCtrl.result.pnx.display.source || this.parentCtrl.result.pnx.display.source.length === 0){\n                    return;\n                }\n                this.source = this.parentCtrl.result.pnx.display.source[0];\n                if(!(this.source === 'ETH_Hochschularchiv'))return;\n                if(!this.parentCtrl.result.delivery.GetIt1 || this.parentCtrl.result.delivery.GetIt1.length == 0 || !this.parentCtrl.result.delivery.GetIt1[0].links || this.parentCtrl.result.delivery.GetIt1[0].links.length == 0)return;\n\n                let aOnlineLink = this.parentCtrl.result.delivery.GetIt1[0].links.filter( l => {\n                    if(l.isLinktoOnline && l.link !== ''){\n                        return true;\n                    }\n                    return false;\n                });\n                if (aOnlineLink.length === 0) {\n                    // there is no online resource\n                    $translate('delivery.code.no_inventory').then((translation) => {\n                        this.changeButton = true;\n                        this.changeButtonText = translation;\n                    });\n                    let availabilityLine = this.parentCtrl.$element[0];\n                    if(availabilityLine) {\n                        availabilityLine.classList.add('slsp-hsa-no-online');\n                    }\n                }\n            }\n            catch(e){\n                console.error(\"***SLSP*** an error occured: ArchivesAvailabilityLineController\\n\\n\");\n                console.error(e.message);\n            }\n        }\n\n        this.$doCheck = function () {\n            try{\n                if (this.changeButton){\n                    let availabilityLine = this.parentCtrl.$element[0];\n                    let button = availabilityLine.querySelector('.availability-status');\n                    if(angular.element(button) && angular.element(button).length > 0){\n                        angular.element(button).html(this.changeButtonText);\n                        this.changeButton = false;\n                        this.changeButtonText = '';\n                    }\n                }\n            }\n            catch(e){\n                console.error(\"***ETH*** an error occured: ArchivesAvailabilityLineController $doCheck\\n\\n\");\n                console.error(e.message);\n            }\n        }\n    }])\n","require('./js/slsp-http-intercept-pickup-information.module.js')\nmodule.exports = 'slspHttpInterceptPickupInformation'","export const slspHttpInterceptPickupInformation = angular.module('slspHttpInterceptPickupInformation', ['ng'])\n    .config(['$httpProvider', ($httpProvider) => {\n        $httpProvider.interceptors.push(['$q', ($q) => {\n            return {\n                'request': (request) => {\n                    return request\n                },\n                'requestError': (request) => {\n                    return $q.reject(request)\n                },\n                'responseError': (response) => {\n                    return $q.reject(response)\n                },\n                'response': (response) => {\n                    try {                        \n                        if (/primaws\\/rest\\/pub\\/ngrs\\/ngrsPickupInformationUrl/.test(response.config.url)) {                            \n                            //get userGroup from JWT \n                            let userGroup = angular.element(document.querySelector('primo-explore')).controller('primo-explore').userSessionManagerService.jwtUtilService.getDecodedToken().userGroup;\n\n                            //list of user groups to change delivery for\n                            if (['91','92'].includes(userGroup)) {\n                                response.data.personalDelivery = 'None';\n                            }\n                        }\n                     \n                    } catch (error) {\n                        console.log(error)\n                    }\n                    return response\n                }\n            }\n        }])\n    }])\n","require('./js/slsp-http-intercept-requests.module.js')\nmodule.exports = 'slspHttpInterceptRequests'","export const slspHttpInterceptRequests = angular.module('slspHttpInterceptRequests', ['ng'])\n    .config(['$httpProvider', ($httpProvider) => {\n        $httpProvider.interceptors.push(['$q', ($q) => {\n            return {\n                'request': (request) => {\n                    return request\n                },\n                'requestError': (request) => {\n                    return $q.reject(request)\n                },\n                'responseError': (response) => {\n                    return $q.reject(response)\n                },\n                'response': (response) => {\n                    try {\n                        if (/primaws\\/rest\\/priv\\/myaccount\\/requests/.test(response.config.url)) {\n                            if (response.status == 200 && response.data.status == \"ok\") {\n                                let interfaceLanguage = angular.element(document.querySelector('primo-explore')).injector().get('$rootScope').$$childHead.$ctrl.userSessionManagerService.getUserLanguage() ||\n                                    window.appConfig['primo-view']['attributes-map'].interfaceLanguage\n\n                                let list_of_hold_states = {\n                                    'en': [\"in transit\", \"in process\", \"on hold shelf\"],\n                                    'de': [\"transfer\", \"in bearbeitung\", \"bereitgestellt\"],\n                                    'fr': [\"en cours de transfert\", \"en cours\", \"sur le rayon des réservations\"],\n                                    'it': [\"in transito\", \"in processo\", \"scaffale prenotazioni\"]\n                                }\n                                let list_of_photocopy_states = {\n                                    'en': [\"in transit\", \"in process\"],\n                                    'de': [\"transfer\", \"in bearbeitung\"],\n                                    'fr': [\"en cours de transfert\", \"en cours\"],\n                                    'it': [\"in transito\", \"in processo\"]\n                                }\n                                if (Object.keys(list_of_hold_states).includes(interfaceLanguage)) {\n                                    let list_of_hold_states_regexp = RegExp(list_of_hold_states[interfaceLanguage].map(m => m.toLowerCase()).join('|'))\n                                    // rewrite cancellable holds\n                                    response.data.data.holds.hold.map((m) => {\n                                        if (list_of_hold_states_regexp.test(m.holdstatus.toLowerCase())) {\n                                            m.cancel = 'N'\n                                        }\n                                    })\n                                }\n                                else {\n                                    throw `No mapping found for holds: ${interfaceLanguage}`\n                                }\n\n                                if (Object.keys(list_of_photocopy_states).includes(interfaceLanguage)) {\n                                    let list_of_photocopy_states_regexp = RegExp(list_of_photocopy_states[interfaceLanguage].map(m => m.toLowerCase()).join('|'))\n                                    // rewrite cancellable photocopies\n                                    response.data.data.photocopies.photocopy.map((m) => {\n                                        if (list_of_photocopy_states_regexp.test(m.requeststatus.toLowerCase())) {\n                                            m.cancel = 'N'\n                                        }\n                                    })\n                                }\n                                \n                                else {\n                                    throw `No mapping found for photocopies: ${interfaceLanguage}`\n                                }\n                            }\n                        }\n\n                        \n                    }\n                    catch (error) {\n                        console.error(error);\n                    }\n                    return response;\n                }\n            }\n        }])\n    }])\n","require('./js/slsp-ill-signin-order-alert.module.js')\nmodule.exports = 'slspIllSigninOrderAlert'","//--------ILL Signin Order -  if Alert Message ---------------------------------------\n\nangular\n    .module('slspIllSigninOrderAlert', [])\n\n    .controller('AlertMsgController', ['$scope', function ($scope) {\n        var vm = this;\n        vm.getAlert = getAlert\n\n        function getAlert() {\n            var ga = vm.parentCtrl.almaHowToGetitService.reqAlert._htmlMsg;\n            var myEl2 = angular.element(document.querySelector('primo-explore'));\n\n            if (ga.length > 0) {\n                return myEl2.addClass('alert');\n\n            }\n            else {\n\n                return myEl2.removeClass('alert');\n\n            }\n        }\n\n    }])\n\n    .component('almaHowovpAfter', {\n        bindings: { parentCtrl: '<' },\n        controller: 'AlertMsgController',\n        template: '<div style=\"display:none\">{{$ctrl.getAlert()}}</div><slsp-howovp-after parent-ctrl=\"$parent.$ctrl\"></slsp-howovp-after>'\n    });\n","require('./unige-non-circulating-label/unige-non-circulating-label.module.js')\nmodule.exports = 'unigeNonCirculatingLabel'","angular\n    .module('unigeNonCirculatingLabel', [])\n    .controller('unigeNonCirculatingLabelController', ['$scope','$translate', function ($scope, $translate) {\n        var vm = this;\n        this.$onInit = function() {\n            // Prepare messages to be displayed\n            var displayMessage;\n            $translate('nui.message.itemlogin').then((translation) => {if (angular.isDefined(translation)){displayMessage = translation}});\n            var displayNotLoanable;\n            $translate('unige_non_circulating').then((translation) => {if (angular.isDefined(translation)){displayNotLoanable = '<div class=\"unige-closed-txt\">' + translation + '</div>'}});\n            $scope.$watch(\n                function () {\n                    if (angular.isDefined(vm.parentCtrl.loc) && angular.isDefined(vm.parentCtrl.loc.items)) {\n                        // As soon as there are location details, watch for changes in the list of location items\n                        return vm.parentCtrl.loc.items;\n                    }\n                    return 0;\n                },\n                function () {\n                    // This listener function is called both during initial run and whenever the watched variable changes.\n                    if (angular.isDefined(vm.parentCtrl.loc)){\n                        // Prevent the listener from running when the locations list hasn't been defined yet (initial run)\n\n                             // If a user is connected, the loanable status display is correct in case of loanable items \n                             if (vm.parentCtrl.isLoggedIn()){\n                                 // user logged in: check the status dispayed\n                                 // console.log('unige_non_circulating label : ' + displayNotLoanable);\n                                 // console.log('User is logged in: check for loanable status');                            \n                                 var itemLocations = vm.parentCtrl.loc.items;                             \n                                 for(var i = 0; i < itemLocations.length; i++){\n                                     // console.log('itemLocations ' + i + ' : ' + itemLocations[i].itemFields[1]);\n                                     if ((typeof itemLocations[i].itemFields[1] !== \"undefined\") && ((itemLocations[i].itemFields[1] == null) || (itemLocations[i].itemFields[1] == '') || (itemLocations[i].itemFields[1] == ' '))){\n                                         // itemLocation empty -> dsplay non loanable message\n                                         // console.log('itemLocations ' + i + ' empty');\n                                         itemLocations[i].itemFields[1] = displayNotLoanable;\n                                     } else {\n                                         // itemLocation not empty -> do nothing\n                                         // console.log('itemLocations ' + i + ' not empty');\n                                     }\n                                 }\n                             } else {                    \n                                 // If the user is not logged in, Primo use the \"not loanable\" label even if this may not be the case.\n                                 // Replace that status with a note asking users to log in to get more info.\n                                 // console.log('User is not logged in : Found some holdings to correct');\n                                 var itemLocations = vm.parentCtrl.loc.items;\n                                 for(var i = 0; i < itemLocations.length; i++){\n                                    itemLocations[i].itemFields[1] = displayMessage;\n                                 }\n                             }\n                         }\n                    }\n            );\n        }\n    }])\n    .component('slspLocationItemsAfter', {\n        bindings: {parentCtrl: `<`},\n        controller: 'unigeNonCirculatingLabelController',\n        template: ''  \n    });","export const unigeBibNewsConfig = function(){\n    return {\n        label: {\n            heading: {\n                de: 'Aktuelles',\n                en: 'Library News',\n                fr: 'Actus de la Bibliothèque UNIGE',\n                it: 'Notizie dalla biblioteca'\n            },\n            more:{\n                de: 'Weitere Informationen',\n                en: 'More information',\n                fr: 'Voir plus',\n                it: 'Più informazioni'\n            },\n            all:{\n                de: 'Alle Meldungen ansehen',\n                en: 'All news',\n                fr: 'Toutes les actualités',\n                it: 'Tutte le notizie'\n            }\n        }\n    }\n}\n","export class unigeBibNewsController {\n\n    constructor( $sce, unigeConfigService, unigeBibNewsConfig, unigeBibNewsService ) {\n        this.$sce = $sce;\n        this.unigeConfigService = unigeConfigService;\n        this.config = unigeBibNewsConfig;\n        this.unigeBibNewsService = unigeBibNewsService;\n        this.lang = this.unigeConfigService.getLanguage();\n    }\n\n    $onInit() {\n        try{\n            this.unigeBibNewsService.getNews(this.lang)\n                .then((data) => {\n                    try{\n                        this.allNewsUrl = 'https://www.unige.ch/biblio/fr/actus/';\n                        this.news = data.entries;\n                    }\n                    catch(e){\n                        console.error(\"***UNIGE*** an error occured: unigeBibNewsController unigeBibNewsService.getNews(): \\n\\n\");\n                        console.error(e.message);\n                    }\n                });\n        }\n        catch(e){\n            console.error(\"***UNIGE*** an error occured: unigeBibNewsController.onInit()\\n\\n\");\n            console.error(e.message);\n        }\n    }\n    decodeHtmlEntities(text) {\n        var div = document.createElement('div');\n        div.innerHTML = text;\n        return this.$sce.trustAsHtml(div.textContent);\n \t\t//return  text ? String(text).replace(/&nbsp;/gm, ' ') : '';\n    };\n}\n\nunigeBibNewsController.$inject = ['$sce', 'unigeConfigService', 'unigeBibNewsConfig', 'unigeBibNewsService' ];\n","/**\n* @ngdoc service\n* @name unigeBibNewsService\n*\n* @description\n* Service to get UNIGE Library News\n*\n*\n* <b>Used by</b><br>\n** Module {@link UNIGE.unigeBibNewsModule}<br>\n*\n*\n */\n\nexport const unigeBibNewsService = ['$http', '$sce', function($http, $sce){\n\n    function getNews(lang){\n        if(!lang){\n            lang = 'en';\n        }\n        if(lang == 'fr' || lang == 'it'){\n            lang = 'en';\n        }\n\n        let url = 'https://dis.unige.ch/slsp/unige_bib_news.php';\n        $sce.trustAsResourceUrl(url);\n\n        return $http.get(url,{headers:{ \"X-From-ExL-API-Gateway\": undefined }})\n            .then(\n                function(response){\n                    console.log('lang = ' + lang);\n                    return response.data;\n                },\n                function(httpError){\n                    let error = \"***UNIGE*** an error occured: unigeBibNewsService.get(): \" + httpError.status;\n                    if (httpError.data && httpError.data.errorMessage) {\n                        error += ' - ' + httpError.data.errorMessage;\n                        \n                    }\n                    console.error(error);\n                    return null;\n                }\n            );\n    }\n\n\n    return {\n        getNews: getNews\n    };\n}];\n","/**\n* @ngdoc service\n* @key unigeConfigService\n*\n* @description\n*\n* Service to get and handle informations from a module config:\n* - getLabel()\n* - getUrl()\n* - getLanguage()\n*\n */\nexport const unigeConfigService = ['$rootScope', function( $rootScope ){\n\n    function getLanguage(){\n        try{\n            let sms = $rootScope.$$childHead.$ctrl.userSessionManagerService;\n            if (!sms) {\n                console.error(\"***UNIGE*** unigeConfigService: userSessionManagerService not available\");\n                return 'en';\n            }\n            else{\n                return sms.getUserLanguage() || $window.appConfig['primo-view']['attributes-map'].interfaceLanguage;\n            }\n        }\n        catch(e){\n            console.error(\"***UNIGE*** an error occured: unigeConfigService.getLanguage():\");\n            console.error(e.message);\n            return 'en';\n        }\n    }\n\n\n    function getLabel(config, key) {\n        try{\n            let lang = this.getLanguage();\n            if (!config.label[key]) {\n                console.error(\"***UNIGE*** unigeConfigService.getLabel: '\" + key + \"' not in config\");\n                return key;\n            }\n            if(config.label[key][lang]){\n                return config.label[key][lang];\n            }\n            else{\n                return config.label[key]['en'];\n            }\n        }\n        catch(e){\n            console.error(\"***UNIGE*** an error occured: unigeConfigService.getLabel():\");\n            console.error(e.message);\n            return '';\n        }\n    }\n\n    function getUrl(config, key) {\n        try{\n            let lang = this.getLanguage();\n            if (!config.url[key]) {\n                console.error(\"***UNIGE*** unigeConfigService.getUrl: '\" + key + \"' not in config\");\n                return '';\n            }\n            if(config.url[key][lang]){\n                return config.url[key][lang];\n            }\n            else{\n                return config.url[key]['en'];\n            }\n        }\n        catch(e){\n            console.error(\"***UNIGE*** an error occured: unigeConfigService.getUrl():\");\n            console.error(e.message);\n            return '';\n        }\n    }\n\n    return {\n        getLanguage: getLanguage,\n        getLabel: getLabel,\n        getUrl: getUrl\n    };\n}]\n","import {unigeConfigService} from './module/unige-config.service';\nimport {unigeBibNewsConfig} from './module/unige-bib-news.config';\nimport {unigeBibNewsController} from './module/unige-bib-news.controller';\nimport {unigeBibNewsHtml} from './module/unige-bib-news.html';\nimport {unigeBibNewsService} from './module/unige-bib-news.service';\n\nexport const unigeBibNewsModule = angular\n    .module('unigeBibNewsModule', [])\n        .factory('unigeConfigService', unigeConfigService)\n        .factory('unigeBibNewsConfig', unigeBibNewsConfig)\n        .factory('unigeBibNewsService', unigeBibNewsService)\n        .controller('unigeBibNewsController', unigeBibNewsController)\n        .component('unigeBibNewsComponent',{\n            bindings: {afterCtrl: '<'},\n            controller: 'unigeBibNewsController',\n            template: unigeBibNewsHtml\n        })\n\nunigeBibNewsModule.requires.push(unigeBibNewsModule.name);\n"],"sourceRoot":"/source/"}